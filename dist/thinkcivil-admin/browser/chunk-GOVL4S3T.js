import{a as qe}from"./chunk-L3QO6DVW.js";import{a as Ae,b as Qt,c as It,d as Ht}from"./chunk-4TJAJ76Z.js";import{a as Et,b as Dt}from"./chunk-LMM7AXPU.js";import{b as Pt,c as ve}from"./chunk-55DL4JCR.js";import{a as Tt,b as kt,c as ke,d as Ee,e as De,f as Qe,g as Ie}from"./chunk-4TA4R672.js";import{a as G,c as $}from"./chunk-GHQD5XIY.js";import{c as N,f as $e}from"./chunk-UG3TAOCT.js";import{a as Ce}from"./chunk-T5SKTLKE.js";import{a as W,b as K}from"./chunk-ANLVYVIZ.js";import{a as Pe,b as Se}from"./chunk-KLEPB37Q.js";import"./chunk-7RWCIHFI.js";import{a as At,b as Ft,d as Fe}from"./chunk-E24WOTLI.js";import"./chunk-U6CKJMGU.js";import"./chunk-CRTYOTUM.js";import{b as xe,c as yt,e as be,h as H}from"./chunk-OBP7X3GA.js";import"./chunk-GL2RTCLG.js";import{a as we,b as Te}from"./chunk-BFQVRRBQ.js";import"./chunk-7G2NQBXL.js";import{g as Ot}from"./chunk-Y4AHRI4W.js";import{a as Oe,b as ye}from"./chunk-XMRX5FRA.js";import{A as Ge,K as U,L as Me,N as j,_ as St,ea as We,ha as wt,s as pt}from"./chunk-7XSJTIVU.js";import{d as B}from"./chunk-ZWY6WOSF.js";import{A as Mt,b as gt,d as P,f as fe,g as ut,h as mt,k as _t,l as ft,n as ht,o as xt,r as bt,x as Ct,y as vt,z as he}from"./chunk-MUJPFQ6Z.js";import{$b as z,Ba as le,Bc as oe,Cb as q,Cc as ae,Db as d,Fb as k,Ha as y,Hc as ct,Ib as R,Jb as at,Kb as rt,Lb as st,Mb as r,Nb as o,Ob as x,Oc as ue,Pc as me,Sb as v,Sc as dt,Ub as f,Vb as p,Vc as _e,_b as V,a as Ze,ac as L,b as Je,cb as I,da as se,dc as pe,e as Nt,ea as Z,ec as s,f as re,fb as l,fc as Q,ga as J,gc as O,hc as ne,ic as lt,ja as M,jc as Be,ka as nt,kb as ce,kc as Ne,la as it,lc as He,m as et,o as tt,oc as ge,qc as T,ra as u,rb as F,rc as E,sa as m,sb as te,sc as Ue,ta as ee,tc as ie,ua as ot,ub as de,xb as _,yc as je}from"./chunk-SZ6SDWKT.js";function Ut(a,t){if(a&1&&(r(0,"mat-option",17),s(1),o()),a&2){let e=t.$implicit;d("value",e),l(),O(" ",e," ")}}function jt(a,t){if(a&1){let e=v();r(0,"mat-form-field",14)(1,"mat-select",16,0),f("selectionChange",function(i){u(e);let c=p(2);return m(c._changePageSize(i.value))}),rt(3,Ut,2,2,"mat-option",17,at),o(),r(5,"div",18),f("click",function(){u(e);let i=pe(2);return m(i.open())}),o()()}if(a&2){let e=p(2);d("appearance",e._formFieldAppearance)("color",e.color),l(),d("value",e.pageSize)("disabled",e.disabled)("aria-labelledby",e._pageSizeLabelId)("panelClass",e.selectConfig.panelClass||"")("disableOptionCentering",e.selectConfig.disableOptionCentering),l(2),st(e._displayedPageSizeOptions)}}function Gt(a,t){if(a&1&&(r(0,"div",15),s(1),o()),a&2){let e=p(2);l(),Q(e.pageSize)}}function $t(a,t){if(a&1&&(r(0,"div",3)(1,"div",13),s(2),o(),_(3,jt,6,7,"mat-form-field",14)(4,Gt,2,1,"div",15),o()),a&2){let e=p();l(),q("id",e._pageSizeLabelId),l(),O(" ",e._intl.itemsPerPageLabel," "),l(),R(e._displayedPageSizeOptions.length>1?3:-1),l(),R(e._displayedPageSizeOptions.length<=1?4:-1)}}function Wt(a,t){if(a&1){let e=v();r(0,"button",19),f("click",function(){u(e);let i=p();return m(i._buttonClicked(0,i._previousButtonsDisabled()))}),ee(),r(1,"svg",8),x(2,"path",20),o()()}if(a&2){let e=p();d("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("disabled",e._previousButtonsDisabled())("tabindex",e._previousButtonsDisabled()?-1:null),q("aria-label",e._intl.firstPageLabel)}}function Kt(a,t){if(a&1){let e=v();r(0,"button",21),f("click",function(){u(e);let i=p();return m(i._buttonClicked(i.getNumberOfPages()-1,i._nextButtonsDisabled()))}),ee(),r(1,"svg",8),x(2,"path",22),o()()}if(a&2){let e=p();d("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("disabled",e._nextButtonsDisabled())("tabindex",e._nextButtonsDisabled()?-1:null),q("aria-label",e._intl.lastPageLabel)}}var Ve=(()=>{class a{changes=new et;itemsPerPageLabel="Items per page:";nextPageLabel="Next page";previousPageLabel="Previous page";firstPageLabel="First page";lastPageLabel="Last page";getRangeLabel=(e,n,i)=>{if(i==0||n==0)return`0 of ${i}`;i=Math.max(i,0);let c=e*n,g=c<i?Math.min(c+n,i):c+n;return`${c+1} \u2013 ${g} of ${i}`};static \u0275fac=function(n){return new(n||a)};static \u0275prov=se({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function Yt(a){return a||new Ve}var Xt={provide:Ve,deps:[[new nt,new it,Ve]],useFactory:Yt},Zt=50;var Jt=new J("MAT_PAGINATOR_DEFAULT_OPTIONS"),Ke=(()=>{class a{_intl=M(Ve);_changeDetectorRef=M(je);_formFieldAppearance;_pageSizeLabelId=M(pt).getId("mat-paginator-page-size-label-");_intlChanges;_isInitialized=!1;_initializedStream=new tt(1);color;get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(e||0,0),this._changeDetectorRef.markForCheck()}_pageIndex=0;get length(){return this._length}set length(e){this._length=e||0,this._changeDetectorRef.markForCheck()}_length=0;get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(e||0,0),this._updateDisplayedPageSizeOptions()}_pageSize;get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(n=>ae(n,0)),this._updateDisplayedPageSizeOptions()}_pageSizeOptions=[];hidePageSize=!1;showFirstLastButtons=!1;selectConfig={};disabled=!1;page=new le;_displayedPageSizeOptions;initialized=this._initializedStream;constructor(){let e=this._intl,n=M(Jt,{optional:!0});if(this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),n){let{pageSize:i,pageSizeOptions:c,hidePageSize:g,showFirstLastButtons:h}=n;i!=null&&(this._pageSize=i),c!=null&&(this._pageSizeOptions=c),g!=null&&(this.hidePageSize=g),h!=null&&(this.showFirstLastButtons=h)}this._formFieldAppearance=n?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){this.hasNextPage()&&this._navigate(this.pageIndex+1)}previousPage(){this.hasPreviousPage()&&this._navigate(this.pageIndex-1)}firstPage(){this.hasPreviousPage()&&this._navigate(0)}lastPage(){this.hasNextPage()&&this._navigate(this.getNumberOfPages()-1)}hasPreviousPage(){return this.pageIndex>=1&&this.pageSize!=0}hasNextPage(){let e=this.getNumberOfPages()-1;return this.pageIndex<e&&this.pageSize!=0}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){let n=this.pageIndex*this.pageSize,i=this.pageIndex;this.pageIndex=Math.floor(n/e)||0,this.pageSize=e,this._emitPageEvent(i)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=this.pageSizeOptions.length!=0?this.pageSizeOptions[0]:Zt),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),this._displayedPageSizeOptions.indexOf(this.pageSize)===-1&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,n)=>e-n),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}_navigate(e){let n=this.pageIndex;e!==n&&(this.pageIndex=e,this._emitPageEvent(n))}_buttonClicked(e,n){n||this._navigate(e)}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=F({type:a,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[2,"pageIndex","pageIndex",ae],length:[2,"length","length",ae],pageSize:[2,"pageSize","pageSize",ae],pageSizeOptions:"pageSizeOptions",hidePageSize:[2,"hidePageSize","hidePageSize",oe],showFirstLastButtons:[2,"showFirstLastButtons","showFirstLastButtons",oe],selectConfig:"selectConfig",disabled:[2,"disabled","disabled",oe]},outputs:{page:"page"},exportAs:["matPaginator"],decls:14,vars:14,consts:[["selectRef",""],[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","disabled","tabindex"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","disabled","tabindex"],[1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],[1,"mat-mdc-paginator-touch-target",3,"click"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(n,i){n&1&&(r(0,"div",1)(1,"div",2),_(2,$t,5,4,"div",3),r(3,"div",4)(4,"div",5),s(5),o(),_(6,Wt,3,5,"button",6),r(7,"button",7),f("click",function(){return i._buttonClicked(i.pageIndex-1,i._previousButtonsDisabled())}),ee(),r(8,"svg",8),x(9,"path",9),o()(),ot(),r(10,"button",10),f("click",function(){return i._buttonClicked(i.pageIndex+1,i._nextButtonsDisabled())}),ee(),r(11,"svg",8),x(12,"path",11),o()(),_(13,Kt,3,5,"button",12),o()()()),n&2&&(l(2),R(i.hidePageSize?-1:2),l(3),O(" ",i._intl.getRangeLabel(i.pageIndex,i.pageSize,i.length)," "),l(),R(i.showFirstLastButtons?6:-1),l(),d("matTooltip",i._intl.previousPageLabel)("matTooltipDisabled",i._previousButtonsDisabled())("disabled",i._previousButtonsDisabled())("tabindex",i._previousButtonsDisabled()?-1:null),q("aria-label",i._intl.previousPageLabel),l(3),d("matTooltip",i._intl.nextPageLabel)("matTooltipDisabled",i._nextButtonsDisabled())("disabled",i._nextButtonsDisabled())("tabindex",i._nextButtonsDisabled()?-1:null),q("aria-label",i._intl.nextPageLabel),l(3),R(i.showFirstLastButtons?13:-1))},dependencies:[H,G,N,U,W],styles:[`.mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color, var(--mat-sys-on-surface));background-color:var(--mat-paginator-container-background-color, var(--mat-sys-surface));font-family:var(--mat-paginator-container-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-paginator-container-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-paginator-container-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-paginator-container-text-weight, var(--mat-sys-body-small-weight));letter-spacing:var(--mat-paginator-container-text-tracking, var(--mat-sys-body-small-tracking));--mat-form-field-container-height:var(--mat-paginator-form-field-container-height, 40px);--mat-form-field-container-vertical-padding:var(--mat-paginator-form-field-container-vertical-padding, 8px)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size, var(--mat-sys-body-small-size))}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size, 56px)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button[aria-disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}@media(forced-colors: active){.mat-mdc-icon-button[aria-disabled] .mat-mdc-paginator-icon,.mat-mdc-paginator-icon{fill:currentColor}.mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}.mat-mdc-paginator-range-actions .mat-mdc-icon-button[aria-disabled]{color:GrayText}}.mat-mdc-paginator-touch-target{display:var(--mat-paginator-touch-target-display, block);position:absolute;top:50%;left:50%;width:84px;height:48px;background-color:rgba(0,0,0,0);transform:translate(-50%, -50%);cursor:pointer}
`],encapsulation:2,changeDetection:0})}return a})(),qt=(()=>{class a{static \u0275fac=function(n){return new(n||a)};static \u0275mod=te({type:a});static \u0275inj=Z({providers:[Xt],imports:[j,$,K,Ke]})}return a})();var Ye=class{_document;_textarea;constructor(t,e){this._document=e;let n=this._textarea=this._document.createElement("textarea"),i=n.style;i.position="fixed",i.top=i.opacity="0",i.left="-999em",n.setAttribute("aria-hidden","true"),n.value=t,n.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(n)}copy(){let t=this._textarea,e=!1;try{if(t){let n=this._document.activeElement;t.select(),t.setSelectionRange(0,t.value.length),e=this._document.execCommand("copy"),n&&n.focus()}}catch{}return e}destroy(){let t=this._textarea;t&&(t.remove(),this._textarea=void 0)}},Vt=(()=>{class a{_document=M(ct);constructor(){}copy(e){let n=this.beginCopy(e),i=n.copy();return n.destroy(),i}beginCopy(e){return new Ye(e,this._document)}static \u0275fac=function(n){return new(n||a)};static \u0275prov=se({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var on=new J("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{let a=M(We);return()=>a.scrollStrategies.reposition()}});function an(a){return()=>a.scrollStrategies.reposition()}var rn={provide:on,deps:[We],useFactory:an};var zt=(()=>{class a{static \u0275fac=function(n){return new(n||a)};static \u0275mod=te({type:a});static \u0275inj=Z({providers:[rn],imports:[wt,$e,Ge,St,$e,Ge]})}return a})();var Lt=Nt(Ht());var hn=["addTagDialogTemplate"],xn=["tagSearchInput"],bn=()=>[0,1,2,3];function Cn(a,t){if(a&1){let e=v();r(0,"button",25),f("click",function(){u(e);let i=p(2);return m(i.clearAllQuestions())}),r(1,"mat-icon"),s(2,"clear_all"),o(),s(3," Clear All "),o()}}function vn(a,t){if(a&1){let e=v();r(0,"div",22)(1,"button",23),f("click",function(){u(e);let i=p();return m(i.addQuestion())}),r(2,"mat-icon"),s(3,"add_circle"),o(),s(4," Add Question "),o(),_(5,Cn,4,0,"button",24),o()}if(a&2){let e=p();l(5),d("ngIf",e.questions.length>0)}}function Mn(a,t){if(a&1){let e=v();r(0,"div",30)(1,"mat-icon",31),s(2,"cloud_upload"),o(),r(3,"h4"),s(4,"Upload Questions from File"),o(),r(5,"p"),s(6,"Drag & drop a TXT file here, or click to browse"),o(),r(7,"p",32)(8,"strong"),s(9,"Supported format:"),o(),x(10,"br"),r(11,"code"),s(12," Q1E. [English Question] A. [A] B. [B] C. [C] D. [D] DESC. [Description] CANS. [Answer]"),x(13,"br"),s(14," Q1H. [Hindi Question] A. [A] B. [B] C. [C] D. [D] DESC. [Hindi Description] "),o()(),r(15,"input",33,1),f("change",function(i){u(e);let c=p(2);return m(c.onFileSelected(i))}),o(),r(17,"button",34),f("click",function(){u(e);let i=pe(16);return m(i.click())}),r(18,"mat-icon"),s(19,"attach_file"),o(),s(20," Browse Files "),o()()}}function On(a,t){a&1&&(r(0,"div",35),x(1,"mat-spinner",36),r(2,"p"),s(3,"Processing file..."),o()())}function yn(a,t){if(a&1){let e=v();r(0,"div",26)(1,"div",27),f("dragover",function(i){u(e);let c=p();return m(c.onDragOver(i))})("dragleave",function(i){u(e);let c=p();return m(c.onDragLeave(i))})("drop",function(i){u(e);let c=p();return m(c.onDrop(i))}),_(2,Mn,21,0,"div",28)(3,On,4,0,"div",29),o()()}if(a&2){let e=p();l(),k("drag-over",e.isDragOver()),l(),d("ngIf",!e.fileUploadLoading()),l(),d("ngIf",e.fileUploadLoading())}}function Pn(a,t){if(a&1){let e=v();r(0,"button",61),f("click",function(){u(e);let i=p().index,c=p(2);return m(c.removeQuestion(i))}),r(1,"mat-icon"),s(2,"delete"),o()()}}function Sn(a,t){if(a&1){let e=v();r(0,"button",62),f("click",function(){u(e);let i=p().index,c=p(2);return m(c.clearTagSearch(i))}),r(1,"mat-icon"),s(2,"close"),o()()}}function wn(a,t){if(a&1&&(r(0,"mat-option",63)(1,"div",64)(2,"mat-icon"),s(3,"search_off"),o(),r(4,"span"),s(5),o()()()),a&2){let e=p().index,n=p(2);l(5),O('No tags found matching "',n.tagSearchQuery[e],'"')}}function Tn(a,t){a&1&&(r(0,"span",69)(1,"mat-icon"),s(2,"star"),o(),s(3," Exact match "),o())}function kn(a,t){if(a&1&&(r(0,"mat-option",65)(1,"div",66)(2,"span",67),s(3),o(),_(4,Tn,4,0,"span",68),o()()),a&2){let e=t.$implicit,n=p().index,i=p(2);d("value",e._id),l(3),Q(e.tag),l(),d("ngIf",i.isExactMatch(e.tag,i.tagSearchQuery[n]))}}function En(a,t){if(a&1&&(r(0,"div",78)(1,"h6",79),s(2,"English Options"),o(),r(3,"div",80)(4,"div",81)(5,"div",82)(6,"div",83)(7,"label",75),s(8,"Option A (English) *"),o(),x(9,"ckeditor",76),o(),r(10,"div",83)(11,"label",75),s(12,"Option B (English) *"),o(),x(13,"ckeditor",76),o()()(),r(14,"div",81)(15,"div",82)(16,"div",83)(17,"label",75),s(18,"Option C (English) *"),o(),x(19,"ckeditor",76),o(),r(20,"div",83)(21,"label",75),s(22,"Option D (English) *"),o(),x(23,"ckeditor",76),o()()()()()),a&2){let e=p(2).index,n=p(2);l(9),d("editor",n.Editor)("config",n.editorConfig)("formControl",n.getOptionControl(e,0,"english")),l(4),d("editor",n.Editor)("config",n.editorConfig)("formControl",n.getOptionControl(e,1,"english")),l(6),d("editor",n.Editor)("config",n.editorConfig)("formControl",n.getOptionControl(e,2,"english")),l(4),d("editor",n.Editor)("config",n.editorConfig)("formControl",n.getOptionControl(e,3,"english"))}}function Dn(a,t){if(a&1){let e=v();r(0,"div",70)(1,"div",71)(2,"h5",72)(3,"mat-icon"),s(4,"language"),o(),s(5," English "),o(),r(6,"button",73),f("click",function(){u(e);let i=p().index,c=p(2);return m(c.removeLanguageSection(i,"english"))}),r(7,"mat-icon"),s(8,"delete"),o()()(),r(9,"div",74)(10,"label",75),s(11,"Question Text (English) *"),o(),x(12,"ckeditor",76),o(),r(13,"div",74)(14,"label",75),s(15,"Question Description (English - Optional)"),o(),x(16,"ckeditor",76),o(),_(17,En,24,12,"div",77),o()}if(a&2){let e=p().index,n=p(2);k("full-width",!n.showHindiSection(e)),l(12),d("editor",n.Editor)("config",n.editorConfig)("formControl",n.getQuestionControl(e,"english")),l(4),d("editor",n.Editor)("config",n.editorConfig)("formControl",n.getDescriptionControl(e,"english")),l(),d("ngIf",n.showEnglishSection(e))}}function Qn(a,t){if(a&1&&(r(0,"div",78)(1,"h6",79),s(2,"Hindi Options"),o(),r(3,"div",80)(4,"div",81)(5,"div",82)(6,"div",83)(7,"label",75),s(8,"Option A (Hindi)"),o(),x(9,"ckeditor",76),o(),r(10,"div",83)(11,"label",75),s(12,"Option B (Hindi)"),o(),x(13,"ckeditor",76),o()()(),r(14,"div",81)(15,"div",82)(16,"div",83)(17,"label",75),s(18,"Option C (Hindi)"),o(),x(19,"ckeditor",76),o(),r(20,"div",83)(21,"label",75),s(22,"Option D (Hindi)"),o(),x(23,"ckeditor",76),o()()()()()),a&2){let e=p(2).index,n=p(2);l(9),d("editor",n.Editor)("config",n.editorConfig)("formControl",n.getOptionControl(e,0,"hindi")),l(4),d("editor",n.Editor)("config",n.editorConfig)("formControl",n.getOptionControl(e,1,"hindi")),l(6),d("editor",n.Editor)("config",n.editorConfig)("formControl",n.getOptionControl(e,2,"hindi")),l(4),d("editor",n.Editor)("config",n.editorConfig)("formControl",n.getOptionControl(e,3,"hindi"))}}function In(a,t){if(a&1){let e=v();r(0,"div",70)(1,"div",71)(2,"h5",72)(3,"mat-icon"),s(4,"language"),o(),s(5," Hindi "),o(),r(6,"button",84),f("click",function(){u(e);let i=p().index,c=p(2);return m(c.removeLanguageSection(i,"hindi"))}),r(7,"mat-icon"),s(8,"delete"),o()()(),r(9,"div",74)(10,"label",75),s(11,"Question Text (Hindi)"),o(),x(12,"ckeditor",76),o(),r(13,"div",74)(14,"label",75),s(15,"Question Description (Hindi - Optional)"),o(),x(16,"ckeditor",76),o(),_(17,Qn,24,12,"div",77),o()}if(a&2){let e=p().index,n=p(2);k("full-width",!n.showEnglishSection(e)),l(12),d("editor",n.Editor)("config",n.editorConfig)("formControl",n.getQuestionControl(e,"hindi")),l(4),d("editor",n.Editor)("config",n.editorConfig)("formControl",n.getDescriptionControl(e,"hindi")),l(),d("ngIf",n.showHindiSection(e))}}function An(a,t){if(a&1){let e=v();r(0,"div",85)(1,"button",86),f("click",function(){u(e);let i=p().index,c=p(2);return m(c.addLanguageSection(i))}),r(2,"mat-icon"),s(3,"add"),o(),s(4),o()()}if(a&2){let e=p().index,n=p(2);l(4),O(" Add ",n.showEnglishSection(e)?"Hindi":"English"," Language ")}}function Fn(a,t){if(a&1&&(r(0,"mat-option",65),s(1),o()),a&2){let e=t.$implicit,n=p(3);d("value",e),l(),O(" Option ",n.getOptionLetter(e)," ")}}function qn(a,t){a&1&&(r(0,"mat-error"),s(1," Correct answer is required "),o())}function Vn(a,t){if(a&1){let e=v();r(0,"div",39)(1,"div",40)(2,"h4",41),s(3),o(),_(4,Pn,3,0,"button",42),o(),r(5,"div",43)(6,"mat-form-field",44)(7,"mat-label"),s(8,"Tags"),o(),r(9,"mat-select",45,2)(11,"div",46),f("click",function(i){return u(e),m(i.stopPropagation())}),r(12,"mat-form-field",47)(13,"input",48,3),f("input",function(i){let c=u(e).index,g=p(2);return m(g.onTagSearchInput(i,c))}),o(),_(15,Sn,3,0,"button",49),o()(),_(16,wn,6,1,"mat-option",50)(17,kn,5,3,"mat-option",51),o(),r(18,"mat-icon",52),s(19,"local_offer"),o()(),r(20,"div",53)(21,"button",54),f("click",function(){let i=u(e).index,c=p(2);return m(c.openAddTagDialog(i))}),r(22,"mat-icon"),s(23,"add"),o(),s(24," Add New Tag "),o()()(),r(25,"div",55),_(26,Dn,18,9,"div",56)(27,In,18,9,"div",56)(28,An,5,1,"div",57),o(),r(29,"div",58)(30,"mat-form-field",59)(31,"mat-label"),s(32,"Correct Answer"),o(),r(33,"mat-select",60),_(34,Fn,2,2,"mat-option",51),o(),r(35,"mat-icon",52),s(36,"check_circle"),o(),_(37,qn,2,0,"mat-error",21),o()()()}if(a&2){let e=t.index,n=p(2);l(3),O("Question ",e+1,""),l(),d("ngIf",n.questions.length>1),l(5),d("formControl",n.getTagsControl(e)),l(4),d("value",n.tagSearchQuery[e]),l(2),d("ngIf",n.tagSearchQuery[e]),l(),d("ngIf",(n.filteredTags[e]==null?null:n.filteredTags[e].length)===0),l(),d("ngForOf",n.filteredTags[e]),l(9),d("ngIf",n.showEnglishSection(e)),l(),d("ngIf",n.showHindiSection(e)),l(),d("ngIf",!n.showEnglishSection(e)||!n.showHindiSection(e)),l(5),d("formControl",n.getCorrectAnswerControl(e)),l(),d("ngForOf",ge(13,bn)),l(3),d("ngIf",n.getCorrectAnswerControl(e).hasError("required"))}}function zn(a,t){if(a&1&&(r(0,"div",37),_(1,Vn,38,14,"div",38),o()),a&2){let e=p();l(),d("ngForOf",e.questions.controls)}}function Ln(a,t){a&1&&(r(0,"div",87)(1,"mat-icon",88),s(2,"quiz"),o(),r(3,"h4"),s(4,"No questions added yet"),o(),r(5,"p"),s(6,'Click "Add Question" to create questions manually, or upload a TXT file with questions.'),o(),r(7,"div",89)(8,"strong"),s(9,"File format example:"),o(),r(10,"pre")(11,"code"),s(12,`Q1E. When did India get independence? A. 1940 B. 1945 C. 1847 D. 1947 DESC. India gained independence from British rule on August 15, 1947. CANS. D
Q1H. \u092D\u093E\u0930\u0924 \u0915\u094B \u0915\u092C \u0938\u094D\u0935\u0924\u0902\u0924\u094D\u0930\u0924\u093E \u092E\u093F\u0932\u0940? A. 1940 B. 1945 C. 1847 D. 1947 DESC. \u092D\u093E\u0930\u0924 \u0915\u094B 15 \u0905\u0917\u0938\u094D\u0924, 1947 \u0915\u094B \u092C\u094D\u0930\u093F\u091F\u093F\u0936 \u0936\u093E\u0938\u0928 \u0938\u0947 \u0938\u094D\u0935\u0924\u0902\u0924\u094D\u0930\u0924\u093E \u092E\u093F\u0932\u0940\u0964
Q2E. Who was the first Prime Minister of India? A. Mahatma Gandhi B. Jawaharlal Nehru C. Sardar Patel D. Indira Gandhi DESC. Jawaharlal Nehru served as the first Prime Minister from 1947 to 1964. CANS. B
Q2H. \u092D\u093E\u0930\u0924 \u0915\u0947 \u092A\u094D\u0930\u0925\u092E \u092A\u094D\u0930\u0927\u093E\u0928\u092E\u0902\u0924\u094D\u0930\u0940 \u0915\u094C\u0928 \u0925\u0947? A. \u092E\u0939\u093E\u0924\u094D\u092E\u093E \u0917\u093E\u0902\u0927\u0940 B. \u091C\u0935\u093E\u0939\u0930\u0932\u093E\u0932 \u0928\u0947\u0939\u0930\u0942 C. \u0938\u0930\u0926\u093E\u0930 \u092A\u091F\u0947\u0932 D. \u0907\u0902\u0926\u093F\u0930\u093E \u0917\u093E\u0902\u0927\u0940 DESC. \u091C\u0935\u093E\u0939\u0930\u0932\u093E\u0932 \u0928\u0947\u0939\u0930\u0942 \u0928\u0947 1947 \u0938\u0947 1964 \u0924\u0915 \u092D\u093E\u0930\u0924 \u0915\u0947 \u092A\u094D\u0930\u0925\u092E \u092A\u094D\u0930\u0927\u093E\u0928\u092E\u0902\u0924\u094D\u0930\u0940 \u0915\u0947 \u0930\u0942\u092A \u092E\u0947\u0902 \u0915\u093E\u0930\u094D\u092F \u0915\u093F\u092F\u093E\u0964`),o()()()())}function Rn(a,t){a&1&&x(0,"mat-spinner",90)}function Bn(a,t){if(a&1&&(r(0,"span"),s(1),o()),a&2){let e=p();l(),ne(" ",e.isEdit()?"Update":"Save"," Questions (",e.questions.length," questions) ")}}function Nn(a,t){a&1&&(r(0,"span"),s(1,"Category is required"),o())}function Hn(a,t){a&1&&(r(0,"span"),s(1,"Category must be at least 2 characters long"),o())}function Un(a,t){a&1&&(r(0,"span"),s(1,"Category cannot exceed 50 characters"),o())}function jn(a,t){if(a&1&&(r(0,"div",104),_(1,Nn,2,0,"span",21)(2,Hn,2,0,"span",21)(3,Un,2,0,"span",21),o()),a&2){let e,n,i,c=p(2);l(),d("ngIf",(e=c.addTagForm.get("category"))==null||e.errors==null?null:e.errors.required),l(),d("ngIf",(n=c.addTagForm.get("category"))==null||n.errors==null?null:n.errors.minlength),l(),d("ngIf",(i=c.addTagForm.get("category"))==null||i.errors==null?null:i.errors.maxlength)}}function Gn(a,t){a&1&&(r(0,"span"),s(1,"Sub-category is required"),o())}function $n(a,t){a&1&&(r(0,"span"),s(1,"Sub-category must be at least 2 characters long"),o())}function Wn(a,t){a&1&&(r(0,"span"),s(1,"Sub-category cannot exceed 50 characters"),o())}function Kn(a,t){if(a&1&&(r(0,"div",104),_(1,Gn,2,0,"span",21)(2,$n,2,0,"span",21)(3,Wn,2,0,"span",21),o()),a&2){let e,n,i,c=p(2);l(),d("ngIf",(e=c.addTagForm.get("subCategory"))==null||e.errors==null?null:e.errors.required),l(),d("ngIf",(n=c.addTagForm.get("subCategory"))==null||n.errors==null?null:n.errors.minlength),l(),d("ngIf",(i=c.addTagForm.get("subCategory"))==null||i.errors==null?null:i.errors.maxlength)}}function Yn(a,t){a&1&&(r(0,"span"),s(1,"Topic is required"),o())}function Xn(a,t){a&1&&(r(0,"span"),s(1,"Topic must be at least 2 characters long"),o())}function Zn(a,t){a&1&&(r(0,"span"),s(1,"Topic cannot exceed 50 characters"),o())}function Jn(a,t){if(a&1&&(r(0,"div",104),_(1,Yn,2,0,"span",21)(2,Xn,2,0,"span",21)(3,Zn,2,0,"span",21),o()),a&2){let e,n,i,c=p(2);l(),d("ngIf",(e=c.addTagForm.get("topic"))==null||e.errors==null?null:e.errors.required),l(),d("ngIf",(n=c.addTagForm.get("topic"))==null||n.errors==null?null:n.errors.minlength),l(),d("ngIf",(i=c.addTagForm.get("topic"))==null||i.errors==null?null:i.errors.maxlength)}}function ei(a,t){if(a&1&&(r(0,"div",93)(1,"label"),s(2,"Full Path Preview:"),o(),r(3,"div",105),s(4),T(5,"titlecase"),T(6,"titlecase"),T(7,"titlecase"),o()()),a&2){let e,n=p(2);l(4),lt(" ",E(5,3,(e=n.addTagForm.get("category"))==null?null:e.value)," / ",E(6,5,(e=n.addTagForm.get("subCategory"))==null?null:e.value)," / ",E(7,7,(e=n.addTagForm.get("topic"))==null?null:e.value)," ")}}function ti(a,t){a&1&&x(0,"mat-spinner",90)}function ni(a,t){a&1&&(r(0,"span"),s(1,"Create Tag"),o())}function ii(a,t){if(a&1){let e=v();r(0,"div",91)(1,"div",5)(2,"h2",6),s(3,"Create New Tag"),o(),r(4,"button",7),f("click",function(){u(e);let i=p();return m(i.closeAddTagDialog())}),r(5,"mat-icon"),s(6,"close"),o()()(),r(7,"mat-dialog-content",8)(8,"form",92),f("ngSubmit",function(){u(e);let i=p();return m(i.onAddTagSubmit())}),r(9,"div",93)(10,"label",94),s(11,"Category *"),o(),x(12,"input",95),_(13,jn,4,3,"div",96),o(),r(14,"div",93)(15,"label",97),s(16,"Sub-Category *"),o(),x(17,"input",98),_(18,Kn,4,3,"div",96),o(),r(19,"div",93)(20,"label",99),s(21,"Topic *"),o(),x(22,"input",100),_(23,Jn,4,3,"div",96),o(),_(24,ei,8,9,"div",101),o()(),r(25,"mat-dialog-actions",17)(26,"button",102),f("click",function(){u(e);let i=p();return m(i.closeAddTagDialog())}),s(27," Cancel "),o(),r(28,"button",103),f("click",function(){u(e);let i=p();return m(i.onAddTagSubmit())}),_(29,ti,1,0,"mat-spinner",20)(30,ni,2,0,"span",21),o()()()}if(a&2){let e=p();l(8),d("formGroup",e.addTagForm),l(4),k("error",e.isAddTagFieldInvalid("category")),l(),d("ngIf",e.isAddTagFieldInvalid("category")),l(4),k("error",e.isAddTagFieldInvalid("subCategory")),l(),d("ngIf",e.isAddTagFieldInvalid("subCategory")),l(4),k("error",e.isAddTagFieldInvalid("topic")),l(),d("ngIf",e.isAddTagFieldInvalid("topic")),l(),d("ngIf",e.addTagForm.valid),l(2),d("disabled",e.addTagLoading()),l(2),d("disabled",e.addTagLoading()||e.addTagForm.invalid),l(),d("ngIf",e.addTagLoading()),l(),d("ngIf",!e.addTagLoading())}}var ze=class a{fb=M(vt);questionService=M(Ae);tagService=M(qe);snackBar=M(Pe);dialog=M(ke);dialogRef=M(Tt);data=M(kt);addTagDialogTemplate;tagSearchInputs;Editor=Lt.default;editorConfig={toolbar:["heading","|","bold","italic","underline","strikethrough","|","bulletedList","numberedList","|","insertTable","blockQuote","|","undo","redo"],table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},height:"300px"};questionForm;addTagForm;isEdit=y(!1);loading=y(!1);isDragOver=y(!1);fileUploadLoading=y(!1);addTagLoading=y(!1);availableTags=[];currentQuestionIndexForTag=null;addTagDialogRef=null;languageSectionVisibility={};tagSearchQuery={};filteredTags={};constructor(){this.questionForm=this.createQuestionForm(),this.addTagForm=this.createAddTagForm(),this.isEdit.set(!!this.data.question),this.availableTags=this.data.tags||[]}createQuestionForm(){return this.fb.group({questions:this.fb.array([])})}createAddTagForm(){return this.fb.group({category:["",[P.required,P.minLength(2),P.maxLength(50)]],subCategory:["",[P.required,P.minLength(2),P.maxLength(50)]],topic:["",[P.required,P.minLength(2),P.maxLength(50)]]})}get questions(){return this.questionForm.get("questions")}ngOnInit(){this.isEdit()&&this.populateForm(this.data.question)}getOptionLetter(t){return String.fromCharCode(65+t)}addQuestion(t){let e=[{english:"",hindi:""},{english:"",hindi:""},{english:"",hindi:""},{english:"",hindi:""}],n=this.fb.group({question:this.fb.group({english:[t?.question?.english||"",P.required],hindi:[t?.question?.hindi||""]}),description:this.fb.group({english:[t?.description?.english||""],hindi:[t?.description?.hindi||""]}),options:this.fb.array((t?.options||e).map(c=>this.fb.group({english:[c.english||"",P.required],hindi:[c.hindi||""]}))),correctAnswer:[t?.correctAnswer??0,[P.required,P.min(0),P.max(3)]],tags:[t?.tags||[]]}),i=this.questions.length;this.questions.push(n),this.languageSectionVisibility[i]={english:!0,hindi:!0},this.tagSearchQuery[i]="",this.filteredTags[i]=[...this.availableTags],this.updateValidatorsForQuestion(i)}removeQuestion(t){this.questions.removeAt(t),delete this.languageSectionVisibility[t],delete this.tagSearchQuery[t],delete this.filteredTags[t],this.reindexLanguageVisibility(t)}reindexLanguageVisibility(t){let e={},n={},i={};Object.keys(this.languageSectionVisibility).forEach(c=>{let g=parseInt(c);g>t?(e[g-1]=this.languageSectionVisibility[g],n[g-1]=this.tagSearchQuery[g],i[g-1]=this.filteredTags[g]):g<t&&(e[g]=this.languageSectionVisibility[g],n[g]=this.tagSearchQuery[g],i[g]=this.filteredTags[g])}),this.languageSectionVisibility=e,this.tagSearchQuery=n,this.filteredTags=i}getOptions(t){return this.questions.at(t).get("options")}getQuestionControl(t,e){return this.questions.at(t).get(`question.${e}`)}getDescriptionControl(t,e){return this.questions.at(t).get(`description.${e}`)}getOptionControl(t,e,n){return this.getOptions(t).at(e).get(n)}getCorrectAnswerControl(t){return this.questions.at(t).get("correctAnswer")}getTagsControl(t){return this.questions.at(t).get("tags")}showEnglishSection(t){return this.languageSectionVisibility[t]?.english||!1}showHindiSection(t){return this.languageSectionVisibility[t]?.hindi||!1}removeLanguageSection(t,e){let n=this.showEnglishSection(t),i=this.showHindiSection(t);if(e==="english"&&!i||e==="hindi"&&!n){this.snackBar.open(`Cannot remove ${e} as it's the only language remaining`,"Close",{duration:3e3});return}this.languageSectionVisibility[t][e]=!1,this.updateValidatorsForQuestion(t)}addLanguageSection(t){let e=this.showEnglishSection(t)?"hindi":"english";this.languageSectionVisibility[t][e]=!0,this.updateValidatorsForQuestion(t)}updateValidatorsForQuestion(t){let e=this.questions.at(t),n=this.showEnglishSection(t),i=this.showHindiSection(t);if(!n&&!i){this.languageSectionVisibility[t].english=!0;return}let c=this.getQuestionControl(t,"english");n?c.setValidators([P.required]):(c.clearValidators(),c.setValue("")),c.updateValueAndValidity();let g=this.getQuestionControl(t,"hindi");i||g.setValue(""),n?this.getOptions(t).controls.forEach((h,C)=>{let b=this.getOptionControl(t,C,"english");b.setValidators([P.required]),b.updateValueAndValidity()}):this.getOptions(t).controls.forEach((h,C)=>{let b=this.getOptionControl(t,C,"english");b.clearValidators(),b.setValue(""),b.updateValueAndValidity()}),this.getOptions(t).controls.forEach((h,C)=>{let b=this.getOptionControl(t,C,"hindi");i||b.setValue(""),b.clearValidators(),b.updateValueAndValidity()}),n||this.getDescriptionControl(t,"english").setValue(""),i||this.getDescriptionControl(t,"hindi").setValue(""),e.updateValueAndValidity()}filterTags(t){let e=this.tagSearchQuery[t]?.toLowerCase().trim();if(!e){this.filteredTags[t]=[...this.availableTags];return}let n=this.availableTags.filter(i=>{let c=i.tag.toLowerCase();if(c===e||c.includes(e))return!0;let g=c.split("/");for(let h of g)if(h.includes(e))return!0;for(let h of g){let C=h.split(/[-_\s]+/);for(let b of C)if(b.includes(e))return!0}return!1});this.filteredTags[t]=n.sort((i,c)=>{let g=i.tag.toLowerCase(),h=c.tag.toLowerCase();if(g===e)return-1;if(h===e)return 1;let C=g.startsWith(e),b=h.startsWith(e);if(C&&!b)return-1;if(!C&&b)return 1;let S=g.indexOf(e),D=h.indexOf(e);if(S!==-1&&D!==-1)return S-D;let w=g.split("/"),X=h.split("/");for(let A=0;A<Math.min(w.length,X.length);A++){if(w[A].includes(e)&&!X[A].includes(e))return-1;if(!w[A].includes(e)&&X[A].includes(e))return 1}return g.localeCompare(h)})}onTagSearchInput(t,e){this.tagSearchQuery[e]=t.target.value,this.filterTags(e)}clearTagSearch(t){this.tagSearchQuery[t]="",this.filterTags(t),setTimeout(()=>{let e=this.tagSearchInputs.toArray();e[t]&&e[t].nativeElement.focus()})}isExactMatch(t,e){return e?t.toLowerCase()===e.toLowerCase().trim():!1}populateForm(t){this.clearAllQuestions();let e={question:{english:t.question?.english||"",hindi:t.question?.hindi||""},description:{english:t.description?.english||"",hindi:t.description?.hindi||""},options:(t.options||[]).map(n=>({english:n.english||"",hindi:n.hindi||""})),correctAnswer:t.correctAnswer||0,tags:t.tags||[]};this.addQuestion(e)}clearAllQuestions(){for(;this.questions.length>0;)this.questions.removeAt(0);this.languageSectionVisibility={},this.tagSearchQuery={},this.filteredTags={}}openAddTagDialog(t){this.currentQuestionIndexForTag=t,this.addTagForm.reset(),this.addTagDialogRef=this.dialog.open(this.addTagDialogTemplate,{width:"450px",maxWidth:"90vw",panelClass:"add-tag-dialog-panel",autoFocus:!1}),this.addTagDialogRef.afterClosed().subscribe(()=>{this.currentQuestionIndexForTag=null})}closeAddTagDialog(){this.addTagDialogRef&&this.addTagDialogRef.close()}onAddTagSubmit(){if(this.addTagForm.valid&&this.currentQuestionIndexForTag!==null){this.addTagLoading.set(!0);let t=this.addTagForm.value;this.tagService.createTag(t).subscribe({next:e=>{this.tagService.getTags().subscribe({next:n=>{this.availableTags=n,Object.keys(this.filteredTags).forEach(c=>{let g=parseInt(c);this.filteredTags[g]=[...this.availableTags]});let i=this.getTagsControl(this.currentQuestionIndexForTag).value||[];this.getTagsControl(this.currentQuestionIndexForTag).setValue([...i,e._id]),this.snackBar.open("Tag created and added to question successfully!","Close",{duration:3e3}),this.closeAddTagDialog(),this.addTagLoading.set(!1)},error:n=>{console.error("Error refreshing tags:",n),this.availableTags=[...this.availableTags,e],Object.keys(this.filteredTags).forEach(i=>{let c=parseInt(i);this.filteredTags[c]=[...this.availableTags]}),this.addTagLoading.set(!1)}})},error:e=>{console.error("Error creating tag:",e),this.snackBar.open(e.error?.message||"Error creating tag","error"),this.addTagLoading.set(!1)}})}}isAddTagFieldInvalid(t){let e=this.addTagForm.get(t);return!!(e&&e.invalid&&e.touched)}onDragOver(t){t.preventDefault(),t.stopPropagation(),this.isDragOver.set(!0)}onDragLeave(t){t.preventDefault(),t.stopPropagation(),this.isDragOver.set(!1)}onDrop(t){t.preventDefault(),t.stopPropagation(),this.isDragOver.set(!1);let e=t.dataTransfer?.files;e&&e.length>0&&this.handleFileUpload(e[0])}onFileSelected(t){let e=t.target.files[0];e&&this.handleFileUpload(e)}handleFileUpload(t){return re(this,null,function*(){if(!t.type.includes("text/plain")){this.snackBar.open("Please upload only TXT files.","Close",{duration:3e3});return}if(t.size>5*1024*1024){this.snackBar.open("File size should be less than 5MB","Close",{duration:3e3});return}this.fileUploadLoading.set(!0);try{let e=yield this.readTextFile(t),n=this.parseQuestionsFromText(e);n.length>0?(this.addQuestionsFromFile(n),this.snackBar.open(`Successfully imported ${n.length} questions from file`,"Close",{duration:3e3})):this.snackBar.open("No questions found in the file. Please check the format.","Close",{duration:5e3})}catch(e){console.error("Error reading file:",e),this.snackBar.open("Error reading file. Please try again with a different file.","Close",{duration:3e3})}finally{this.fileUploadLoading.set(!1)}})}readTextFile(t){return new Promise((e,n)=>{let i=new FileReader;i.onload=c=>{let g=c.target?.result;e(g)},i.onerror=c=>{n(new Error("Failed to read file"))},i.readAsText(t,"UTF-8")})}stripHtml(t){return t?t.replace(/<[^>]*>/g,"").replace(/&nbsp;/g," ").trim():""}parseQuestionsFromText(t){let e=[],n=new Map;return t.split(`
`).filter(g=>g.trim().length>0).forEach(g=>{let h=g.trim(),C=h.match(/^Q(\d+)E\.\s*(.+)/i);if(C){let S=parseInt(C[1]),D=C[2],w=this.parseQuestionLine(D);w&&(n.has(S)||n.set(S,{}),n.get(S).english=w)}let b=h.match(/^Q(\d+)H\.\s*(.+)/i);if(b){let S=parseInt(b[1]),D=b[2],w=this.parseHindiQuestionLine(D);w&&(n.has(S)||n.set(S,{}),n.get(S).hindi=w)}}),n.forEach((g,h)=>{if(g.english){let C={question:{english:g.english.question||"",hindi:g.hindi?.question||""},description:{english:g.english.description||"",hindi:g.hindi?.description||""},options:this.combineOptions(g.english.options||[],g.hindi?.options||[]),correctAnswer:g.english.correctAnswer??0,tags:[]};this.isQuestionComplete(C)&&e.push(C)}}),e.sort((g,h)=>{let C=this.getQuestionNumber(g,n),b=this.getQuestionNumber(h,n);return C-b})}getQuestionNumber(t,e){for(let[n,i]of e.entries())if(i.english?.question===t.question.english)return n;return 0}combineOptions(t,e){let n=[];for(let i=0;i<4;i++)n.push({english:t[i]||"",hindi:e[i]||""});return n}parseQuestionLine(t){let e=t.match(/CANS?\.\s*([A-D])(?:\s|\.|$)/i);if(!e)return null;let n=e[1].toUpperCase().charCodeAt(0)-65,i=t.substring(0,e.index).trim(),c="",g=i.match(/DESC?\.\s*(.+?)(?=\s*CANS?\.|$)/i);g&&(c=g[1].trim(),i=i.substring(0,g.index).trim());let h=this.extractQuestionAndOptions(i);return h?{question:h.question,description:c,options:h.options,correctAnswer:n}:null}isQuestionComplete(t){let e=!!t.question.english&&t.question.english.trim().length>0,n=t.options.filter(i=>!!i.english&&i.english.trim().length>0).length>=2;return e&&n}addQuestionsFromFile(t){(!this.isEdit()||this.questions.length===0)&&this.clearAllQuestions(),t.forEach(e=>{this.isQuestionComplete(e)&&this.addQuestion(e)}),this.questionForm.updateValueAndValidity()}parseHindiQuestionLine(t){let e=0,n=t,i=t.match(/CANS?\.\s*([A-D])(?:\s|\.|$)/i);i?(e=i[1].toUpperCase().charCodeAt(0)-65,n=t.substring(0,i.index).trim()):e=0;let c="",g=n.match(/DESC?\.\s*(.+?)(?=\s*CANS?\.|$)/i);g&&(c=g[1].trim(),n=n.substring(0,g.index).trim());let h=this.extractHindiQuestionAndOptions(n);return h?{question:h.question,description:c,options:h.options,correctAnswer:e}:null}extractHindiQuestionAndOptions(t){let e=["","","",""],n="",i=/(A\.|B\.|C\.|D\.)\s*([^A-Z]*?(?=(?:A\.|B\.|C\.|D\.|DESC\.|CANS\.|$)))/gi,c,g=[];for(;(c=i.exec(t))!==null;){let C=c[1],b=c[2].trim();g.push({marker:C,text:b})}if(g.length===0)return this.extractQuestionAndOptions(t);let h=t.indexOf(g[0].marker);return h!==-1&&(n=t.substring(0,h).trim()),g.forEach(C=>{let b=C.marker.charCodeAt(0)-65;if(b>=0&&b<4){let S=C.text.replace(/\s*DESC\..*$/i,"").replace(/\s*CANS\..*$/i,"").trim();e[b]=S}}),{question:n,options:e}}extractQuestionAndOptions(t){let e=["","","",""],n="",i=["A.","B.","C.","D."],c=[];if(i.forEach(g=>{let h=t.indexOf(g);h!==-1&&c.push({marker:g,index:h})}),c.length===0)return null;c.sort((g,h)=>g.index-h.index),n=t.substring(0,c[0].index).trim();for(let g=0;g<c.length;g++){let h=c[g],C=g<c.length-1?c[g+1]:null,b=h.index+h.marker.length,S=t.length;if(C)S=C.index;else{let X=t.indexOf("DESC",b),A=t.indexOf("CANS",b),Xe=[X,A].filter(Bt=>Bt!==-1);Xe.length>0&&(S=Math.min(...Xe))}let D=t.substring(b,S).trim();D=D.replace(/\s*DESC\..*$/i,"").replace(/\s*CANS\..*$/i,"").trim();let w=h.marker.charCodeAt(0)-65;w>=0&&w<4&&(e[w]=D)}return{question:n,options:e}}onSubmit(){if(this.questionForm.valid&&this.questions.length>0){this.loading.set(!0);let e=this.questionForm.value.questions.map(i=>({question:{english:i.question.english||"",hindi:i.question.hindi||""},description:{english:i.description?.english||"",hindi:i.description?.hindi||""},options:i.options.map((c,g)=>({english:c.english||"",hindi:c.hindi||""})),correctAnswer:i.correctAnswer,tags:i.tags||[]})),n={questions:e};if(console.log("Submitting questions:",n),this.isEdit()){let i=this.data.question.uid||this.data.question._id;this.questionService.updateQuestion(i,e[0]).subscribe({next:()=>{this.snackBar.open("Question updated successfully","Close",{duration:3e3}),this.dialogRef.close(!0)},error:c=>{this.loading.set(!1),console.error("Error:",c),this.snackBar.open(`Error updating question: ${c.error?.message||"Unknown error"}`,"Close",{duration:3e3})}})}else this.questionService.createQuestions(n).subscribe({next:()=>{this.snackBar.open("Questions created successfully","Close",{duration:3e3}),this.dialogRef.close(!0)},error:i=>{this.loading.set(!1),console.error("Error:",i),this.snackBar.open(`Error creating questions: ${i.error?.message||"Unknown error"}`,"Close",{duration:3e3})}})}else this.questions.length===0?this.snackBar.open("Please add at least one question","Close",{duration:3e3}):(console.log("Form errors:",this.questionForm.errors),this.snackBar.open("Please fill all required fields","Close",{duration:3e3}))}logFormErrors(t,e=""){Object.keys(t.controls).forEach(n=>{let i=t.get(n);i instanceof mt||i instanceof Ct?this.logFormErrors(i,e+n+"."):i?.errors&&console.log(e+n,i.errors)})}onCancel(){this.dialogRef.close(!1)}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=F({type:a,selectors:[["app-create-question-dialog"]],viewQuery:function(e,n){if(e&1&&(V(hn,5),V(xn,5)),e&2){let i;z(i=L())&&(n.addTagDialogTemplate=i.first),z(i=L())&&(n.tagSearchInputs=i)}},decls:25,vars:11,consts:[["addTagDialogTemplate",""],["fileInput",""],["tagSelect",""],["tagSearchInput",""],[1,"create-question-dialog"],[1,"dialog-header"],["mat-dialog-title",""],["mat-icon-button","",1,"close-button",3,"click"],[1,"dialog-content"],[1,"question-form",3,"ngSubmit","formGroup"],[1,"questions-section"],[1,"section-header"],[1,"section-title"],["class","action-buttons",4,"ngIf"],["class","file-upload-section",4,"ngIf"],["class","questions-list",4,"ngIf"],["class","no-questions",4,"ngIf"],["align","end",1,"dialog-actions"],["mat-button","",1,"cancel-btn",3,"click","disabled"],["mat-raised-button","","color","primary",1,"submit-btn",3,"click","disabled"],["diameter","20",4,"ngIf"],[4,"ngIf"],[1,"action-buttons"],["type","button","mat-raised-button","","color","primary",1,"add-question-btn",3,"click"],["type","button","mat-stroked-button","","color","warn",3,"click",4,"ngIf"],["type","button","mat-stroked-button","","color","warn",3,"click"],[1,"file-upload-section"],[1,"upload-area",3,"dragover","dragleave","drop"],["class","upload-content",4,"ngIf"],["class","upload-loading",4,"ngIf"],[1,"upload-content"],[1,"upload-icon"],[1,"file-format-info"],["type","file","hidden","","accept",".txt",3,"change"],["type","button","mat-stroked-button","",1,"browse-btn",3,"click"],[1,"upload-loading"],["diameter","30"],[1,"questions-list"],["class","question-card",4,"ngFor","ngForOf"],[1,"question-card"],[1,"question-header"],[1,"question-number"],["type","button","mat-icon-button","","color","warn","matTooltip","Delete question","class","delete-btn",3,"click",4,"ngIf"],[1,"tags-section"],["appearance","outline",1,"full-width"],["multiple","",3,"formControl"],[1,"tag-search-container",3,"click"],["appearance","fill",1,"tag-search-field"],["matInput","","placeholder","Search tags...",1,"tag-search-input",3,"input","value"],["mat-icon-button","","matSuffix","",3,"click",4,"ngIf"],["disabled","",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["matSuffix",""],[1,"tag-actions"],["type","button","mat-button","","color","primary",1,"add-tag-btn",3,"click"],[1,"language-sections-container"],["class","language-section",3,"full-width",4,"ngIf"],["class","add-language-section",4,"ngIf"],[1,"question-settings"],["appearance","outline",1,"setting-field"],[3,"formControl"],["type","button","mat-icon-button","","color","warn","matTooltip","Delete question",1,"delete-btn",3,"click"],["mat-icon-button","","matSuffix","",3,"click"],["disabled",""],[1,"no-tags-found"],[3,"value"],[1,"tag-option-content"],[1,"tag-text"],["class","tag-match-badge",4,"ngIf"],[1,"tag-match-badge"],[1,"language-section"],[1,"language-header"],[1,"language-title"],["type","button","mat-icon-button","","color","warn","matTooltip","Remove English section",3,"click"],[1,"ckeditor-field"],[1,"ckeditor-label"],[1,"ckeditor-full-width",3,"editor","config","formControl"],["class","options-section",4,"ngIf"],[1,"options-section"],[1,"options-subtitle"],[1,"options-grid"],[1,"option-row"],[1,"option-pair"],[1,"ckeditor-field","option-field"],["type","button","mat-icon-button","","color","warn","matTooltip","Remove Hindi section",3,"click"],[1,"add-language-section"],["type","button","mat-stroked-button","","color","primary",3,"click"],[1,"no-questions"],[1,"no-questions-icon"],[1,"file-format-example"],["diameter","20"],[1,"add-tag-dialog"],[1,"add-tag-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","category"],["type","text","id","category","formControlName","category","placeholder","Enter category (e.g., History, Science)",1,"form-control"],["class","error-message",4,"ngIf"],["for","subCategory"],["type","text","id","subCategory","formControlName","subCategory","placeholder","Enter sub-category (e.g., Ancient History, Physics)",1,"form-control"],["for","topic"],["type","text","id","topic","formControlName","topic","placeholder","Enter topic (e.g., Gupta Empire, Newton's Laws)",1,"form-control"],["class","form-group",4,"ngIf"],["mat-button","",3,"click","disabled"],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"error-message"],[1,"path-preview"]],template:function(e,n){if(e&1){let i=v();r(0,"div",4)(1,"div",5)(2,"h2",6),s(3),o(),r(4,"button",7),f("click",function(){return u(i),m(n.onCancel())}),r(5,"mat-icon"),s(6,"close"),o()()(),r(7,"mat-dialog-content",8)(8,"form",9),f("ngSubmit",function(){return u(i),m(n.onSubmit())}),r(9,"div",10)(10,"div",11)(11,"h3",12),s(12),o(),_(13,vn,6,1,"div",13),o(),_(14,yn,4,4,"div",14)(15,zn,2,1,"div",15)(16,Ln,13,0,"div",16),o()()(),r(17,"mat-dialog-actions",17)(18,"button",18),f("click",function(){return u(i),m(n.onCancel())}),s(19," Cancel "),o(),r(20,"button",19),f("click",function(){return u(i),m(n.onSubmit())}),_(21,Rn,1,0,"mat-spinner",20)(22,Bn,2,2,"span",21),o()()(),_(23,ii,31,15,"ng-template",null,0,ie)}e&2&&(l(3),Q(n.isEdit()?"Edit Question":"Create New Question"),l(5),d("formGroup",n.questionForm),l(4),O("Questions (",n.questions.length,")"),l(),d("ngIf",!n.isEdit()),l(),d("ngIf",!n.isEdit()),l(),d("ngIf",n.questions.length>0),l(),d("ngIf",n.questions.length===0),l(2),d("disabled",n.loading()),l(2),d("disabled",!n.questionForm.valid||n.questions.length===0||n.loading()),l(),d("ngIf",n.loading()),l(),d("ngIf",!n.loading()))},dependencies:[_e,ue,me,dt,Mt,ft,gt,fe,ut,ht,xt,bt,he,Ie,Ee,Qe,De,Ce,H,xe,yt,be,ve,Pt,j,Me,U,$,G,N,Te,we,Se,ye,Oe,K,W,Fe,zt,It,Qt],styles:['.create-question-dialog[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;max-height:90vh}.dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 24px 0;border-bottom:1px solid #e0e0e0;background:#fff;position:sticky;top:0;z-index:10}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#3f51b5;font-weight:500}.close-button[_ngcontent-%COMP%]{margin-right:-8px}.dialog-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:0;margin:0}.question-form[_ngcontent-%COMP%]{padding:20px 24px}.questions-section[_ngcontent-%COMP%]{margin-top:30px}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;flex-wrap:wrap;gap:16px}.section-title[_ngcontent-%COMP%]{margin:0 0 20px;color:#3f51b5;font-size:1.2em;font-weight:500;display:flex;align-items:center;gap:8px}.section-title[_ngcontent-%COMP%]:before{content:"";width:4px;height:20px;background:#3f51b5;border-radius:2px}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap}.add-question-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#2196f3)}.file-upload-section[_ngcontent-%COMP%]{margin-bottom:30px}.upload-area[_ngcontent-%COMP%]{border:2px dashed #ccc;border-radius:8px;padding:40px 20px;text-align:center;transition:all .3s ease;background:#fafafa}.upload-area.drag-over[_ngcontent-%COMP%]{border-color:#3f51b5;background:#e8eaf6}.upload-content[_ngcontent-%COMP%]   .upload-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:#3f51b5;margin-bottom:16px}.upload-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;color:#333}.upload-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0;color:#666}.file-format-info[_ngcontent-%COMP%]{background:#fff3e0;padding:12px;border-radius:4px;border-left:4px solid #ff9800;margin:16px 0!important}.file-format-info[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#fff;padding:8px;border-radius:4px;font-family:Courier New,monospace;font-size:.9em;display:inline-block;margin-top:8px}.browse-btn[_ngcontent-%COMP%]{margin-top:16px}.upload-loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:16px;color:#666}.questions-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;max-height:400px;overflow-y:auto;padding-right:8px}.question-card[_ngcontent-%COMP%]{padding:20px;background:#fff;border:1px solid #e0e0e0;border-radius:8px;box-shadow:0 2px 4px #0000001a;transition:box-shadow .3s ease}.question-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #00000026}.question-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;padding-bottom:12px;border-bottom:2px solid #f0f0f0}.question-number[_ngcontent-%COMP%]{margin:0;color:#3f51b5;font-weight:500}.delete-btn[_ngcontent-%COMP%]{transition:transform .2s ease}.delete-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.tags-section[_ngcontent-%COMP%]{margin-bottom:20px}.language-section[_ngcontent-%COMP%]{margin-bottom:1rem;padding:1rem;border:1px solid #e0e0e0;border-radius:8px;background-color:#fafafa}.language-title[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#666;font-size:.9rem;font-weight:600;text-transform:uppercase}.options-section[_ngcontent-%COMP%]{margin:20px 0}.options-title[_ngcontent-%COMP%]{margin:0 0 16px;color:#666;font-size:1em;font-weight:500}.options-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px}.option-field[_ngcontent-%COMP%]{display:flex;flex-direction:column}.option-row[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:.5rem}.half-width[_ngcontent-%COMP%]{flex:1}.question-settings[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:16px;margin-top:20px;padding-top:20px;border-top:1px solid #f0f0f0}.setting-field[_ngcontent-%COMP%]{width:100%}.no-questions[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;background:#fafafa;border:2px dashed #e0e0e0;border-radius:8px;color:#666}.no-questions-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#ccc;margin-bottom:20px}.no-questions[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 12px;color:#333}.file-format-example[_ngcontent-%COMP%]{margin-top:20px;text-align:left;max-width:600px;margin-left:auto;margin-right:auto}.file-format-example[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{background:#f5f5f5;padding:16px;border-radius:4px;overflow-x:auto;margin-top:8px;border:1px solid #e0e0e0}.file-format-example[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-family:Courier New,monospace;font-size:.85em;line-height:1.4;color:#333}.dialog-actions[_ngcontent-%COMP%]{padding:16px 24px;border-top:1px solid #e0e0e0;background:#fff;position:sticky;bottom:0;gap:12px}.submit-btn[_ngcontent-%COMP%]{min-width:200px}.cancel-btn[_ngcontent-%COMP%]{margin-right:auto}.questions-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.questions-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:3px}.questions-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}.questions-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}@media (max-width: 768px){.create-question-dialog[_ngcontent-%COMP%]{max-height:95vh}.dialog-header[_ngcontent-%COMP%]{padding:12px 16px 0}.question-form[_ngcontent-%COMP%]{padding:16px}.section-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.action-buttons[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}.options-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:12px}.option-row[_ngcontent-%COMP%]{flex-direction:column;gap:12px}.upload-area[_ngcontent-%COMP%]{padding:30px 16px}.dialog-actions[_ngcontent-%COMP%]{padding:12px 16px;flex-direction:column-reverse}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{width:100%}.cancel-btn[_ngcontent-%COMP%]{margin-right:0}}@media (max-width: 480px){.questions-list[_ngcontent-%COMP%]{max-height:300px}.question-card[_ngcontent-%COMP%]{padding:16px}.file-format-info[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-size:.8em;padding:6px}}.editor-fallback[_ngcontent-%COMP%]{margin-top:8px}.editor-fallback[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.editor-wrapper[_ngcontent-%COMP%]{margin-bottom:20px}.editor-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:500;color:#333}.ckeditor-container[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:4px;overflow:hidden}.question-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e0e0e0;border-radius:8px;padding:20px;margin-bottom:20px;box-shadow:0 2px 4px #0000001a}.question-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.question-number[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600}.question-type[_ngcontent-%COMP%]{background:#e3f2fd;color:#1976d2;padding:2px 8px;border-radius:12px;font-size:12px;margin-left:8px}.full-width[_ngcontent-%COMP%]{width:100%}.half-width[_ngcontent-%COMP%]{width:48%}.question-settings-row[_ngcontent-%COMP%]{display:flex;gap:20px;margin-bottom:20px}.language-section[_ngcontent-%COMP%]{margin-bottom:30px;padding:15px;background:#f8f9fa;border-radius:6px}.language-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:15px;color:#333}.options-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:15px}.option-field[_ngcontent-%COMP%]{background:#fff;border:1px solid #e0e0e0;border-radius:6px;padding:15px;margin-bottom:15px}.option-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px}.option-letter[_ngcontent-%COMP%]{background:#f5f5f5;color:#333;width:30px;height:30px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:600}.option-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.correct-answers-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;background:#e8f5e9;color:#2e7d32;padding:10px 15px;border-radius:6px;margin-top:15px}.import-mode-selector[_ngcontent-%COMP%]{margin-bottom:20px}.mode-buttons[_ngcontent-%COMP%]{display:flex;gap:10px}.mode-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1}.mode-buttons[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#1976d2;color:#fff}.upload-area[_ngcontent-%COMP%]{border:2px dashed #ccc;border-radius:8px;padding:40px 20px;text-align:center;transition:border-color .3s}.upload-area.drag-over[_ngcontent-%COMP%]{border-color:#1976d2;background:#e3f2fd}.upload-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:15px}.upload-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:#1976d2}.browse-btn[_ngcontent-%COMP%]{margin-top:15px}.upload-loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:15px}.dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 24px 0}.close-button[_ngcontent-%COMP%]{margin-left:auto}.dialog-content[_ngcontent-%COMP%]{padding:20px 24px;max-height:calc(90vh - 150px);overflow-y:auto}.dialog-actions[_ngcontent-%COMP%]{padding:20px 24px;border-top:1px solid #e0e0e0}@media (max-width: 768px){.question-settings-row[_ngcontent-%COMP%]{flex-direction:column}.half-width[_ngcontent-%COMP%]{width:100%}.option-content[_ngcontent-%COMP%]{flex-direction:column}}.ckeditor-field[_ngcontent-%COMP%]{margin-bottom:20px}.ckeditor-label[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:500;color:#0009;margin-bottom:8px}.ckeditor-full-width[_ngcontent-%COMP%]{width:100%}.ckeditor-full-width[_ngcontent-%COMP%]     .ck-editor{width:100%}.ckeditor-full-width[_ngcontent-%COMP%]     .ck-editor__editable{min-height:150px;max-height:300px;overflow-y:auto;font-family:Roboto,Segoe UI,sans-serif;font-size:16px;line-height:1.6;padding:16px;border:1px solid #e0e0e0;border-radius:4px}.ckeditor-full-width[_ngcontent-%COMP%]     .ck-editor__editable.ck-focused{border-color:#3f51b5;box-shadow:0 0 0 2px #3f51b533}.option-field[_ngcontent-%COMP%]{width:100%}.option-row[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:flex-start}.half-width[_ngcontent-%COMP%]{flex:1;min-width:0}@media (max-width: 768px){.option-row[_ngcontent-%COMP%]{flex-direction:column;gap:15px}.half-width[_ngcontent-%COMP%]{width:100%}}.create-question-dialog-panel[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]{max-height:75vh;overflow-y:auto}.add-tag-dialog[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-height:90vh}.add-tag-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;background:#fff;border-bottom:1px solid #e5e7eb}.add-tag-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#1f2937;font-weight:600;font-size:1.4rem}.add-tag-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:24px}.add-tag-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.add-tag-dialog[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.add-tag-dialog[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:8px;color:#374151;font-size:.9rem}.add-tag-dialog[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding:12px 15px;border:2px solid #e5e7eb;border-radius:6px;font-size:14px;transition:all .3s ease;width:100%}.add-tag-dialog[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.add-tag-dialog[_ngcontent-%COMP%]   .form-control.error[_ngcontent-%COMP%]{border-color:#dc2626}.add-tag-dialog[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc2626;font-size:12px;margin-top:5px}.add-tag-dialog[_ngcontent-%COMP%]   .path-preview[_ngcontent-%COMP%]{background:#f8fafc;border:1px solid #e5e7eb;border-radius:6px;padding:12px 15px;font-family:Courier New,monospace;font-size:14px;color:#374151}.add-tag-dialog[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]{padding:16px 24px;background:#fff;border-top:1px solid #e5e7eb;display:flex;justify-content:flex-end;gap:12px}.tag-actions[_ngcontent-%COMP%]{margin-top:8px}.add-tag-btn[_ngcontent-%COMP%]{width:100%;font-size:12px!important;padding:4px 8px!important}.create-question-dialog[_ngcontent-%COMP%]{position:relative}@media (max-width: 768px){.add-tag-dialog[_ngcontent-%COMP%]{width:90vw!important}.add-tag-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{padding:16px}}.language-sections-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px;margin-bottom:20px}.language-section[_ngcontent-%COMP%]{background:#f8fafc;border:1px solid #e5e7eb;border-radius:8px;padding:20px;position:relative}.language-section.full-width[_ngcontent-%COMP%]{width:100%}.language-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:10px;border-bottom:2px solid #e5e7eb}.language-title[_ngcontent-%COMP%]{margin:0;color:#374151;font-size:1.1rem;display:flex;align-items:center;gap:8px}.language-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex-shrink:0}.options-section[_ngcontent-%COMP%]{margin-top:20px}.options-subtitle[_ngcontent-%COMP%]{margin:0 0 15px;color:#6b7280;font-size:.95rem;font-weight:600}.options-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.option-row[_ngcontent-%COMP%]{display:flex;flex-direction:column}.option-pair[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:20px}@media (max-width: 768px){.option-pair[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:15px}}.option-field[_ngcontent-%COMP%]{margin-bottom:0}.add-language-section[_ngcontent-%COMP%]{text-align:center;padding:20px;border:2px dashed #d1d5db;border-radius:8px;background:#f9fafb;cursor:pointer;transition:all .3s ease}.add-language-section[_ngcontent-%COMP%]:hover{background:#f3f4f6;border-color:#9ca3af}.add-language-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:14px;padding:8px 16px}.tag-actions[_ngcontent-%COMP%]{margin-top:10px;text-align:right}.add-tag-btn[_ngcontent-%COMP%]{font-size:13px!important;padding:4px 12px!important}.add-tag-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;height:16px;width:16px;margin-right:4px}.language-header[_ngcontent-%COMP%]   button[color=warn][_ngcontent-%COMP%]{color:#ef4444}.language-header[_ngcontent-%COMP%]   button[color=warn][_ngcontent-%COMP%]:hover{background-color:#ef44441a}@media (max-width: 768px){.language-section[_ngcontent-%COMP%]{padding:15px}.language-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:10px}.language-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{align-self:flex-end}.options-grid[_ngcontent-%COMP%]{gap:15px}}.tag-search-container[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid #e0e0e0;background-color:#fafafa;position:sticky;top:0;z-index:10}.tag-search-field[_ngcontent-%COMP%]{width:100%;margin-bottom:0}.tag-search-field[_ngcontent-%COMP%]   .mat-form-field-wrapper[_ngcontent-%COMP%]{padding-bottom:0}.tag-search-field[_ngcontent-%COMP%]   .mat-form-field-infix[_ngcontent-%COMP%]{border-top:0;padding:.5em 0}.tag-search-input[_ngcontent-%COMP%]{font-size:14px;cursor:text!important}.tag-search-input[_ngcontent-%COMP%], .tag-search-input[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:text!important}.tag-option-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;padding:8px 0}.tag-text[_ngcontent-%COMP%]{flex:1;font-family:Courier New,monospace;font-size:13px;color:#333}.tag-match-badge[_ngcontent-%COMP%]{background-color:gold;color:#333;padding:2px 8px;border-radius:10px;font-size:11px;font-weight:500;display:flex;align-items:center;gap:4px;white-space:nowrap}.tag-match-badge[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:12px;height:12px;width:12px}.no-tags-found[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 16px;color:#666;font-size:14px}.no-tags-found[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#999}.mat-select-panel[_ngcontent-%COMP%]{max-height:350px!important}.mat-option.mat-selected[_ngcontent-%COMP%]   .tag-text[_ngcontent-%COMP%]{color:#1976d2;font-weight:500}@media (max-width: 768px){.tag-search-container[_ngcontent-%COMP%]{padding:8px 12px}.tag-search-input[_ngcontent-%COMP%]{font-size:13px}.tag-text[_ngcontent-%COMP%]{font-size:12px}.tag-match-badge[_ngcontent-%COMP%]{font-size:10px;padding:1px 6px}.no-tags-found[_ngcontent-%COMP%]{padding:8px 12px;font-size:13px}}']})};var Le=class a{constructor(t){this.sanitizer=t}transform(t,e=100,n="..."){if(!t)return"";let i=t.replace(/<[^>]*>/g,"");if(i.length<=e)return this.sanitizer.bypassSecurityTrustHtml(t);let c=i.substring(0,e)+n;return this.sanitizer.bypassSecurityTrustHtml(c)}static \u0275fac=function(e){return new(e||a)(ce(B,16))};static \u0275pipe=de({name:"truncate",type:a,pure:!0})};var Re=class a{constructor(t){this.sanitizer=t}transform(t){return this.sanitizer.bypassSecurityTrustHtml(t||"")}static \u0275fac=function(e){return new(e||a)(ce(B,16))};static \u0275pipe=de({name:"safeHtml",type:a,pure:!0})};var ai=["viewDialogTemplate"],ri=["bulkTagDialogTemplate"],si=()=>[5,10,20,50];function li(a,t){if(a&1){let e=v();r(0,"div",17)(1,"div",18)(2,"span",19)(3,"mat-icon"),s(4,"check_circle"),o(),s(5),o()(),r(6,"div",20)(7,"div",21)(8,"button",22),f("click",function(){u(e);let i=p();return m(i.clearSelection())}),r(9,"mat-icon"),s(10,"clear"),o(),s(11," Clear Selection "),o(),r(12,"button",23),f("click",function(){u(e);let i=p();return m(i.openBulkTagDialog())}),r(13,"mat-icon"),s(14,"local_offer"),o(),s(15," Assign Tags "),o(),r(16,"button",24),f("click",function(){u(e);let i=p();return m(i.showSelectedUIDs())}),r(17,"mat-icon"),s(18,"list"),o(),s(19," Show UIDs "),o(),r(20,"button",25),f("click",function(){u(e);let i=p();return m(i.deleteSelectedQuestions())}),r(21,"mat-icon"),s(22,"delete"),o(),s(23," Delete Selected "),o()()()()}if(a&2){let e=p();l(5),ne(" ",e.selectedQuestions().length," question",e.selectedQuestions().length>1?"s":""," selected ")}}function ci(a,t){a&1&&(r(0,"span"),s(1,","),o())}function di(a,t){if(a&1&&(r(0,"span"),s(1),_(2,ci,2,0,"span",37),o()),a&2){let e=t.$implicit,n=t.last;l(),O(" ",e,""),l(),d("ngIf",!n)}}function pi(a,t){a&1&&(r(0,"div",38),s(1," No valid UIDs found in selected questions "),o())}function gi(a,t){if(a&1){let e=v();r(0,"div",26)(1,"div",27)(2,"h4")(3,"mat-icon"),s(4,"list_alt"),o(),s(5),o(),r(6,"div",28)(7,"button",29),f("click",function(){u(e);let i=p();return m(i.closeUIDsPanel())}),r(8,"mat-icon"),s(9,"close"),o()()()(),r(10,"div",30)(11,"div",31),_(12,di,3,2,"span",32),o(),_(13,pi,2,0,"div",33),o(),r(14,"div",34)(15,"button",35),f("click",function(){u(e);let i=p();return m(i.copySelectedUIDs())}),r(16,"mat-icon"),s(17,"content_copy"),o(),s(18," Copy All UIDs "),o(),r(19,"span",36),s(20),o()()()}if(a&2){let e=p();l(5),O(" Selected Question UIDs (",e.selectedQuestions().length,") "),l(7),d("ngForOf",e.getSelectedQuestionUIDs()),l(),d("ngIf",e.getSelectedQuestionUIDs().length===0),l(7),O("Total: ",e.getSelectedQuestionUIDs().length," UIDs")}}function ui(a,t){if(a&1&&(r(0,"div",39),s(1),o()),a&2){let e=p();l(),O(" ",e.getCurrentPageInfo()," ")}}function mi(a,t){a&1&&(r(0,"div",40),x(1,"div",41),r(2,"p"),s(3,"Loading questions..."),o()())}function _i(a,t){if(a&1){let e=v();r(0,"div",42)(1,"mat-icon"),s(2,"quiz"),o(),r(3,"p"),s(4,"No questions available yet."),o(),r(5,"button",43),f("click",function(){u(e);let i=p();return m(i.openCreateQuestionDialog())}),r(6,"mat-icon"),s(7,"add"),o(),s(8," Add First Question "),o()()}}function fi(a,t){if(a&1&&(x(0,"div",63),T(1,"truncate")),a&2){let e=p().$implicit;d("innerHTML",Ue(1,1,e.question.hindi,60),I)}}function hi(a,t){if(a&1&&(r(0,"span",64),s(1),o()),a&2){let e=t.$implicit,n=p(3);l(),O(" ",n.getTagName(e)," ")}}function xi(a,t){a&1&&(r(0,"span",65),s(1,"No tags"),o())}function bi(a,t){if(a&1){let e=v();r(0,"tr")(1,"td")(2,"mat-checkbox",50),f("change",function(i){let c=u(e).$implicit,g=p(2);return m(g.toggleQuestionSelection(c,i.checked))}),o()(),r(3,"td",51),s(4),o(),r(5,"td")(6,"span",52),s(7),o()(),r(8,"td")(9,"div",53),x(10,"div",54),T(11,"truncate"),_(12,fi,2,4,"div",55),o()(),r(13,"td")(14,"div",56),_(15,hi,2,1,"span",57)(16,xi,2,0,"span",58),o()(),r(17,"td")(18,"div",59)(19,"button",60),f("click",function(){let i=u(e).$implicit,c=p(2);return m(c.openViewDialog(i))}),r(20,"mat-icon"),s(21,"visibility"),o()(),r(22,"button",61),f("click",function(){let i=u(e).$implicit,c=p(2);return m(c.editQuestion(i))}),r(23,"mat-icon"),s(24,"edit"),o()(),r(25,"button",62),f("click",function(){let i=u(e).$implicit,c=p(2);return m(c.deleteQuestion(i))}),r(26,"mat-icon"),s(27,"delete"),o()()()()()}if(a&2){let e=t.$implicit,n=t.index,i=p(2);k("selected",i.isSelected(e)),l(2),d("checked",i.isSelected(e)),l(2),O(" ",i.currentPage()*i.pageSize()+n+1," "),l(3),Q(i.getQuestionId(e)),l(3),d("innerHTML",Ue(11,9,e.question.english,60),I),l(2),d("ngIf",e.question.hindi),l(3),d("ngForOf",e.tags),l(),d("ngIf",e.tags.length===0)}}function Ci(a,t){if(a&1){let e=v();r(0,"div",44)(1,"div",45)(2,"table")(3,"thead")(4,"tr")(5,"th",46)(6,"mat-checkbox",47),f("change",function(i){u(e);let c=p();return m(c.toggleSelectAll(i.checked))}),o()(),r(7,"th"),s(8,"S.No."),o(),r(9,"th"),s(10,"UID"),o(),r(11,"th"),s(12,"Questions EN-HI"),o(),r(13,"th"),s(14,"Tags"),o(),r(15,"th"),s(16,"Actions"),o()()(),r(17,"tbody"),_(18,bi,28,12,"tr",48),o()()(),r(19,"mat-paginator",49),f("page",function(i){u(e);let c=p();return m(c.onPageChange(i))}),o()()}if(a&2){let e=p();l(6),d("checked",e.allSelected())("indeterminate",e.someSelected()),l(12),d("ngForOf",e.questions()),l(),d("length",e.totalQuestions())("pageSize",e.pageSize())("pageIndex",e.currentPage())("pageSizeOptions",ge(7,si))}}function vi(a,t){if(a&1&&(r(0,"mat-option",86),s(1),o()),a&2){let e=t.$implicit;d("value",e._id),l(),O(" ",e.tag," ")}}function Mi(a,t){if(a&1){let e=v();r(0,"mat-chip",90),f("removed",function(){let i=u(e).$implicit,c=p(3);return m(c.removeTagFromSelection(i))}),s(1),r(2,"mat-icon",91),s(3,"cancel"),o()()}if(a&2){let e=t.$implicit,n=p(3);d("removable",!0),l(),O(" ",n.getTagName(e)," ")}}function Oi(a,t){if(a&1&&(r(0,"div",87)(1,"h4"),s(2,"Selected Tags:"),o(),r(3,"div",88),_(4,Mi,4,2,"mat-chip",89),o()()),a&2){let e=p(2);l(4),d("ngForOf",e.selectedTags)}}function yi(a,t){a&1&&x(0,"mat-spinner",92)}function Pi(a,t){if(a&1&&(r(0,"span"),s(1),o()),a&2){let e=p(2);l(),ne(" Apply Tags to ",e.selectedQuestions().length," Question",e.selectedQuestions().length>1?"s":""," ")}}function Si(a,t){if(a&1){let e=v();r(0,"div",66)(1,"div",67)(2,"h2",68),s(3,"Assign Tags to Multiple Questions"),o(),r(4,"button",69),f("click",function(){u(e);let i=p();return m(i.closeBulkTagDialog())}),r(5,"mat-icon"),s(6,"close"),o()()(),r(7,"mat-dialog-content",70)(8,"div",71)(9,"div",72)(10,"mat-icon"),s(11,"check_circle"),o(),r(12,"span"),s(13,"You have selected "),r(14,"strong"),s(15),o(),s(16),o()(),r(17,"div",73)(18,"h3"),s(19,"Select Tags"),o(),r(20,"mat-form-field",74)(21,"mat-label"),s(22,"Tags"),o(),r(23,"mat-select",75),He("ngModelChange",function(i){u(e);let c=p();return Ne(c.selectedTags,i)||(c.selectedTags=i),m(i)}),_(24,vi,2,2,"mat-option",76),o(),r(25,"mat-icon",77),s(26,"local_offer"),o()(),_(27,Oi,5,1,"div",78),r(28,"div",79)(29,"mat-checkbox",80),He("ngModelChange",function(i){u(e);let c=p();return Ne(c.replaceExistingTags,i)||(c.replaceExistingTags=i),m(i)}),s(30," Replace existing tags "),o(),r(31,"p",81),s(32,"If checked, existing tags will be replaced. If unchecked, tags will be added."),o()()()()(),r(33,"mat-dialog-actions",82)(34,"button",83),f("click",function(){u(e);let i=p();return m(i.closeBulkTagDialog())}),s(35," Cancel "),o(),r(36,"button",84),f("click",function(){u(e);let i=p();return m(i.applyBulkTags())}),_(37,yi,1,0,"mat-spinner",85)(38,Pi,2,2,"span",37),o()()()}if(a&2){let e=p();l(15),Q(e.selectedQuestions().length),l(),O(" question",e.selectedQuestions().length>1?"s":"",""),l(7),Be("ngModel",e.selectedTags),l(),d("ngForOf",e.tags()),l(3),d("ngIf",e.selectedTags.length>0),l(2),Be("ngModel",e.replaceExistingTags),l(5),d("disabled",e.bulkTagLoading()),l(2),d("disabled",e.selectedTags.length===0||e.bulkTagLoading()),l(),d("ngIf",e.bulkTagLoading()),l(),d("ngIf",!e.bulkTagLoading())}}function wi(a,t){if(a&1&&(r(0,"div",98)(1,"label")(2,"mat-icon"),s(3,"language"),o(),s(4," Hindi:"),o(),x(5,"div",101),T(6,"safeHtml"),o()),a&2){let e=p(3);l(5),d("innerHTML",E(6,1,e.selectedQuestion.question.hindi),I)}}function Ti(a,t){if(a&1&&(r(0,"div",98)(1,"label")(2,"mat-icon"),s(3,"language"),o(),s(4," English:"),o(),x(5,"div",106),T(6,"safeHtml"),o()),a&2){let e=p(4);l(5),d("innerHTML",E(6,1,e.selectedQuestion.description.english),I)}}function ki(a,t){if(a&1&&(r(0,"div",98)(1,"label")(2,"mat-icon"),s(3,"language"),o(),s(4," Hindi:"),o(),x(5,"div",106),T(6,"safeHtml"),o()),a&2){let e=p(4);l(5),d("innerHTML",E(6,1,e.selectedQuestion.description.hindi),I)}}function Ei(a,t){if(a&1&&(r(0,"div",100)(1,"h3")(2,"mat-icon"),s(3,"description"),o(),s(4," Description"),o(),_(5,Ti,7,3,"div",102)(6,ki,7,3,"div",102),o()),a&2){let e=p(3);l(5),d("ngIf",e.selectedQuestion.description==null?null:e.selectedQuestion.description.english),l(),d("ngIf",e.selectedQuestion.description==null?null:e.selectedQuestion.description.hindi)}}function Di(a,t){if(a&1&&(x(0,"div",113),T(1,"safeHtml")),a&2){let e=p().$implicit;d("innerHTML",E(1,1,e.hindi),I)}}function Qi(a,t){a&1&&(r(0,"span",114)(1,"mat-icon"),s(2,"check_circle"),o(),s(3," Correct Answer "),o())}function Ii(a,t){if(a&1&&(r(0,"div",107)(1,"span",108),s(2),o(),r(3,"div",109),x(4,"div",110),T(5,"safeHtml"),_(6,Di,2,3,"div",111),o(),_(7,Qi,4,0,"span",112),o()),a&2){let e=t.$implicit,n=t.index,i=p(3);k("correct",n===i.selectedQuestion.correctAnswer),l(2),Q(i.getOptionLetter(n)),l(2),d("innerHTML",E(5,6,e.english),I),l(2),d("ngIf",e.hindi),l(),d("ngIf",n===i.selectedQuestion.correctAnswer)}}function Ai(a,t){if(a&1&&(r(0,"mat-chip",116),s(1),o()),a&2){let e=t.$implicit,n=p(4);l(),O(" ",n.getTagName(e)," ")}}function Fi(a,t){if(a&1&&(r(0,"div",100)(1,"h3")(2,"mat-icon"),s(3,"local_offer"),o(),s(4," Tags"),o(),r(5,"div",88),_(6,Ai,2,1,"mat-chip",115),o()()),a&2){let e=p(3);l(6),d("ngForOf",e.selectedQuestion.tags)}}function qi(a,t){if(a&1&&(r(0,"div",97)(1,"div",98)(2,"label"),s(3,"UID:"),o(),r(4,"span",99),s(5),o()(),r(6,"div",100)(7,"h3")(8,"mat-icon"),s(9,"question_answer"),o(),s(10," Question Text"),o(),r(11,"div",98)(12,"label")(13,"mat-icon"),s(14,"language"),o(),s(15," English:"),o(),x(16,"div",101),T(17,"safeHtml"),o(),_(18,wi,7,3,"div",102),o(),_(19,Ei,7,2,"div",103),r(20,"div",100)(21,"h3")(22,"mat-icon"),s(23,"format_list_bulleted"),o(),s(24," Options"),o(),r(25,"div",104),_(26,Ii,8,8,"div",105),o()(),_(27,Fi,7,1,"div",103),o()),a&2){let e=p(2);l(5),Q(e.selectedQuestion.uid||e.selectedQuestion._id||"N/A"),l(11),d("innerHTML",E(17,6,e.selectedQuestion.question.english),I),l(2),d("ngIf",e.selectedQuestion.question.hindi),l(),d("ngIf",(e.selectedQuestion.description==null?null:e.selectedQuestion.description.english)||(e.selectedQuestion.description==null?null:e.selectedQuestion.description.hindi)),l(7),d("ngForOf",e.selectedQuestion.options),l(),d("ngIf",e.selectedQuestion.tags==null?null:e.selectedQuestion.tags.length)}}function Vi(a,t){if(a&1){let e=v();r(0,"div",93)(1,"div",67)(2,"h2",68),s(3,"Question Details"),o(),r(4,"button",69),f("click",function(){u(e);let i=p();return m(i.closeViewDialog())}),r(5,"mat-icon"),s(6,"close"),o()()(),r(7,"mat-dialog-content",70),_(8,qi,28,8,"div",94),o(),r(9,"mat-dialog-actions",82)(10,"button",95),f("click",function(){u(e);let i=p();return m(i.editQuestion(i.selectedQuestion))}),r(11,"mat-icon"),s(12,"edit"),o(),s(13," Edit Question "),o(),r(14,"button",96),f("click",function(){u(e);let i=p();return m(i.closeViewDialog())}),r(15,"mat-icon"),s(16,"close"),o(),s(17," Close "),o()()()}if(a&2){let e=p();l(8),d("ngIf",e.selectedQuestion)}}var Rt=class a{questionService=M(Ae);tagService=M(qe);dialog=M(ke);snackBar=M(Pe);sanitizer=M(B);clipboard=M(Vt);viewDialogRef=null;bulkTagDialogRef=null;viewDialogTemplate;bulkTagDialogTemplate;questions=y([]);tags=y([]);loading=y(!1);selectedQuestion=null;selectedQuestions=y([]);allSelected=y(!1);someSelected=y(!1);showUIDsPanel=y(!1);selectedTags=[];replaceExistingTags=!1;bulkTagLoading=y(!1);totalQuestions=y(0);pageSize=y(10);currentPage=y(0);paginationInfo=y(null);ngOnInit(){this.loadQuestions(),this.loadTags()}loadQuestions(){this.loading.set(!0);let t=this.currentPage()+1,e=this.pageSize();this.questionService.getQuestions(t,e).subscribe({next:n=>{this.questions.set(n.questions),this.paginationInfo.set(n.pagination),this.totalQuestions.set(n.pagination.totalQuestions),this.loading.set(!1),this.updateSelectionStates()},error:n=>{this.snackBar.open("Error loading questions","Close",{duration:3e3}),this.loading.set(!1)}})}loadTags(){this.tagService.getTags().subscribe({next:t=>{this.tags.set(t)},error:t=>{this.snackBar.open("Error loading tags","Close",{duration:3e3})}})}onPageChange(t){this.currentPage.set(t.pageIndex),this.pageSize.set(t.pageSize),this.clearSelection(),this.showUIDsPanel.set(!1),this.loadQuestions()}getQuestionId(t){return t.uid||t._id||"N/A"}showSelectedUIDs(){if(this.selectedQuestions().length===0){this.snackBar.open("Please select questions first","Close",{duration:3e3});return}this.showUIDsPanel.set(!0)}closeUIDsPanel(){this.showUIDsPanel.set(!1)}getSelectedQuestionUIDs(){return this.selectedQuestions().map(t=>t.uid||t._id).filter(t=>!!t)}copySelectedUIDs(){let t=this.getSelectedQuestionUIDs();if(t.length===0){this.snackBar.open("No UIDs to copy","Close",{duration:3e3});return}let e=t.join(`,
`);this.clipboard.copy(e),this.snackBar.open(`${t.length} UID${t.length>1?"s":""} copied to clipboard!`,"Close",{duration:3e3,panelClass:["success-snackbar"]})}openViewDialog(t){this.selectedQuestion=t,this.viewDialogRef=this.dialog.open(this.viewDialogTemplate,{width:"90vw",maxWidth:"1200px",height:"90vh",maxHeight:"800px",panelClass:"view-question-dialog-panel",autoFocus:!1}),this.viewDialogRef.afterClosed().subscribe(()=>{this.selectedQuestion=null})}closeViewDialog(){this.viewDialogRef&&this.viewDialogRef.close()}openCreateQuestionDialog(t){this.dialog.open(ze,{width:"90vw",maxWidth:"1200px",height:"90vh",maxHeight:"800px",panelClass:"create-question-dialog-panel",autoFocus:!1,data:{question:t||null,tags:this.tags()}}).afterClosed().subscribe(n=>{n&&(this.loadQuestions(),this.loadTags())})}editQuestion(t){this.closeViewDialog(),this.openCreateQuestionDialog(t)}deleteQuestion(t){let e=t.uid||t._id;if(!e){this.snackBar.open("Cannot delete question: Invalid ID","Close",{duration:3e3});return}confirm("Are you sure you want to delete this question?")&&this.questionService.deleteQuestion(e).subscribe({next:()=>{this.snackBar.open("Question deleted successfully","Close",{duration:3e3}),this.loadQuestions(),this.removeFromSelection(t)},error:n=>{this.snackBar.open("Error deleting question: "+n.error?.message,"Close",{duration:3e3})}})}deleteSelectedQuestions(){let t=this.selectedQuestions();if(t.length===0)return;let e=t.map(n=>n.uid||n._id).filter(n=>!!n);if(e.length===0){this.snackBar.open("No valid questions to delete","Close",{duration:3e3});return}if(confirm(`Are you sure you want to delete ${t.length} question${t.length>1?"s":""}?`)){this.loading.set(!0);let n=e.map(i=>this.questionService.deleteQuestion(i).toPromise());Promise.all(n).then(()=>{this.snackBar.open(`Successfully deleted ${t.length} question${t.length>1?"s":""}`,"Close",{duration:3e3}),this.clearSelection(),this.showUIDsPanel.set(!1),this.loadQuestions()}).catch(i=>{this.loading.set(!1),this.snackBar.open("Error deleting some questions","Close",{duration:3e3}),console.error("Delete error:",i)})}}openBulkTagDialog(){if(this.selectedQuestions().length===0){this.snackBar.open("Please select questions first","Close",{duration:3e3});return}this.selectedTags=[],this.replaceExistingTags=!1,this.bulkTagDialogRef=this.dialog.open(this.bulkTagDialogTemplate,{width:"500px",maxWidth:"90vw",panelClass:"bulk-tag-dialog-panel",autoFocus:!1}),this.bulkTagDialogRef.afterClosed().subscribe(()=>{this.clearSelection(),this.showUIDsPanel.set(!1)})}closeBulkTagDialog(){this.bulkTagDialogRef&&this.bulkTagDialogRef.close()}removeTagFromSelection(t){this.selectedTags=this.selectedTags.filter(e=>e!==t)}applyBulkTags(){return re(this,null,function*(){let t=this.selectedQuestions();if(!(t.length===0||this.selectedTags.length===0)){this.bulkTagLoading.set(!0);try{let e=t.map(n=>{let i=n.uid||n._id;if(!i)return Promise.resolve();let c;if(this.replaceExistingTags)c=[...this.selectedTags];else{let h=n.tags||[];c=[...new Set([...h,...this.selectedTags])]}let g=Je(Ze({},n),{tags:c});return this.questionService.updateQuestion(i,g).toPromise()});yield Promise.all(e),this.snackBar.open(`Successfully updated tags for ${t.length} question${t.length>1?"s":""}`,"Close",{duration:3e3}),this.closeBulkTagDialog(),this.loadQuestions()}catch(e){console.error("Error updating tags:",e),this.snackBar.open("Error updating tags for some questions","Close",{duration:3e3})}finally{this.bulkTagLoading.set(!1)}}})}getTagName(t){let e=this.tags().find(n=>n._id===t);return e?e.tag:t}getOptionLetter(t){return String.fromCharCode(65+t)}getCurrentPageInfo(){if(!this.paginationInfo())return"";let e=this.currentPage()*this.pageSize()+1,n=Math.min(e+this.pageSize()-1,this.totalQuestions());return`Showing ${e}-${n} of ${this.totalQuestions()} questions`}sanitizeHtml(t){return this.sanitizer.bypassSecurityTrustHtml(t)}isSelected(t){return this.selectedQuestions().some(e=>e._id&&e._id===t._id||e.uid&&e.uid===t.uid)}toggleQuestionSelection(t,e){let n=this.selectedQuestions();e?this.isSelected(t)||this.selectedQuestions.set([...n,t]):this.selectedQuestions.set(n.filter(i=>!(i._id&&i._id===t._id||i.uid&&i.uid===t.uid))),this.updateSelectionStates()}toggleSelectAll(t){t?this.selectedQuestions.set([...this.questions()]):this.selectedQuestions.set([]),this.updateSelectionStates()}clearSelection(){this.selectedQuestions.set([]),this.showUIDsPanel.set(!1),this.updateSelectionStates()}removeFromSelection(t){let e=this.selectedQuestions();this.selectedQuestions.set(e.filter(n=>!(n._id&&n._id===t._id||n.uid&&n.uid===t.uid))),this.updateSelectionStates()}updateSelectionStates(){let t=this.questions(),e=this.selectedQuestions(),n=t.length>0&&e.length===t.length;this.allSelected.set(n);let i=e.length>0&&e.length<t.length;this.someSelected.set(i)}getSelectedQuestionIds(){return this.selectedQuestions().map(t=>t.uid||t._id).filter(t=>!!t)}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=F({type:a,selectors:[["app-questions-master"]],viewQuery:function(e,n){if(e&1&&(V(ai,5),V(ri,5)),e&2){let i;z(i=L())&&(n.viewDialogTemplate=i.first),z(i=L())&&(n.bulkTagDialogTemplate=i.first)}},decls:29,vars:7,consts:[["bulkTagDialogTemplate",""],["viewDialogTemplate",""],[1,"questions-management"],[1,"header"],[1,"questions-container"],[1,"questions-section"],[1,"section-header"],[1,"header-content"],[1,"questions-count"],[1,"action-buttons"],[1,"btn","btn-primary",3,"click"],["class","bulk-actions-panel",4,"ngIf"],["class","uids-panel",4,"ngIf"],["class","page-info",4,"ngIf"],["class","loading",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","questions-table-container",4,"ngIf"],[1,"bulk-actions-panel"],[1,"bulk-info"],[1,"selected-count"],[1,"bulk-controls"],[1,"bulk-buttons"],["mat-button","",1,"clear-btn",3,"click"],["mat-button","","color","primary",1,"tag-btn",3,"click"],["mat-button","","matTooltip","Show selected question UIDs",1,"uid-btn",3,"click"],["mat-button","","color","warn",1,"delete-btn",3,"click"],[1,"uids-panel"],[1,"uids-panel-header"],[1,"uids-actions"],["mat-icon-button","","matTooltip","Close panel",3,"click"],[1,"uids-content"],[1,"uids-list"],[4,"ngFor","ngForOf"],["class","no-uids",4,"ngIf"],[1,"uids-footer"],["mat-button","",1,"copy-all-btn",3,"click"],[1,"total-uids"],[4,"ngIf"],[1,"no-uids"],[1,"page-info"],[1,"loading"],[1,"spinner"],[1,"empty-state"],["mat-raised-button","","color","primary",3,"click"],[1,"questions-table-container"],[1,"questions-table"],["width","50"],[3,"change","checked","indeterminate"],[3,"selected",4,"ngFor","ngForOf"],["aria-label","Select page of questions",3,"page","length","pageSize","pageIndex","pageSizeOptions"],[3,"change","checked"],[1,"serial-number"],[1,"question-id"],[1,"question-preview"],[1,"question-en",3,"innerHTML"],["class","question-hi",3,"innerHTML",4,"ngIf"],[1,"tags-display"],["class","tag-badge",4,"ngFor","ngForOf"],["class","no-tags",4,"ngIf"],[1,"actions"],["matTooltip","View Details",1,"btn-view",3,"click"],["matTooltip","Edit Question",1,"btn-edit",3,"click"],["matTooltip","Delete Question",1,"btn-delete",3,"click"],[1,"question-hi",3,"innerHTML"],[1,"tag-badge"],[1,"no-tags"],[1,"bulk-tag-dialog"],[1,"dialog-header"],["mat-dialog-title",""],["mat-icon-button","",1,"close-button",3,"click"],[1,"dialog-content"],[1,"bulk-tag-content"],[1,"selection-info"],[1,"tag-selection-section"],["appearance","outline",1,"full-width"],["multiple","",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["matSuffix",""],["class","selected-tags-preview",4,"ngIf"],[1,"action-options"],[3,"ngModelChange","ngModel"],[1,"option-help"],["align","end",1,"dialog-actions"],["mat-button","",3,"click","disabled"],["mat-raised-button","","color","primary",3,"click","disabled"],["diameter","20",4,"ngIf"],[3,"value"],[1,"selected-tags-preview"],[1,"tags-container"],[3,"removable","removed",4,"ngFor","ngForOf"],[3,"removed","removable"],["matChipRemove",""],["diameter","20"],[1,"view-question-dialog"],["class","question-details",4,"ngIf"],["mat-raised-button","","color","primary",1,"edit-btn",3,"click"],["mat-button","",1,"close-btn",3,"click"],[1,"question-details"],[1,"detail-row"],[1,"question-id-badge"],[1,"detail-section"],[1,"question-text","rich-text",3,"innerHTML"],["class","detail-row",4,"ngIf"],["class","detail-section",4,"ngIf"],[1,"options-container"],["class","option-detail",3,"correct",4,"ngFor","ngForOf"],[1,"description-text","rich-text",3,"innerHTML"],[1,"option-detail"],[1,"option-letter"],[1,"option-content"],[1,"option-en","rich-text",3,"innerHTML"],["class","option-hi rich-text",3,"innerHTML",4,"ngIf"],["class","correct-badge",4,"ngIf"],[1,"option-hi","rich-text",3,"innerHTML"],[1,"correct-badge"],["class","question-tag","selected","true",4,"ngFor","ngForOf"],["selected","true",1,"question-tag"]],template:function(e,n){if(e&1){let i=v();r(0,"div",2)(1,"div",3)(2,"h1"),s(3,"Question Bank"),o(),r(4,"p"),s(5,"Manage Questions"),o()(),r(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"h3"),s(11,"Questions List"),o(),r(12,"div",8),s(13),o()(),r(14,"div",9)(15,"button",10),f("click",function(){return u(i),m(n.openCreateQuestionDialog())}),r(16,"mat-icon"),s(17,"add"),o(),s(18," Add New Question "),o()()(),_(19,li,24,2,"div",11)(20,gi,21,4,"div",12)(21,ui,2,1,"div",13)(22,mi,4,0,"div",14)(23,_i,9,0,"div",15)(24,Ci,20,8,"div",16),o()()(),_(25,Si,39,10,"ng-template",null,0,ie)(27,Vi,18,1,"ng-template",null,1,ie)}e&2&&(l(13),O("",n.totalQuestions()," questions"),l(6),d("ngIf",n.selectedQuestions().length>0),l(),d("ngIf",n.showUIDsPanel()),l(),d("ngIf",!n.loading()&&n.questions().length>0),l(),d("ngIf",n.loading()),l(),d("ngIf",!n.loading()&&n.questions().length===0),l(),d("ngIf",!n.loading()&&n.questions().length>0))},dependencies:[_e,ue,me,he,fe,_t,Ie,Ee,Qe,De,j,Me,U,Ot,Te,we,Fe,Ft,At,ye,Oe,Se,qt,Ke,Dt,Et,Ce,H,xe,be,$,G,N,ve,K,W,Le,Re],styles:[".questions-management[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:25px;border-radius:10px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 10px;font-size:2rem}.header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;opacity:.9;font-size:1rem}.questions-section[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:10px;box-shadow:0 2px 10px #0000001a;border:1px solid #e5e7eb}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:15px;border-bottom:2px solid #e5e7eb}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.header-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#374151;font-size:1.3rem}.questions-count[_ngcontent-%COMP%]{background:#667eea;color:#fff;padding:4px 12px;border-radius:15px;font-size:12px;font-weight:600}.btn[_ngcontent-%COMP%]{padding:12px 24px;border:none;border-radius:6px;font-weight:600;cursor:pointer;transition:all .3s ease;font-size:14px;display:flex;align-items:center;gap:8px}.btn-primary[_ngcontent-%COMP%]{background:#667eea;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#5a6fd8;transform:translateY(-1px)}.btn-secondary[_ngcontent-%COMP%]{background-color:#ff9800;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#f57c00}.btn-secondary[_ngcontent-%COMP%]:disabled{background-color:#ffcc80;color:#e65100;cursor:not-allowed}.btn-danger[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#d32f2f}.btn-danger[_ngcontent-%COMP%]:disabled{background-color:#ffcdd2;color:#b71c1c;cursor:not-allowed}.loading[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#6b7280}.spinner[_ngcontent-%COMP%]{border:3px solid #f3f4f6;border-left:3px solid #667eea;border-radius:50%;width:30px;height:30px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 15px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;color:#6b7280}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:15px;opacity:.5}.questions-table[_ngcontent-%COMP%]{overflow-x:auto;border-radius:8px;border:1px solid #e5e7eb}.questions-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;min-width:600px}.questions-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#f8fafc}.questions-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .questions-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 15px;text-align:left;border-bottom:1px solid #e5e7eb;vertical-align:top}.questions-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;color:#374151;border-bottom:2px solid #e5e7eb}.serial-number[_ngcontent-%COMP%]{font-weight:600;color:#6b7280}.question-id[_ngcontent-%COMP%]{background:#f1f5f9;color:#475569;padding:6px 12px;border-radius:20px;font-size:14px;font-weight:500;font-family:Courier New,monospace}.question-preview[_ngcontent-%COMP%]{line-height:1.4;min-width:300px;cursor:help;transition:all .2s ease}.question-preview[_ngcontent-%COMP%]:hover{color:#1976d2}.question-en[_ngcontent-%COMP%]{font-weight:500;color:#374151;margin-bottom:4px}.question-hi[_ngcontent-%COMP%]{color:#6b7280;font-size:.9em}.tags-display[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:4px}.tag-badge[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1976d2;padding:2px 8px;border-radius:12px;font-size:12px;white-space:nowrap}.no-tags[_ngcontent-%COMP%]{color:#999;font-style:italic;font-size:12px}.actions[_ngcontent-%COMP%]{display:flex;gap:8px}.btn-view[_ngcontent-%COMP%], .btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{padding:6px 12px;border:none;border-radius:4px;font-size:12px;cursor:pointer;transition:all .3s ease;font-weight:500;display:flex;align-items:center;gap:4px;white-space:nowrap}.btn-view[_ngcontent-%COMP%]{background:#8b5cf6;color:#fff}.btn-view[_ngcontent-%COMP%]:hover{background:#7c3aed}.btn-edit[_ngcontent-%COMP%]{background:#3b82f6;color:#fff}.btn-edit[_ngcontent-%COMP%]:hover{background:#2563eb}.btn-delete[_ngcontent-%COMP%]{background:#ef4444;color:#fff}.btn-delete[_ngcontent-%COMP%]:hover{background:#dc2626}.questions-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.selected[_ngcontent-%COMP%]{background-color:#e3f2fd!important}.questions-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.questions-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.selected[_ngcontent-%COMP%]:hover{background-color:#bbdefb!important}.questions-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, .questions-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:50px;text-align:center;padding:0 8px}.questions-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, .questions-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-left:16px}.bulk-actions-panel[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e3f2fd,#bbdefb);border-radius:8px;padding:16px;margin-bottom:16px;border:1px solid #90caf9;box-shadow:0 2px 4px #1976d21a}.bulk-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:12px}.bulk-info[_ngcontent-%COMP%]   .selected-count[_ngcontent-%COMP%]{color:#1976d2;font-weight:600;font-size:14px;display:flex;align-items:center;gap:6px}.bulk-controls[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.select-all-checkbox[_ngcontent-%COMP%]{font-weight:500}.bulk-buttons[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.bulk-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:13px;padding:4px 12px}.bulk-buttons[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]{color:#666}.bulk-buttons[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]:hover{background-color:#0000000a}.bulk-buttons[_ngcontent-%COMP%]   .tag-btn[_ngcontent-%COMP%]{background-color:#ff9800;color:#fff}.bulk-buttons[_ngcontent-%COMP%]   .tag-btn[_ngcontent-%COMP%]:hover{background-color:#f57c00}.bulk-buttons[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.bulk-buttons[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]:hover{background-color:#d32f2f}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;flex-wrap:wrap}.question-preview-container[_ngcontent-%COMP%]{position:relative}.quick-view-popup[_ngcontent-%COMP%]{display:none;position:absolute;top:0;left:100%;margin-left:20px;width:400px;max-width:90vw;background:#fff;border-radius:8px;box-shadow:0 4px 20px #00000026;z-index:1000;border:1px solid #e0e0e0;opacity:0;transform:translate(-10px);transition:opacity .3s ease,transform .3s ease}.question-preview-container[_ngcontent-%COMP%]:hover   .quick-view-popup[_ngcontent-%COMP%]{display:block;opacity:1;transform:translate(0)}.popup-content[_ngcontent-%COMP%]{padding:16px;max-height:400px;overflow-y:auto}.popup-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;padding-bottom:8px;border-bottom:2px solid #e3f2fd}.popup-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;color:#1976d2;font-size:14px;font-weight:600}.popup-id[_ngcontent-%COMP%]{background:#e3f2fd;color:#1976d2;padding:2px 8px;border-radius:12px;font-size:11px;font-weight:500}.popup-section[_ngcontent-%COMP%]{margin-bottom:12px}.popup-section[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0 0 4px;color:#666;font-size:12px;font-weight:600;text-transform:uppercase}.popup-text[_ngcontent-%COMP%]{font-size:13px;line-height:1.4;color:#333;max-height:100px;overflow-y:auto;padding:8px;background:#f8f9fa;border-radius:4px;border:1px solid #e9ecef}.rich-text[_ngcontent-%COMP%]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;line-height:1.6;color:#333}.rich-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .rich-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .rich-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .rich-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .rich-text[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .rich-text[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin-top:1em;margin-bottom:.5em;color:#2c3e50;font-weight:600}.rich-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1em}.rich-text[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .rich-text[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin-left:1.5em;margin-bottom:1em}.rich-text[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.5em}.rich-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .rich-text[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50}.rich-text[_ngcontent-%COMP%]   em[_ngcontent-%COMP%], .rich-text[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-style:italic}.rich-text[_ngcontent-%COMP%]   u[_ngcontent-%COMP%]{text-decoration:underline}.rich-text[_ngcontent-%COMP%]   blockquote[_ngcontent-%COMP%]{border-left:4px solid #3498db;padding-left:1em;margin-left:0;color:#555;font-style:italic}.rich-text[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-bottom:1em}.rich-text[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rich-text[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px;text-align:left}.rich-text[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f2f2f2;font-weight:600}.rich-text[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:4px}.rich-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3498db;text-decoration:none}.rich-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.view-question-dialog[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;max-height:92vh;backdrop-filter:blur(6px);background:#ffffffbf}.dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:18px 28px;background:#ffffffd9;backdrop-filter:blur(10px);border-bottom:1px solid #e5e7eb;position:sticky;top:0;z-index:10}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#1f2937;font-weight:600;font-size:1.45rem}.close-button[_ngcontent-%COMP%]{transform:scale(1.1)}.dialog-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:0;margin:0}.question-details[_ngcontent-%COMP%]{padding:24px 28px;display:flex;flex-direction:column;gap:28px}.detail-section[_ngcontent-%COMP%]{background:#fff;border-radius:14px;padding:22px 26px;border:1px solid #e5e7eb;box-shadow:0 3px 10px #0000000d}.detail-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 18px;font-size:1.15rem;font-weight:600;color:#374151;border-left:4px solid #6366f1;padding-left:10px}.detail-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;margin-bottom:14px;gap:16px}.detail-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{min-width:160px;font-size:.9rem;text-transform:uppercase;letter-spacing:.6px;color:#6b7280;font-weight:700}.detail-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;color:#374151;font-size:1rem}.question-id-badge[_ngcontent-%COMP%]{background:#eef2ff;color:#4338ca;padding:6px 14px;border-radius:12px;font-family:JetBrains Mono,monospace;border:1px solid #c7d2fe;font-size:.85rem}.options-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:14px}.option-detail[_ngcontent-%COMP%]{display:flex;padding:18px;border-radius:12px;border:1px solid #e5e7eb;background:#fff;gap:18px;align-items:flex-start;transition:.25s ease}.option-detail[_ngcontent-%COMP%]:hover{border-color:#d1d5db;box-shadow:0 4px 14px #00000012}.option-detail.correct[_ngcontent-%COMP%]{border-color:#10b981;background:#ecfdf5}.option-letter[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;background:#f4f4f5;padding:10px 14px;border-radius:8px;min-width:36px;text-align:center;color:#374151}.option-detail.correct[_ngcontent-%COMP%]   .option-letter[_ngcontent-%COMP%]{background:#10b981;color:#fff}.option-content[_ngcontent-%COMP%]{flex:1}.option-en[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#111827}.option-hi[_ngcontent-%COMP%]{font-size:.9rem;color:#6b7280}.correct-badge[_ngcontent-%COMP%]{background:#10b981;color:#fff;padding:8px 14px;border-radius:20px;font-size:.8rem;font-weight:600;display:inline-flex;align-items:center;gap:5px}[_nghost-%COMP%]   .tags-container[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;gap:8px;white-space:nowrap;overflow-x:auto;align-items:center}[_nghost-%COMP%]     .question-tag.mat-mdc-chip{background:linear-gradient(135deg,#6366f1,#8b5cf6)!important;color:#fff!important;border-radius:12px!important;font-weight:600!important;padding:6px 14px!important;display:inline-flex!important;align-items:center}[_nghost-%COMP%]     .question-tag .mdc-evolution-chip__text-label{color:#fff!important}.dialog-actions[_ngcontent-%COMP%]{padding:18px 28px;background:#ffffffd9;border-top:1px solid #e5e7eb;position:sticky;bottom:0;backdrop-filter:blur(10px)}.edit-btn[_ngcontent-%COMP%]{padding:10px 24px;border-radius:10px;font-size:1rem}.bulk-tag-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{padding:20px}.bulk-tag-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.selection-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:12px;background:#e8f5e9;border-radius:8px;border:1px solid #c8e6c9}.selected-tags-preview[_ngcontent-%COMP%]{margin-top:16px}.selected-tags-preview[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;color:#666;font-size:14px;font-weight:500}.full-width[_ngcontent-%COMP%]{width:100%}.action-options[_ngcontent-%COMP%]{margin-top:16px;padding:12px;background:#fff3e0;border-radius:6px;border:1px solid #ffe0b2}.option-help[_ngcontent-%COMP%]{margin:8px 0 0;color:#666;font-size:12px;font-style:italic}mat-paginator[_ngcontent-%COMP%]{background:#f8fafc;border-top:1px solid #e5e7eb;padding:15px 20px}@media (max-width: 968px){.questions-management[_ngcontent-%COMP%]{padding:15px}.questions-section[_ngcontent-%COMP%]{padding:20px}.section-header[_ngcontent-%COMP%]{flex-direction:column;gap:15px;align-items:stretch}.header-content[_ngcontent-%COMP%]{justify-content:space-between}}@media (max-width: 768px){.questions-section[_ngcontent-%COMP%]{padding:15px}.actions[_ngcontent-%COMP%]{flex-direction:column;gap:5px}.btn-view[_ngcontent-%COMP%], .btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{padding:8px 12px;font-size:11px;justify-content:center}.questions-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{min-width:500px}.bulk-controls[_ngcontent-%COMP%]{flex-direction:column;gap:12px;align-items:flex-start}.bulk-buttons[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}.quick-view-popup[_ngcontent-%COMP%]{display:none!important}}@media (max-width: 480px){.bulk-buttons[_ngcontent-%COMP%]{flex-direction:column;width:100%}.bulk-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}.uids-panel[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f0f9ff,#e0f2fe);border-radius:8px;padding:16px;margin-bottom:16px;border:1px solid #0ea5e9;box-shadow:0 2px 8px #0ea5e91a}.uids-panel-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;padding-bottom:8px;border-bottom:2px solid #bae6fd}.uids-panel-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;color:#0369a1;font-size:14px;font-weight:600;display:flex;align-items:center;gap:6px}.uids-actions[_ngcontent-%COMP%]{display:flex;gap:4px}.uids-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#0369a1}.uids-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0369a11a}.uids-content[_ngcontent-%COMP%]{background:#fff;border-radius:6px;padding:12px;border:1px solid #bae6fd;max-height:200px;overflow-y:auto;margin-bottom:12px}.uids-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;font-family:JetBrains Mono,Courier New,monospace;font-size:13px;color:#0c4a6e}.uids-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#f0f9ff;padding:4px 8px;border-radius:4px;border:1px solid #bae6fd;white-space:nowrap}.no-uids[_ngcontent-%COMP%]{color:#64748b;font-style:italic;text-align:center;padding:8px;font-size:13px}.uids-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.copy-all-btn[_ngcontent-%COMP%]{background-color:#0ea5e9;color:#fff;font-size:12px;padding:4px 12px;display:flex;align-items:center;gap:4px}.copy-all-btn[_ngcontent-%COMP%]:hover{background-color:#0284c7}.total-uids[_ngcontent-%COMP%]{color:#0369a1;font-size:12px;font-weight:600}.uid-btn[_ngcontent-%COMP%]{background-color:#0ea5e9!important;color:#fff!important}.uid-btn[_ngcontent-%COMP%]:hover{background-color:#0284c7!important}.success-snackbar[_ngcontent-%COMP%]{background-color:#10b981!important;color:#fff!important}@media (max-width: 768px){.uids-panel-header[_ngcontent-%COMP%]{flex-direction:column;gap:8px;align-items:flex-start}.uids-actions[_ngcontent-%COMP%]{align-self:flex-end}.uids-list[_ngcontent-%COMP%]{font-size:12px}.uids-footer[_ngcontent-%COMP%]{flex-direction:column;gap:8px;align-items:flex-start}.copy-all-btn[_ngcontent-%COMP%]{align-self:stretch;justify-content:center}.total-uids[_ngcontent-%COMP%]{align-self:flex-end}}"]})};export{Rt as QuestionsMasterComponent};
