import{a as pt,b as gt,c as ut,d as Ct}from"./chunk-4TJAJ76Z.js";import{b as lt}from"./chunk-LMM7AXPU.js";import{b as Ge,c as We}from"./chunk-55DL4JCR.js";import{a as Je,b as et,c as tt,d as nt,e as it,f as ot,g as J}from"./chunk-4TA4R672.js";import{k as dt}from"./chunk-T4LTT3C7.js";import{a as at,b as rt,c as st}from"./chunk-GHQD5XIY.js";import{c as Me}from"./chunk-UG3TAOCT.js";import{a as Ye}from"./chunk-T5SKTLKE.js";import{a as Pe}from"./chunk-2H4Z2K4R.js";import{a as ct,b as mt}from"./chunk-ANLVYVIZ.js";import{a as W,b as X}from"./chunk-KLEPB37Q.js";import"./chunk-7RWCIHFI.js";import"./chunk-U6CKJMGU.js";import"./chunk-CRTYOTUM.js";import{b as Be,c as Ne,d as He,e as je,h as $e}from"./chunk-OBP7X3GA.js";import"./chunk-GL2RTCLG.js";import{a as K,b as Z}from"./chunk-BFQVRRBQ.js";import{a as ee}from"./chunk-MJ27DAE4.js";import"./chunk-7G2NQBXL.js";import{a as Fe,b as qe,c as Ae,d as Re,e as Qe,f as ze,g as Ue}from"./chunk-Y4AHRI4W.js";import{a as Y,b as G}from"./chunk-XMRX5FRA.js";import{d as Ce}from"./chunk-GRH6IN53.js";import{A as le,I as ye,K as Xe,L as j,N as $,_ as Ke,ea as de,ha as Ze}from"./chunk-7XSJTIVU.js";import{d as ve}from"./chunk-ZWY6WOSF.js";import{A as H,b as z,d as T,f as U,g as we,j as Oe,k as B,l as Te,m as ke,n as Se,o as Ie,r as Ee,u as De,v as Ve,y as Le,z as N}from"./chunk-MUJPFQ6Z.js";import{$b as oe,Db as d,Fb as I,Gb as ne,Ha as v,Mb as o,Nb as n,Ob as h,Oc as A,Pc as R,Sb as b,Tc as be,Ub as _,Vb as c,Vc as Q,_b as ie,a as D,ac as ae,b as V,bb as _e,cb as k,e as vt,ea as ge,ec as r,f as pe,fb as l,fc as y,ga as ue,gc as g,hc as xe,ja as M,jc as L,kc as F,lc as q,oc as he,qc as re,ra as f,rb as S,sa as x,sb as fe,sc as se,xb as p}from"./chunk-SZ6SDWKT.js";var Mt=new ue("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let a=M(de);return()=>a.scrollStrategies.reposition()}});function yt(a){return()=>a.scrollStrategies.reposition()}var Pt={provide:Mt,deps:[de],useFactory:yt};var ft=(()=>{class a{static \u0275fac=function(i){return new(i||a)};static \u0275mod=fe({type:a});static \u0275inj=ge({providers:[Pt],imports:[ye,le,Ze,Ke,le]})}return a})(),xt={transformMenu:{type:7,name:"transformMenu",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0,transform:"scale(0.8)"},offset:null}},{type:1,expr:"void => enter",animation:{type:4,styles:{type:6,styles:{opacity:1,transform:"scale(1)"},offset:null},timings:"120ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms 25ms linear"},options:null}],options:{}},fadeInItems:{type:7,name:"fadeInItems",definitions:[{type:0,name:"showing",styles:{type:6,styles:{opacity:1},offset:null}},{type:1,expr:"void => *",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:"400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}},yi=xt.fadeInItems,Pi=xt.transformMenu;var Et=()=>({standalone:!0});function Dt(a,t){a&1&&(o(0,"mat-error"),r(1," Title is required "),n())}function Vt(a,t){a&1&&(o(0,"mat-error"),r(1," Start time must be at least 5 minutes from now "),n())}function Lt(a,t){a&1&&(o(0,"mat-error"),r(1," Start time is required "),n())}function Ft(a,t){a&1&&(o(0,"mat-error"),r(1," End time must be after start time "),n())}function qt(a,t){a&1&&(o(0,"mat-error"),r(1," End time is required "),n())}function At(a,t){a&1&&(o(0,"mat-error"),r(1," Duration is required "),n())}function Rt(a,t){a&1&&(o(0,"mat-error"),r(1," Duration must be at least 1 minute "),n())}function Qt(a,t){a&1&&(o(0,"mat-error"),r(1," Marks per question is required "),n())}function zt(a,t){a&1&&(o(0,"mat-error"),r(1," Marks must be at least 1 "),n())}function Ut(a,t){a&1&&(o(0,"mat-error"),r(1," Negative marks cannot be negative "),n())}function Bt(a,t){if(a&1){let e=b();o(0,"button",43),_("click",function(){f(e);let s=c(2);return x(s.toggleSelectAll())}),o(1,"mat-icon"),r(2),n(),r(3),n()}if(a&2){let e=c(2);l(2),y(e.isAllFilteredSelected()?"check_box":"check_box_outline_blank"),l(),g(" ",e.isAllFilteredSelected()?"Deselect All":"Select All"," ")}}function Nt(a,t){if(a&1){let e=b();o(0,"div",37)(1,"button",38),_("click",function(){f(e);let s=c();return x(s.addSelectedToTest())}),o(2,"mat-icon"),r(3,"add_circle"),n(),r(4),n(),o(5,"button",39),_("click",function(){f(e);let s=c();return x(s.toggleAddByUid())}),o(6,"mat-icon"),r(7,"add"),n(),r(8," Add By UID "),n(),o(9,"button",40),_("click",function(){f(e);let s=c();return x(s.toggleTagFilter())}),o(10,"mat-icon"),r(11,"filter_list"),n(),r(12),n(),o(13,"span",41),r(14),n(),p(15,Bt,4,2,"button",42),n()}if(a&2){let e=c();l(),d("disabled",e.temporarilySelectedUids().length===0),l(3),g(" Add to Test (",e.temporarilySelectedUids().length,") "),l(8),g(" ",e.currentFilterTag()?"Filtered: "+e.currentFilterTag():"Filter by Tag"," "),l(2),g(" Available: ",e.availableQuestions().length," "),l(),d("ngIf",e.availableQuestions().length>0)}}function Ht(a,t){a&1&&(o(0,"div",54),h(1,"mat-spinner",55),o(2,"p"),r(3,"Loading tags..."),n()())}function jt(a,t){if(a&1){let e=b();o(0,"button",58),_("click",function(){let s=f(e).$implicit,m=c(3);return x(m.applyTagFilter(s))}),o(1,"span",59),r(2),n(),o(3,"span",60),r(4),n()()}if(a&2){let e=t.$implicit,i=c(3);I("active",i.currentFilterTag()===e.tag),l(2),y(e.tag),l(2),y(e.questionCount)}}function $t(a,t){if(a&1&&(o(0,"div",56),p(1,jt,5,4,"button",57),n()),a&2){let e=c(2);l(),d("ngForOf",e.tags())}}function Yt(a,t){a&1&&(o(0,"div",61)(1,"mat-icon"),r(2,"label_off"),n(),o(3,"p"),r(4,"No tags available"),n()())}function Gt(a,t){if(a&1){let e=b();o(0,"div",44)(1,"div",45)(2,"h4",46),r(3,"Filter Questions by Tag"),n(),o(4,"div",47)(5,"button",48),_("click",function(){f(e);let s=c();return x(s.clearTagFilter())}),o(6,"mat-icon"),r(7,"clear"),n(),r(8," Clear Filter "),n(),o(9,"button",49),_("click",function(){f(e);let s=c();return x(s.toggleTagFilter())}),o(10,"mat-icon"),r(11,"close"),n(),r(12," Close "),n()()(),o(13,"div",50),p(14,Ht,4,0,"div",51)(15,$t,2,1,"div",52)(16,Yt,5,0,"div",53),n()()}if(a&2){let e=c();l(14),d("ngIf",e.tagsLoading()),l(),d("ngIf",!e.tagsLoading()&&e.tags().length>0),l(),d("ngIf",!e.tagsLoading()&&e.tags().length===0)}}function Wt(a,t){a&1&&h(0,"mat-spinner",77)}function Xt(a,t){a&1&&(o(0,"mat-icon"),r(1,"check_circle"),n())}function Kt(a,t){a&1&&(o(0,"mat-icon"),r(1,"error"),n())}function Zt(a,t){if(a&1&&(o(0,"div",76),p(1,Wt,1,0,"mat-spinner",36)(2,Xt,2,0,"mat-icon",12)(3,Kt,2,0,"mat-icon",12),o(4,"span"),r(5),n()()),a&2){let e=c(2);ne(e.uidProcessingStatus()),l(),d("ngIf",e.uidProcessingStatus()==="loading"),l(),d("ngIf",e.uidProcessingStatus()==="success"),l(),d("ngIf",e.uidProcessingStatus()==="error"),l(2),g(" ",e.uidProcessingStatus()==="loading"?"Processing UIDs...":e.uidProcessingStatus()==="success"?"UIDs processed successfully":e.uidProcessingStatus()==="error"?"Error processing UIDs":""," ")}}function Jt(a,t){a&1&&h(0,"mat-spinner",77)}function en(a,t){a&1&&(o(0,"mat-icon"),r(1,"play_arrow"),n())}function tn(a,t){if(a&1){let e=b();o(0,"div",62)(1,"div",63)(2,"div",64)(3,"h4",65),r(4,"Add Questions by UID"),n(),o(5,"span",66),r(6),n()(),o(7,"div",67)(8,"mat-icon",68),r(9,"fingerprint"),n(),o(10,"textarea",69),q("ngModelChange",function(s){f(e);let m=c();return F(m.uidTextareaValue,s)||(m.uidTextareaValue=s),x(s)}),_("input",function(s){f(e);let m=c();return x(m.onUidTextareaChange(s))}),r(11,"              "),n()(),p(12,Zt,6,6,"div",70),o(13,"div",71)(14,"mat-icon"),r(15,"info"),n(),o(16,"span"),r(17,"You can paste multiple UIDs separated by commas, new lines, or copy-paste directly from a list."),n()()(),o(18,"div",72)(19,"button",73),_("click",function(){f(e);let s=c();return x(s.clearUids())}),o(20,"mat-icon"),r(21,"clear_all"),n(),r(22," Clear All "),n(),o(23,"button",74),_("click",function(){f(e);let s=c();return x(s.processUids())}),p(24,Jt,1,0,"mat-spinner",36)(25,en,2,0,"mat-icon",12),r(26," Add to Test "),n(),o(27,"button",75),_("click",function(){f(e);let s=c();return x(s.toggleAddByUid())}),o(28,"mat-icon"),r(29,"close"),n(),r(30," Close "),n()()()}if(a&2){let e=c();l(6),g(" ",e.getUidCount()," UID(s) entered "),l(4),L("ngModel",e.uidTextareaValue),d("ngModelOptions",he(10,Et))("disabled",e.uidProcessingStatus()==="loading"),l(2),d("ngIf",e.uidProcessingStatus()!=="idle"),l(7),d("disabled",e.uidProcessingStatus()==="loading"),l(4),d("disabled",!e.uidTextareaValue().trim()||e.uidProcessingStatus()==="loading"),l(),d("ngIf",e.uidProcessingStatus()==="loading"),l(),d("ngIf",e.uidProcessingStatus()!=="loading"),l(2),d("disabled",e.uidProcessingStatus()==="loading")}}function nn(a,t){if(a&1&&(o(0,"span",78),r(1),n()),a&2){let e=c();l(),g(" (Filtered by: ",e.currentFilterTag(),") ")}}function on(a,t){if(a&1&&(o(0,"mat-option",79)(1,"div",80)(2,"div",81)(3,"mat-icon",82),r(4),n()(),o(5,"div",83),h(6,"div",84),o(7,"div",85)(8,"span",86),r(9),n(),o(10,"span",87),r(11),n(),o(12,"span",88),r(13),n()()()()()),a&2){let e=t.$implicit,i=c();d("value",e.uid),l(4),g(" ",i.isQuestionSelected(e.uid)?"check_box":"check_box_outline_blank"," "),l(2),d("innerHTML",i.getQuestionDisplayText(e),k),l(3),g(" Correct: ",i.getOptionLetter(e.correctAnswer)," "),l(2),g(" Tags: ",i.getQuestionTags(e)," "),l(2),g(" ID: ",e.uid.slice(0,8),"... ")}}function an(a,t){a&1&&(o(0,"div",89),h(1,"mat-spinner",55),o(2,"p"),r(3,"Loading questions..."),n()())}function rn(a,t){if(a&1&&(o(0,"span",111)(1,"mat-icon"),r(2,"label"),n(),r(3),n()),a&2){let e=c().$implicit,i=c(2);l(3),g(" ",i.getQuestionTags(e)," ")}}function sn(a,t){if(a&1&&(o(0,"div",112)(1,"strong"),r(2,"Description:"),n(),o(3,"p"),r(4),n()()),a&2){let e=c().$implicit;l(4),y(e.description==null?null:e.description.english)}}function ln(a,t){if(a&1&&(o(0,"div",112)(1,"strong"),r(2,"Description:"),n(),o(3,"p"),r(4),n()()),a&2){let e=c(2).$implicit;l(4),y(e.description==null?null:e.description.hindi)}}function dn(a,t){if(a&1&&(o(0,"div",105)(1,"strong"),r(2,"Hindi:"),n(),h(3,"div",84),p(4,ln,5,1,"div",106),n()),a&2){let e=c().$implicit;l(3),d("innerHTML",e.question.hindi,k),l(),d("ngIf",e.description==null?null:e.description.hindi)}}function cn(a,t){if(a&1&&h(0,"div",119),a&2){let e=c().$implicit;d("innerHTML",e.hindi,k)}}function mn(a,t){a&1&&(o(0,"div",120)(1,"mat-icon"),r(2,"check"),n()())}function pn(a,t){if(a&1&&(o(0,"div",113)(1,"span",114),r(2),n(),o(3,"div",115),h(4,"div",116),p(5,cn,1,1,"div",117),n(),p(6,mn,3,0,"div",118),n()),a&2){let e=t.$implicit,i=t.index,s=c().$implicit,m=c(2);l(2),y(m.getOptionLetter(i)),l(2),d("innerHTML",e.english,k),l(),d("ngIf",e.hindi),l(),d("ngIf",i===s.correctAnswer)}}function gn(a,t){if(a&1){let e=b();o(0,"div",96)(1,"div",97)(2,"div",98)(3,"h5",99),r(4),n(),o(5,"span",100),r(6),n(),o(7,"span",101),r(8),n(),p(9,rn,4,1,"span",102),n(),o(10,"button",103),_("click",function(){let s=f(e).index,m=c(2);return x(m.removeQuestion(s))}),o(11,"mat-icon"),r(12,"delete"),n()()(),o(13,"div",104)(14,"div",105)(15,"strong"),r(16,"English:"),n(),h(17,"div",84),p(18,sn,5,1,"div",106),n(),p(19,dn,5,2,"div",107),o(20,"div",108)(21,"strong"),r(22,"Options:"),n(),o(23,"div",109),p(24,pn,7,4,"div",110),n()()()()}if(a&2){let e=t.$implicit,i=t.index,s=c(2);l(4),g("Question ",i+1,""),l(2),g(" Correct: ",s.getOptionLetter(e.correctAnswer)," "),l(2),g(" UID: ",e.uid," "),l(),d("ngIf",e.tags&&e.tags.length>0),l(8),d("innerHTML",e.question.english,k),l(),d("ngIf",e.description==null?null:e.description.english),l(),d("ngIf",e.question.hindi),l(5),d("ngForOf",e.options)}}function un(a,t){if(a&1){let e=b();o(0,"div",90)(1,"div",91)(2,"h4",92),r(3),n(),o(4,"button",93),_("click",function(){f(e);let s=c();return x(s.clearAll())}),o(5,"mat-icon"),r(6,"clear_all"),n(),r(7," Clear All "),n()(),o(8,"div",94),p(9,gn,25,8,"div",95),n()()}if(a&2){let e=c();l(3),g("Questions in Test (",e.selectedQuestions().length,")"),l(6),d("ngForOf",e.selectedQuestions())}}function _n(a,t){a&1&&(o(0,"div",121)(1,"mat-icon",122),r(2,"help_outline"),n(),o(3,"h4"),r(4,"No questions in test"),n(),o(5,"p"),r(6,"Select questions from dropdown or add by UID to include them in your test."),n()())}function fn(a,t){a&1&&h(0,"mat-spinner",77)}function xn(a,t){if(a&1&&(o(0,"span"),r(1),n()),a&2){let e=c();l(),xe(" ",e.isEdit()?"Update":"Create"," Test (",e.selectedQuestions().length," questions) ")}}var te=class a{fb=M(Le);testService=M(ee);questionService=M(pt);snackBar=M(W);dialogRef=M(Je);data=M(et);testForm;isEdit=v(!1);loading=v(!1);questionsLoading=v(!1);allQuestions=v([]);filteredQuestions=v([]);tags=v([]);tagsLoading=v(!1);currentFilterTag=v(null);showTagFilter=v(!1);showAddByUid=v(!1);uidTextareaValue=v("");uidProcessingStatus=v("idle");selectedQuestions=v([]);temporarilySelectedUids=v([]);constructor(){this.testForm=this.createTestForm(),this.isEdit.set(!!this.data.test)}setDefaultDateTime(){let t=new Date,e=new Date(t.getTime()+60*60*1e3),i=new Date(e.getTime()+60*60*1e3),s=this.formatDateTimeForInput(e),m=this.formatDateTimeForInput(i);this.testForm.patchValue({startTime:s,endTime:m})}formatDateTimeForInput(t){let e=t.getFullYear(),i=this.padZero(t.getMonth()+1),s=this.padZero(t.getDate()),m=this.padZero(t.getHours()),u=this.padZero(t.getMinutes());return`${e}-${i}-${s}T${m}:${u}`}getMinDateTime(){return this.formatDateTimeForInput(new Date)}padZero(t){return t.toString().padStart(2,"0")}futureDateValidator(t){if(!t.value)return null;let e=new Date(t.value),i=new Date,s=new Date(i.getTime()+5*60*1e3);return e<s?{pastDate:"Start time must be at least 5 minutes from now"}:null}onDateTimeChange(){let t=this.testForm.get("startTime"),e=this.testForm.get("endTime");if(t?.errors?.pastDate){this.snackBar.open("Start time must be at least 5 minutes from now","Close",{duration:3e3});let i=new Date(new Date().getTime()+5*60*1e3);this.testForm.patchValue({startTime:this.formatDateTimeForInput(i),endTime:this.formatDateTimeForInput(new Date(i.getTime()+60*60*1e3))})}e?.value&&e.updateValueAndValidity()}createTestForm(){return this.fb.group({title:["",T.required],description:[""],startTime:["",[T.required,this.futureDateValidator.bind(this)]],endTime:["",[T.required,this.endTimeValidator.bind(this)]],duration:["",[T.required,T.min(1)]],marksPerQuestion:[1,[T.required,T.min(1)]],negativeMarks:[0,[T.min(0)]]})}endTimeValidator(t){if(!t.value)return null;let e=new Date(t.value),i=this.testForm?.get("startTime"),s=i?.value?new Date(i.value):null;return s&&e<=s?{invalidEndTime:"End time must be after start time"}:null}ngOnInit(){this.loadAvailableQuestions().then(()=>{this.isEdit()?this.populateForm(this.data.test):this.setDefaultDateTime()}),this.loadTags()}loadAvailableQuestions(){return new Promise((t,e)=>{this.questionsLoading.set(!0),this.questionService.getAllQuestions().subscribe({next:i=>{let s=(i.questions||[]).map(m=>({_id:m._id,uid:m.uid,question:{english:m.question?.english||"",hindi:m.question?.hindi||"",_id:m.question?._id},options:m.options||[],correctAnswer:m.correctAnswer,description:m.description,tags:m.tags||[],isActive:m.isActive!==void 0?m.isActive:!0,createdAt:m.createdAt,updatedAt:m.updatedAt}));this.allQuestions.set(s),this.filteredQuestions.set(s),this.questionsLoading.set(!1),t()},error:i=>{console.error("Error loading questions:",i),this.snackBar.open("Error loading questions","Close",{duration:3e3}),this.questionsLoading.set(!1),e(i)}})})}populateForm(t){let e=new Date(t.startTime),i=new Date(t.endTime),s=this.formatDateTimeForInput(e),m=this.formatDateTimeForInput(i);this.testForm.patchValue({title:t.title,description:t.description,startTime:s,endTime:m,duration:t.duration,marksPerQuestion:t.marksPerQuestion||1,negativeMarks:t.negativeMarks||0});let u=t.questionUids||[];this.setSelectedQuestionsFromUids(u)}setSelectedQuestionsFromUids(t){if(t.length>0){let i=this.allQuestions().filter(s=>t.includes(s.uid));this.selectedQuestions.set(i)}}loadTags(){this.tagsLoading.set(!0),this.questionService.getTags().subscribe({next:t=>{let e=(t||[]).map(i=>({_id:i._id,tag:i.tag,questionCount:0}));this.calculateTagQuestionCounts(e),this.tags.set(e),this.tagsLoading.set(!1)},error:t=>{console.error("Error loading tags:",t),this.tagsLoading.set(!1)}})}calculateTagQuestionCounts(t){let e=this.allQuestions();t.forEach(s=>{let m=e.filter(u=>u.tags.includes(s._id)).length;s.questionCount=m});let i=e.filter(s=>!s.tags||s.tags.length===0);i.length>0&&t.push({_id:"none",tag:"None",questionCount:i.length})}toggleTagFilter(){this.showTagFilter.set(!this.showTagFilter())}applyTagFilter(t){this.currentFilterTag.set(t.tag),this.showTagFilter.set(!1);let e=this.allQuestions(),i;t._id==="none"?i=e.filter(s=>!s.tags||s.tags.length===0):i=e.filter(s=>s.tags&&s.tags.includes(t._id)),this.filteredQuestions.set(i),this.snackBar.open(`Filtered by tag: ${t.tag} (${i.length} questions)`,"Close",{duration:3e3})}clearTagFilter(){this.currentFilterTag.set(null),this.showTagFilter.set(!1),this.filteredQuestions.set(this.allQuestions()),this.snackBar.open("Tag filter cleared","Close",{duration:2e3})}getQuestionTags(t){if(!t.tags||t.tags.length===0)return"None";let e=this.tags(),i=t.tags.map(s=>{let m=e.find(u=>u._id===s);return m?m.tag:"Unknown"}).filter(s=>s!=="Unknown");return i.length>0?i.join(", "):"None"}availableQuestions(){return this.filteredQuestions()}toggleAddByUid(){this.showAddByUid.set(!this.showAddByUid()),this.showAddByUid()||this.uidTextareaValue.set("")}onUidTextareaChange(t){let e=t.target.value;this.uidTextareaValue.set(e)}processUids(){return pe(this,null,function*(){let t=this.uidTextareaValue().trim();if(!t){this.snackBar.open("Please enter at least one UID","Close",{duration:2e3});return}let e=t.split(/[\n,]+/).map(i=>i.trim()).filter(i=>i.length>0);if(e.length===0){this.snackBar.open("No valid UIDs found","Close",{duration:2e3});return}this.uidProcessingStatus.set("loading");try{let i=this.allQuestions(),s=[],m=[],u=[],O=this.selectedQuestions().map(C=>C.uid);e.forEach(C=>{let w=i.find(E=>E.uid===C);w?O.includes(C)?u.push(C):s.push(w):m.push(C)});let P="";if(s.length>0){let C=[...this.selectedQuestions(),...s];this.selectedQuestions.set(C),P+=`Added ${s.length} question(s) to test. `}u.length>0&&(P+=`${u.length} question(s) already exist in test. `),m.length>0&&(P+=`${m.length} UID(s) not found.`),s.length===0&&u.length===0&&m.length>0&&(P="No valid questions found. Check the UIDs and try again."),this.snackBar.open(P,"Close",{duration:5e3}),setTimeout(()=>{this.showAddByUid.set(!1),this.uidTextareaValue.set(""),this.uidProcessingStatus.set("idle")},1e3)}catch(i){console.error("Error processing UIDs:",i),this.snackBar.open("Error processing UIDs","Close",{duration:3e3}),this.uidProcessingStatus.set("idle")}})}getUidCount(){let t=this.uidTextareaValue().trim();return t?t.split(/[\n,]+/).map(e=>e.trim()).filter(e=>e.length>0).length:0}clearUids(){this.uidTextareaValue.set(""),this.uidProcessingStatus.set("idle")}onSelectionChange(t){this.temporarilySelectedUids.set(t)}isAllFilteredSelected(){let t=this.filteredQuestions(),e=this.temporarilySelectedUids();return t.length===0?!1:t.every(i=>e.includes(i.uid))}toggleSelectAll(){let e=this.filteredQuestions().map(s=>s.uid),i=this.temporarilySelectedUids();if(this.isAllFilteredSelected()){let s=i.filter(m=>!e.includes(m));this.temporarilySelectedUids.set(s)}else{let s=[...new Set([...i,...e])];this.temporarilySelectedUids.set(s)}}addSelectedToTest(){let t=this.temporarilySelectedUids();if(t.length===0){this.snackBar.open("No questions selected","Close",{duration:2e3});return}let e=this.allQuestions(),i=this.selectedQuestions().map(u=>u.uid),s=e.filter(u=>t.includes(u.uid)&&!i.includes(u.uid)),m=t.filter(u=>i.includes(u)).length;if(s.length>0){let u=[...this.selectedQuestions(),...s];this.selectedQuestions.set(u);let O=`Added ${s.length} question(s) to test`;m>0&&(O+=` (${m} already in test)`),this.snackBar.open(O,"Close",{duration:3e3}),this.temporarilySelectedUids.set([])}else m>0&&this.snackBar.open("All selected questions already exist in test","Close",{duration:3e3})}clearAll(){this.selectedQuestions.set([]),this.temporarilySelectedUids.set([]),this.snackBar.open("All questions removed from test","Close",{duration:2e3})}removeQuestion(t){let e=[...this.selectedQuestions()],i=e[t];e.splice(t,1),this.selectedQuestions.set(e);let m=this.temporarilySelectedUids().filter(u=>u!==i.uid);this.temporarilySelectedUids.set(m),this.snackBar.open("Question removed from test","Close",{duration:2e3})}getQuestionDisplayText(t){let e=t.question.english;return e.length>100?e.substring(0,100)+"...":e}getOptionLetter(t){return String.fromCharCode(65+t)}onSubmit(){if(this.testForm.valid&&this.selectedQuestions().length>0){this.loading.set(!0);let t=this.testForm.value,e={title:t.title,description:t.description,startTime:new Date(t.startTime).toISOString(),endTime:new Date(t.endTime).toISOString(),duration:t.duration,marksPerQuestion:t.marksPerQuestion,negativeMarks:t.negativeMarks,questionUids:this.selectedQuestions().map(s=>s.uid)};(this.isEdit()?this.testService.updateTest(this.data.test._id,e):this.testService.createTest(e)).subscribe({next:()=>{this.snackBar.open(`Test ${this.isEdit()?"updated":"created"} successfully`,"Close",{duration:3e3}),this.dialogRef.close(!0)},error:s=>{this.loading.set(!1),console.error("Error:",s),this.snackBar.open(`Error ${this.isEdit()?"updating":"creating"} test: ${s.error?.message||"Unknown error"}`,"Close",{duration:3e3})},complete:()=>{this.loading.set(!1)}})}else this.selectedQuestions().length===0?this.snackBar.open("Please add at least one question to the test","Close",{duration:3e3}):this.snackBar.open("Please fill all required fields","Close",{duration:3e3})}onCancel(){this.dialogRef.close(!1)}isQuestionInTest(t){return this.selectedQuestions().some(e=>e.uid===t)}isQuestionSelected(t){return this.temporarilySelectedUids().includes(t)||this.selectedQuestions().some(e=>e.uid===t)}getMinEndTime(){let t=this.testForm.get("startTime")?.value;if(t){let e=new Date(t),i=new Date(e.getTime()+5*60*1e3);return this.formatDateTimeForInput(i)}return this.getMinDateTime()}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=S({type:a,selectors:[["app-create-test-dialog"]],decls:100,vars:28,consts:[[1,"create-test-dialog"],[1,"dialog-header"],["mat-dialog-title",""],["mat-icon-button","",1,"close-button",3,"click"],[1,"dialog-content"],[1,"test-form",3,"ngSubmit","formGroup"],[1,"form-section"],[1,"section-title"],[1,"form-grid"],["appearance","outline",1,"full-width"],["matInput","","formControlName","title","placeholder","Enter test title"],["matSuffix",""],[4,"ngIf"],["matInput","","formControlName","description","placeholder","Enter test description","rows","3"],[1,"row"],["appearance","outline",1,"half-width"],["matInput","","type","datetime-local","formControlName","startTime","required","",3,"change","min"],["matInput","","type","datetime-local","formControlName","endTime","required","",3,"min"],["matInput","","type","number","formControlName","duration","min","1"],[1,"marks-section"],["matInput","","type","number","formControlName","marksPerQuestion","min","1"],["matInput","","type","number","formControlName","negativeMarks","min","0","step","0.25"],[1,"questions-section"],[1,"section-header"],["class","action-buttons",4,"ngIf"],["class","filter-by-tag-section",4,"ngIf"],["class","add-by-uid-section",4,"ngIf"],[1,"questions-select-section"],["class","filter-indicator",4,"ngIf"],["multiple","",3,"selectionChange","value"],["class","question-option",3,"value",4,"ngFor","ngForOf"],["class","questions-loading",4,"ngIf"],["class","selected-questions-preview",4,"ngIf"],["class","no-questions-selected",4,"ngIf"],["align","end",1,"dialog-actions"],["mat-raised-button","","color","primary",1,"submit-btn",3,"click","disabled"],["diameter","20",4,"ngIf"],[1,"action-buttons"],["type","button","mat-raised-button","","color","primary",1,"add-selected-btn",3,"click","disabled"],["type","button","mat-stroked-button","","color","accent",1,"add-by-uid-btn",3,"click"],["type","button","mat-stroked-button","","color","primary",1,"filter-by-tag-btn",3,"click"],[1,"total-questions"],["type","button","mat-stroked-button","","color","primary","class","select-all-btn",3,"click",4,"ngIf"],["type","button","mat-stroked-button","","color","primary",1,"select-all-btn",3,"click"],[1,"filter-by-tag-section"],[1,"filter-header"],[1,"filter-title"],[1,"filter-actions"],["type","button","mat-stroked-button","","color","warn",3,"click"],["type","button","mat-stroked-button","","color","primary",3,"click"],[1,"tags-container"],["class","tags-loading",4,"ngIf"],["class","tags-grid",4,"ngIf"],["class","no-tags",4,"ngIf"],[1,"tags-loading"],["diameter","30"],[1,"tags-grid"],["type","button","mat-stroked-button","","class","tag-button",3,"active","click",4,"ngFor","ngForOf"],["type","button","mat-stroked-button","",1,"tag-button",3,"click"],[1,"tag-name"],[1,"tag-count"],[1,"no-tags"],[1,"add-by-uid-section"],[1,"uid-textarea-container"],[1,"textarea-header"],[1,"textarea-title"],[1,"uid-count"],[1,"textarea-wrapper"],[1,"textarea-icon"],["placeholder",`Paste UIDs here (one per line or separated by commas)
Example:
daaeac9a-e1d1-4186-beab-fb49a5797945
c45e6e61-2827-4fbd-a1a2-b25e8c2b4a69
faa57786-ee3e-4ca7-8c6e-bb1c3c758f3a`,"rows","8",1,"uid-textarea",3,"ngModelChange","input","ngModel","ngModelOptions","disabled"],["class","uid-processing-status",3,"class",4,"ngIf"],[1,"format-hint"],[1,"uid-section-actions"],["type","button","mat-stroked-button","",3,"click","disabled"],["type","button","mat-raised-button","","color","primary",1,"process-uids-btn",3,"click","disabled"],["type","button","mat-stroked-button","","color","warn",3,"click","disabled"],[1,"uid-processing-status"],["diameter","20"],[1,"filter-indicator"],[1,"question-option",3,"value"],[1,"question-option-content"],[1,"question-checkbox"],[1,"checkbox-icon"],[1,"question-preview"],[1,"question-text-preview",3,"innerHTML"],[1,"question-meta"],[1,"correct-answer"],[1,"question-tags"],[1,"question-id"],[1,"questions-loading"],[1,"selected-questions-preview"],[1,"preview-header-section"],[1,"preview-title"],["type","button","mat-stroked-button","","color","warn",1,"clear-all-btn",3,"click"],[1,"questions-preview-list"],["class","question-preview-card",4,"ngFor","ngForOf"],[1,"question-preview-card"],[1,"preview-header"],[1,"question-header-left"],[1,"question-preview-number"],[1,"correct-answer-badge"],[1,"question-uid-badge"],["class","question-tags-badge",4,"ngIf"],["type","button","mat-icon-button","","color","warn","matTooltip","Remove question from test",1,"delete-question-btn",3,"click"],[1,"preview-content"],[1,"language-preview"],["class","description-preview",4,"ngIf"],["class","language-preview",4,"ngIf"],[1,"options-preview"],[1,"options-grid"],["class","option-preview",4,"ngFor","ngForOf"],[1,"question-tags-badge"],[1,"description-preview"],[1,"option-preview"],[1,"option-letter"],[1,"option-content"],[1,"option-text-preview",3,"innerHTML"],["class","option-text-hindi",3,"innerHTML",4,"ngIf"],["class","correct-answer-indicator",4,"ngIf"],[1,"option-text-hindi",3,"innerHTML"],[1,"correct-answer-indicator"],[1,"no-questions-selected"],[1,"no-questions-icon"]],template:function(e,i){if(e&1&&(o(0,"div",0)(1,"div",1)(2,"h2",2),r(3),n(),o(4,"button",3),_("click",function(){return i.onCancel()}),o(5,"mat-icon"),r(6,"close"),n()()(),o(7,"mat-dialog-content",4)(8,"form",5),_("ngSubmit",function(){return i.onSubmit()}),o(9,"div",6)(10,"h3",7),r(11,"Test Information"),n(),o(12,"div",8)(13,"mat-form-field",9)(14,"mat-label"),r(15,"Test Title"),n(),h(16,"input",10),o(17,"mat-icon",11),r(18,"title"),n(),p(19,Dt,2,0,"mat-error",12),n(),o(20,"mat-form-field",9)(21,"mat-label"),r(22,"Description"),n(),h(23,"textarea",13),o(24,"mat-icon",11),r(25,"description"),n()(),o(26,"div",14)(27,"mat-form-field",15)(28,"mat-label"),r(29,"Start Time"),n(),o(30,"input",16),_("change",function(){return i.onDateTimeChange()}),n(),o(31,"mat-icon",11),r(32,"schedule"),n(),o(33,"mat-hint"),r(34,"Must be at least 5 minutes from now"),n(),p(35,Vt,2,0,"mat-error",12)(36,Lt,2,0,"mat-error",12),n(),o(37,"mat-form-field",15)(38,"mat-label"),r(39,"End Time"),n(),h(40,"input",17),o(41,"mat-icon",11),r(42,"schedule"),n(),o(43,"mat-hint"),r(44,"Must be after start time"),n(),p(45,Ft,2,0,"mat-error",12)(46,qt,2,0,"mat-error",12),n(),o(47,"mat-form-field",15)(48,"mat-label"),r(49,"Duration (minutes)"),n(),h(50,"input",18),o(51,"mat-icon",11),r(52,"timer"),n(),p(53,At,2,0,"mat-error",12)(54,Rt,2,0,"mat-error",12),n()(),o(55,"div",19)(56,"mat-form-field",15)(57,"mat-label"),r(58,"Marks per Question"),n(),h(59,"input",20),o(60,"mat-icon",11),r(61,"grade"),n(),p(62,Qt,2,0,"mat-error",12)(63,zt,2,0,"mat-error",12),n(),o(64,"mat-form-field",15)(65,"mat-label"),r(66,"Negative Marks per Question"),n(),h(67,"input",21),o(68,"mat-icon",11),r(69,"remove"),n(),o(70,"mat-hint"),r(71,"Enter 0 for no negative marking"),n(),p(72,Ut,2,0,"mat-error",12),n()()()(),o(73,"div",22)(74,"div",23)(75,"h3",7),r(76),n(),p(77,Nt,16,5,"div",24),n(),p(78,Gt,17,3,"div",25)(79,tn,31,11,"div",26),o(80,"div",27)(81,"mat-form-field",9)(82,"mat-label"),r(83,"Select Questions "),p(84,nn,2,1,"span",28),n(),o(85,"mat-select",29),_("selectionChange",function(m){return i.onSelectionChange(m.value)}),o(86,"mat-select-trigger"),r(87),n(),p(88,on,14,6,"mat-option",30),n(),o(89,"mat-icon",11),r(90,"quiz"),n(),o(91,"mat-hint"),r(92,'Select questions and click "Add to Test"'),n()(),p(93,an,4,0,"div",31),n(),p(94,un,10,2,"div",32)(95,_n,7,0,"div",33),n()()(),o(96,"mat-dialog-actions",34)(97,"button",35),_("click",function(){return i.onSubmit()}),p(98,fn,1,0,"mat-spinner",36)(99,xn,2,2,"span",12),n()()()),e&2){let s,m,u,O,P,C,w,E,ce,me;l(3),y(i.isEdit()?"Edit/View Test":"Create New Test"),l(5),d("formGroup",i.testForm),l(11),d("ngIf",(s=i.testForm.get("title"))==null?null:s.hasError("required")),l(11),d("min",i.getMinDateTime()),l(5),d("ngIf",(m=i.testForm.get("startTime"))==null?null:m.hasError("pastDate")),l(),d("ngIf",(u=i.testForm.get("startTime"))==null?null:u.hasError("required")),l(4),d("min",i.getMinDateTime()),l(5),d("ngIf",(O=i.testForm.get("endTime"))==null?null:O.hasError("invalidEndTime")),l(),d("ngIf",(P=i.testForm.get("endTime"))==null?null:P.hasError("required")),l(7),d("ngIf",(C=i.testForm.get("duration"))==null?null:C.hasError("required")),l(),d("ngIf",(w=i.testForm.get("duration"))==null?null:w.hasError("min")),l(8),d("ngIf",(E=i.testForm.get("marksPerQuestion"))==null?null:E.hasError("required")),l(),d("ngIf",(ce=i.testForm.get("marksPerQuestion"))==null?null:ce.hasError("min")),l(9),d("ngIf",(me=i.testForm.get("negativeMarks"))==null?null:me.hasError("min")),l(4),g("Questions in Test (",i.selectedQuestions().length,")"),l(),d("ngIf",!i.questionsLoading()),l(),d("ngIf",i.showTagFilter()),l(),d("ngIf",i.showAddByUid()),l(5),d("ngIf",i.currentFilterTag()),l(),d("value",i.temporarilySelectedUids()),l(2),g(" ",i.temporarilySelectedUids().length," question(s) selected "),l(),d("ngForOf",i.filteredQuestions()),l(5),d("ngIf",i.questionsLoading()),l(),d("ngIf",i.selectedQuestions().length>0),l(),d("ngIf",i.selectedQuestions().length===0&&!i.questionsLoading()),l(2),d("disabled",!i.testForm.valid||i.selectedQuestions().length===0||i.loading()),l(),d("ngIf",i.loading()),l(),d("ngIf",!i.loading())}},dependencies:[Q,A,R,H,Te,z,ke,U,we,Ve,De,Ie,Ee,N,B,J,nt,ot,it,Ye,$e,Be,He,Ne,je,We,Ge,$,j,Xe,st,at,rt,Me,Z,K,X,G,Y,mt,ct,lt],styles:['.create-test-dialog[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;max-height:90vh}.dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 24px 0;border-bottom:1px solid #e0e0e0;background:#fff;position:sticky;top:0;z-index:10}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#3f51b5;font-weight:500}.dialog-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:0}.test-form[_ngcontent-%COMP%]{padding:24px}.form-section[_ngcontent-%COMP%]{margin-bottom:32px;padding:24px;background:#fff;border-radius:8px;border:1px solid #e0e0e0}.section-title[_ngcontent-%COMP%]{margin:0 0 24px;color:#333;font-size:1.2em;font-weight:500}.form-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.row[_ngcontent-%COMP%]{display:flex;gap:20px}.full-width[_ngcontent-%COMP%]{width:100%}.half-width[_ngcontent-%COMP%]{flex:1}.marks-section[_ngcontent-%COMP%]{display:flex;gap:20px}.mat-mdc-form-field[_ngcontent-%COMP%]{width:100%}.questions-section[_ngcontent-%COMP%]{margin-top:24px}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;flex-wrap:wrap;gap:12px}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap;align-items:center}.total-questions[_ngcontent-%COMP%]{color:#666;font-size:.9em;padding:8px 12px;background:#f5f5f5;border-radius:4px}.filter-by-tag-section[_ngcontent-%COMP%]{margin:20px 0;padding:20px;background:#f8f9fa;border-radius:8px;border:1px solid #e0e0e0}.filter-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.filter-title[_ngcontent-%COMP%]{margin:0;color:#333;font-size:1.1em;font-weight:500}.filter-actions[_ngcontent-%COMP%]{display:flex;gap:12px}.tags-container[_ngcontent-%COMP%]{min-height:60px}.tags-loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:12px;padding:20px;color:#666}.tags-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:10px}.tag-button[_ngcontent-%COMP%]{display:flex!important;justify-content:space-between!important;align-items:center!important;padding:8px 12px!important;border-radius:6px!important;border:1px solid #e0e0e0!important;background:#fff!important}.tag-button.active[_ngcontent-%COMP%]{border-color:#3f51b5!important;background:#3f51b5!important;color:#fff!important}.tag-name[_ngcontent-%COMP%]{font-size:.9em}.tag-count[_ngcontent-%COMP%]{background:#e3f2fd;color:#1976d2;padding:2px 6px;border-radius:10px;font-size:.8em}.no-tags[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px;padding:20px;color:#999}.add-by-uid-section[_ngcontent-%COMP%]{margin:20px 0;padding:20px;background:#f8f9fa;border-radius:8px;border:1px solid #e0e0e0}.textarea-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}.textarea-title[_ngcontent-%COMP%]{margin:0;color:#333;font-size:1em;font-weight:500}.uid-count[_ngcontent-%COMP%]{background:#e3f2fd;color:#1976d2;padding:4px 8px;border-radius:12px;font-size:.8em}.textarea-wrapper[_ngcontent-%COMP%]{position:relative;margin-bottom:10px}.textarea-icon[_ngcontent-%COMP%]{position:absolute;top:12px;left:12px;color:#666}.uid-textarea[_ngcontent-%COMP%]{width:100%;padding:12px 12px 12px 40px;border:1px solid #ddd;border-radius:6px;font-size:14px;resize:vertical;background:#fff}.uid-processing-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px;border-radius:4px;margin:10px 0;font-size:14px}.uid-processing-status.loading[_ngcontent-%COMP%]{background:#e3f2fd;color:#1976d2}.uid-processing-status.success[_ngcontent-%COMP%]{background:#e8f5e9;color:#2e7d32}.uid-processing-status.error[_ngcontent-%COMP%]{background:#ffebee;color:#c62828}.format-hint[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#666;font-size:.9em;margin-top:10px}.uid-section-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:20px;padding-top:16px;border-top:1px solid #eee}.questions-select-section[_ngcontent-%COMP%]{margin-bottom:20px}.questions-loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:12px;padding:20px;color:#666}.filter-indicator[_ngcontent-%COMP%]{color:#3f51b5;font-size:.9em;margin-left:8px}.question-option-content[_ngcontent-%COMP%]{width:100%}.question-preview[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.correct-answer[_ngcontent-%COMP%]{color:#4caf50}.question-id[_ngcontent-%COMP%]{font-family:monospace}.selected-questions-preview[_ngcontent-%COMP%]{margin-top:24px}.preview-header-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.preview-title[_ngcontent-%COMP%]{margin:0;color:#333;font-size:1.1em;font-weight:500}.questions-preview-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;max-height:400px;overflow-y:auto;padding-right:8px}.question-preview-card[_ngcontent-%COMP%]{padding:16px;background:#fff;border:1px solid #e0e0e0;border-radius:8px}.preview-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;padding-bottom:8px;border-bottom:1px solid #f0f0f0}.question-header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex-wrap:wrap}.question-preview-number[_ngcontent-%COMP%]{margin:0;color:#3f51b5;font-size:14px;font-weight:500}.correct-answer-badge[_ngcontent-%COMP%], .question-uid-badge[_ngcontent-%COMP%], .question-tags-badge[_ngcontent-%COMP%]{background:#e3f2fd;color:#1976d2;padding:4px 8px;border-radius:4px;font-size:.8em}.question-tags-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.preview-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.language-preview[_ngcontent-%COMP%]{padding:8px;background:#f8f9fa;border-radius:4px}.language-preview[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;margin-bottom:4px;color:#333;font-size:.9em}.description-preview[_ngcontent-%COMP%]{margin-top:8px;padding-top:8px;border-top:1px dashed #ddd}.description-preview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;color:#666;font-size:.9em}.options-preview[_ngcontent-%COMP%]{padding:8px;background:#f8f9fa;border-radius:4px}.options-preview[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;margin-bottom:8px;color:#333;font-size:.9em}.options-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:8px}.option-preview[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:8px;padding:6px;background:#fff;border:1px solid #e0e0e0;border-radius:4px}.option-letter[_ngcontent-%COMP%]{background:#3f51b5;color:#fff;width:20px;height:20px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.8em;font-weight:700}.option-content[_ngcontent-%COMP%]{flex:1}.option-text-preview[_ngcontent-%COMP%], .option-text-hindi[_ngcontent-%COMP%]{font-size:13px;line-height:1.4}.option-text-hindi[_ngcontent-%COMP%]{color:#666;margin-top:2px}.no-questions-selected[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;background:#f8f9fa;border-radius:8px;border:1px dashed #ddd;color:#666}.no-questions-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:#ccc;margin-bottom:16px}.no-questions-selected[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;color:#333}.no-questions-selected[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9em}.dialog-actions[_ngcontent-%COMP%]{padding:16px 24px;border-top:1px solid #e0e0e0;background:#fff}.submit-btn[_ngcontent-%COMP%]{min-width:180px}.questions-preview-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.questions-preview-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.questions-preview-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1}@media (max-width: 768px){.create-test-dialog[_ngcontent-%COMP%]{max-height:95vh}.test-form[_ngcontent-%COMP%]{padding:16px}.form-section[_ngcontent-%COMP%]{padding:16px;margin-bottom:24px}.row[_ngcontent-%COMP%], .marks-section[_ngcontent-%COMP%]{flex-direction:column;gap:16px}.section-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.action-buttons[_ngcontent-%COMP%]{width:100%}.tags-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.uid-section-actions[_ngcontent-%COMP%]{flex-direction:column}}.question-option-content[_ngcontent-%COMP%]{display:flex;align-items:flex-start;width:100%;padding:8px 0}.question-checkbox[_ngcontent-%COMP%]{margin-right:12px;flex-shrink:0;margin-top:2px}.checkbox-icon[_ngcontent-%COMP%]{color:#3f51b5;font-size:20px;width:20px;height:20px}.question-preview[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:4px}.question-meta[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:.8em;color:#666}.correct-answer[_ngcontent-%COMP%]{color:#4caf50;font-weight:500}.question-tags[_ngcontent-%COMP%]{color:#666;font-size:.8em;background:#edf2f7;padding:2px 6px;border-radius:4px}.question-id[_ngcontent-%COMP%]{font-family:monospace;font-size:.8em;color:#999}.mat-mdc-option[_ngcontent-%COMP%]{height:auto!important;min-height:60px!important;padding:0 16px!important}.mat-mdc-option[_ngcontent-%COMP%]:hover:not(.mat-mdc-option-disabled){background:#f5f5f5!important}.mat-mdc-option.mat-selected[_ngcontent-%COMP%]:not(.mat-mdc-option-multiple){background:#e3f2fd!important}.mat-pseudo-checkbox[_ngcontent-%COMP%], .mat-mdc-option[_ngcontent-%COMP%]   .mdc-list-item__start[_ngcontent-%COMP%]{display:none!important}.mat-mdc-option[_ngcontent-%COMP%]   .mdc-list-item__content[_ngcontent-%COMP%]{width:100%!important}.question-option-content[_ngcontent-%COMP%]{cursor:pointer}.question-in-test[_ngcontent-%COMP%]{opacity:.7}.question-in-test[_ngcontent-%COMP%]   .checkbox-icon[_ngcontent-%COMP%]{color:#4caf50}.preview-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px;padding:20px;background:#fff;border-radius:8px;border:1px solid #e8e8e8}.language-preview[_ngcontent-%COMP%]{padding:16px;background:#fafafa;border-radius:6px;border:1px solid #f0f0f0;transition:all .2s ease}.language-preview[_ngcontent-%COMP%]:hover{border-color:#e0e0e0;background:#f5f5f5}.language-preview[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#333;font-size:1rem;font-weight:600;margin-bottom:12px;padding-bottom:8px;border-bottom:2px solid #e0e0e0}.language-preview[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:4px;height:16px;background:#667eea;border-radius:2px}.language-preview[_ngcontent-%COMP%]:first-child   strong[_ngcontent-%COMP%]:before{background:linear-gradient(135deg,#667eea,#764ba2)}.language-preview[_ngcontent-%COMP%]:nth-child(2)   strong[_ngcontent-%COMP%]:before{background:linear-gradient(135deg,#ff5722,#ff9800)}.description-preview[_ngcontent-%COMP%]{margin-top:16px;padding:12px 16px;background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:6px;border-left:3px solid #4CAF50}.description-preview[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;color:#2e7d32;font-size:.9rem;font-weight:600;margin-bottom:8px;border:none;padding:0}.description-preview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.95rem;line-height:1.5;color:#555;font-style:italic}.options-preview[_ngcontent-%COMP%]{padding:16px;background:#fafafa;border-radius:6px;border:1px solid #f0f0f0}.options-preview[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#333;font-size:1rem;font-weight:600;margin-bottom:16px;padding-bottom:8px;border-bottom:2px solid #e0e0e0}.options-preview[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:4px;height:16px;background:linear-gradient(135deg,#ff9800,#ff5722);border-radius:2px}.options-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:12px;margin-top:8px}.option-preview[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;padding:14px;background:#fff;border:2px solid #e0e0e0;border-radius:8px;transition:all .2s ease;position:relative;overflow:hidden}.option-preview[_ngcontent-%COMP%]:hover{border-color:silver;transform:translateY(-1px);box-shadow:0 2px 8px #0000001a}.option-letter[_ngcontent-%COMP%]{flex-shrink:0;display:flex;align-items:center;justify-content:center;width:30px;height:30px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-radius:50%;font-weight:600;font-size:.9rem;box-shadow:0 2px 4px #667eea4d}.option-preview.correct[_ngcontent-%COMP%]{border-color:#4caf50;background:linear-gradient(135deg,#f8fdf8,#f1f8e9)}.option-preview.correct[_ngcontent-%COMP%]   .option-letter[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4caf50,#2e7d32)}.option-content[_ngcontent-%COMP%]{flex:1;min-height:30px}.option-text-preview[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.5;color:#333;margin-bottom:4px;padding:4px 8px;background:#f8f9fa;border-radius:4px}.option-text-hindi[_ngcontent-%COMP%]{font-size:.9rem;line-height:1.4;color:#666;margin-top:6px;padding:4px 8px 4px 12px;background:#f0f0f0;border-radius:4px;border-left:2px solid #FF9800}.option-text-preview[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .option-text-hindi[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600;color:#222}@media (max-width: 768px){.preview-content[_ngcontent-%COMP%]{padding:16px;gap:20px}.language-preview[_ngcontent-%COMP%]{padding:12px}.options-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:10px}.option-preview[_ngcontent-%COMP%]{padding:12px}.option-letter[_ngcontent-%COMP%]{width:26px;height:26px;font-size:.8rem}}@media (max-width: 480px){.preview-content[_ngcontent-%COMP%]{padding:12px}.language-preview[_ngcontent-%COMP%], .options-preview[_ngcontent-%COMP%]{padding:10px}.question-text-preview[_ngcontent-%COMP%], .option-text-preview[_ngcontent-%COMP%], .option-text-hindi[_ngcontent-%COMP%]{padding:6px}}.language-preview[_ngcontent-%COMP%], .options-preview[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.option-preview[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translate(-10px)}to{opacity:1;transform:translate(0)}}.correct-answer-indicator[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;width:20px;height:20px;background:#4caf50;border-radius:50%;display:flex;align-items:center;justify-content:center}.question-text-preview[_ngcontent-%COMP%]{font-size:.9375rem;line-height:1.5;color:#1a365d;margin-bottom:10px;padding:20px;background:#edf2f7;border-radius:4px;border-left:2px solid #3182ce;font-weight:400;flex-shrink:0}.question-text-preview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 8px;max-width:100%;font-size:inherit;line-height:inherit}.question-text-preview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.question-text-preview[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600;color:#2d3748}.question-text-preview[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-style:italic;color:#4a5568}.question-text-preview[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .question-text-preview[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin:8px 0;padding-left:1.5em}.question-text-preview[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:.25em 0;line-height:1.4}.question-text-preview[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin:8px 0;font-size:.875rem}.question-text-preview[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#e2e8f0;color:#2d3748;font-weight:600;text-align:left;padding:8px;border:1px solid #cbd5e0}.question-text-preview[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #e2e8f0;padding:8px;color:#4a5568}.question-text-preview[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-family:SF Mono,Roboto Mono,monospace;font-size:.85em;background:#e2e8f0;padding:2px 4px;border-radius:3px;color:#2d3748}.question-text-preview[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{background:#2d3748;color:#e2e8f0;padding:12px;border-radius:4px;overflow-x:auto;font-family:SF Mono,Roboto Mono,monospace;font-size:.85em;line-height:1.4;margin:8px 0}.question-text-preview[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:none;color:inherit;padding:0}.question-text-preview[_ngcontent-%COMP%]   blockquote[_ngcontent-%COMP%]{border-left:3px solid #3182ce;padding-left:12px;margin:8px 0;color:#4a5568;font-style:italic}.question-text-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:4px;margin:8px 0;border:1px solid #e2e8f0}.question-text-preview[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .question-text-preview[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .question-text-preview[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .question-text-preview[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .question-text-preview[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .question-text-preview[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#1a365d;margin:12px 0 8px;font-weight:600;line-height:1.3}.question-text-preview[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5em}.question-text-preview[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.3em}.question-text-preview[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1em}.question-text-preview[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1em}.question-text-preview[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:.9em}.question-text-preview[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.85em}.question-text-preview[_ngcontent-%COMP%]   .math[_ngcontent-%COMP%]{font-family:"Cambria Math","Latin Modern Math","STIX Two Math",serif;font-style:italic}@media (max-width: 768px){.question-text-preview[_ngcontent-%COMP%]{font-size:.875rem;padding:10px}.question-text-preview[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-size:.8125rem}.question-text-preview[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .question-text-preview[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:6px}}.question-text-preview.scrollable[_ngcontent-%COMP%]{max-height:200px;overflow-y:auto}.question-text-preview.scrollable[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.question-text-preview.scrollable[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#e2e8f0;border-radius:3px}.question-text-preview.scrollable[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:3px}.question-text-preview.scrollable[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a0aec0}.question-text-preview[_ngcontent-%COMP%]   .inline[_ngcontent-%COMP%]{display:inline-block;margin:0 2px}.question-text-preview[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{background:#fffacd;padding:1px 3px;border-radius:2px;color:#805b10}.option-text-preview[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.5;color:#2d3748;margin-bottom:4px;padding:8px;background:#fff;border-radius:4px;border:1px solid #e2e8f0}.option-text-hindi[_ngcontent-%COMP%]{font-size:.85rem;line-height:1.4;color:#4a5568;margin-top:6px;padding:8px 8px 8px 12px;background:#f7fafc;border-radius:4px;border-left:2px solid #d69e2e}.option-text-preview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .option-text-hindi[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.option-text-preview[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .option-text-hindi[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600;color:#1a365d}.option-text-preview[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .option-text-hindi[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .option-text-preview[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%], .option-text-hindi[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin:4px 0;padding-left:1.2em}.option-text-preview[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .option-text-hindi[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:2px 0;font-size:.9em}.description-preview[_ngcontent-%COMP%]{margin-top:16px;padding:12px 16px;background:linear-gradient(135deg,#f7fafc,#edf2f7);border-radius:6px;border-left:3px solid #38a169;position:relative}.description-preview[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;color:#2e7d32;font-size:.875rem;font-weight:600;margin-bottom:8px;text-transform:uppercase;letter-spacing:.3px}.description-preview[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]:before{content:"\\1f4dd";margin-right:6px;font-size:.8em}.description-preview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9rem;line-height:1.5;color:#4a5568;font-style:normal}.language-preview[_ngcontent-%COMP%]{padding:16px;background:#fff;border-radius:6px;border:1px solid #e2e8f0;transition:all .2s ease;margin-bottom:12px}.language-preview[_ngcontent-%COMP%]:last-child{margin-bottom:0}.language-preview[_ngcontent-%COMP%]:hover{border-color:#cbd5e1;box-shadow:0 1px 3px #0000000d}.language-preview[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#1a365d;font-size:.9rem;font-weight:600;margin-bottom:12px;padding-bottom:8px;border-bottom:1px solid #e2e8f0;text-transform:uppercase;letter-spacing:.5px}.language-preview[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:4px;height:16px;background:#3182ce;border-radius:2px}.language-preview[_ngcontent-%COMP%]:first-child   strong[_ngcontent-%COMP%]:before{background:linear-gradient(135deg,#3182ce,#2b6cb0)}.language-preview[_ngcontent-%COMP%]:nth-child(2)   strong[_ngcontent-%COMP%]:before{background:linear-gradient(135deg,#d69e2e,#b7791f)}.options-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:10px;margin-top:8px}.option-preview[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:10px;padding:12px;background:#fff;border:1px solid #e2e8f0;border-radius:6px;transition:all .2s ease;position:relative;overflow:hidden}.option-preview[_ngcontent-%COMP%]:hover{border-color:#cbd5e1;box-shadow:0 1px 3px #00000014}.option-preview.correct[_ngcontent-%COMP%]{border-color:#38a169;background:linear-gradient(135deg,#38a1690d,#48bb780d)}.option-letter[_ngcontent-%COMP%]{flex-shrink:0;display:flex;align-items:center;justify-content:center;width:28px;height:28px;background:linear-gradient(135deg,#3182ce,#2b6cb0);color:#fff;border-radius:50%;font-weight:600;font-size:.8rem;box-shadow:0 1px 2px #3182ce33}.option-preview.correct[_ngcontent-%COMP%]   .option-letter[_ngcontent-%COMP%]{background:linear-gradient(135deg,#38a169,#2f855a)}.correct-answer-indicator[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;width:20px;height:20px;background:#38a169;border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 1px 2px #38a1694d}.correct-answer-indicator[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff;font-size:12px;width:12px;height:12px}@media (max-width: 768px){.options-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:8px}.option-preview[_ngcontent-%COMP%]{padding:10px}.option-letter[_ngcontent-%COMP%]{width:24px;height:24px;font-size:.75rem}.language-preview[_ngcontent-%COMP%]{padding:12px}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.question-text-preview[_ngcontent-%COMP%], .option-text-preview[_ngcontent-%COMP%], .option-text-hindi[_ngcontent-%COMP%], .language-preview[_ngcontent-%COMP%], .option-preview[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .3s ease-out}.question-text-preview[_ngcontent-%COMP%]   .equation[_ngcontent-%COMP%]{font-family:"Cambria Math","Latin Modern Math",serif;font-style:italic;display:inline-block;margin:2px 0}.question-text-preview[_ngcontent-%COMP%]   .fraction[_ngcontent-%COMP%]{display:inline-block;text-align:center;vertical-align:middle;margin:0 2px}.question-text-preview[_ngcontent-%COMP%]   .numerator[_ngcontent-%COMP%], .question-text-preview[_ngcontent-%COMP%]   .denominator[_ngcontent-%COMP%]{display:block;padding:0 2px}.question-text-preview[_ngcontent-%COMP%]   .denominator[_ngcontent-%COMP%]{border-top:1px solid #2d3748}.question-text-preview[_ngcontent-%COMP%]   kbd[_ngcontent-%COMP%]{font-family:SF Mono,Roboto Mono,monospace;font-size:.8em;background:#e2e8f0;border:1px solid #cbd5e0;border-radius:3px;padding:2px 4px;color:#2d3748;box-shadow:0 1px #cbd5e0}']})};var bt=vt(Ct());var hn=["videoLinkInput"];function bn(a,t){if(a&1){let e=b();o(0,"button",8),_("click",function(){f(e);let s=c();return x(s.openCreateTestDialog())}),o(1,"mat-icon"),r(2,"add"),n(),r(3," Create Test "),n()}}function vn(a,t){a&1&&(o(0,"div",9),h(1,"mat-spinner"),o(2,"p"),r(3,"Loading tests..."),n()())}function Cn(a,t){if(a&1&&(o(0,"div"),r(1),n()),a&2){let e=c().$implicit,i=c(2);I("available",i.canStartTest(e))("ended",!i.canStartTest(e)),l(),g(" Status: ",i.canStartTest(e)?"Available":"Not Available"," ")}}function Mn(a,t){if(a&1){let e=b();o(0,"button",18),_("click",function(){f(e);let s=c().$implicit,m=c(2);return x(m.startTest(s))}),r(1),n()}if(a&2){let e=c().$implicit,i=c(2);d("disabled",e.submitted||!i.canStartTest(e)),l(),g(" ",e.submitted?"Test Submitted":"Start Test"," ")}}function yn(a,t){if(a&1){let e=b();o(0,"button",25),_("click",function(){f(e);let s=c(2).$implicit,m=c(2);return x(m.openVideoLinkModal(s))}),o(1,"mat-icon"),r(2),n(),r(3),n()}if(a&2){let e=c(2).$implicit,i=c(2);d("disabled",!i.canAddVideoLink(e)),l(2),y(e.videoLink?"edit":"videocam"),l(),g(" ",e.videoLink?"Edit Video":"Add Video"," ")}}function Pn(a,t){if(a&1){let e=b();o(0,"button",20),_("click",function(){f(e);let s=c(2).$implicit,m=c(2);return x(m.openVideoInNewTab(s))}),o(1,"mat-icon"),r(2,"play_circle"),n(),r(3," Watch Video "),n()}}function wn(a,t){if(a&1){let e=b();o(0,"button",20),_("click",function(){f(e);let s=c(2).$implicit,m=c(2);return x(m.openViewIntroModal(s))}),o(1,"mat-icon"),r(2,"visibility"),n(),r(3,` View Intro
`),n()}}function On(a,t){if(a&1){let e=b();o(0,"button",26),_("click",function(){f(e);let s=c(2).$implicit,m=c(2);return x(m.openIntroModal(s))}),o(1,"mat-icon"),r(2),n(),r(3),n()}if(a&2){let e=c(2).$implicit;l(2),y(e.introPage?"edit":"add_circle"),l(),g(" ",e.introPage?"Edit Intro":"Add Intro",`
`)}}function Tn(a,t){if(a&1){let e=b();o(0,"div",19)(1,"button",20),_("click",function(){f(e);let s=c().$implicit,m=c(2);return x(m.editTest(s))}),o(2,"mat-icon"),r(3,"edit"),n(),r(4," Edit/View "),n(),o(5,"button",21),_("click",function(){f(e);let s=c().$implicit,m=c(2);return x(m.deleteTest(s._id))}),o(6,"mat-icon"),r(7,"delete"),n(),r(8," Delete "),n(),p(9,yn,4,3,"button",22)(10,Pn,4,0,"button",23)(11,wn,4,0,"button",23)(12,On,4,2,"button",24),n()}if(a&2){let e=c().$implicit,i=c(2);l(9),d("ngIf",i.isAdmin),l(),d("ngIf",e.videoLink),l(),d("ngIf",e.introPage),l(),d("ngIf",i.isAdmin)}}function kn(a,t){a&1&&(o(0,"div",27),h(1,"mat-spinner",28),o(2,"span"),r(3,"Generating PDF..."),n()())}function Sn(a,t){if(a&1&&(o(0,"mat-card",12)(1,"mat-card-header")(2,"mat-card-title"),r(3),n(),o(4,"mat-card-subtitle")(5,"div"),r(6),re(7,"date"),n(),o(8,"div"),r(9),re(10,"date"),n(),o(11,"div"),r(12),n(),p(13,Cn,2,5,"div",13),n()(),o(14,"mat-card-content")(15,"p")(16,"strong"),r(17,"Desc:"),n(),r(18),n(),o(19,"p")(20,"strong"),r(21,"Total Questions:"),n(),r(22),n(),o(23,"p")(24,"strong"),r(25,"Marks Per Question:"),n(),r(26),n(),o(27,"p")(28,"strong"),r(29,"Negative Marks:"),n(),r(30),n(),o(31,"p")(32,"strong"),r(33,"Max Marks:"),n(),r(34),n()(),o(35,"mat-card-actions",14),p(36,Mn,2,2,"button",15)(37,Tn,13,4,"div",16),n(),p(38,kn,4,0,"div",17),n()),a&2){let e=t.$implicit,i=c(2);l(3),y(e.title),l(3),g("Starts: ",se(7,13,e.startTime,"medium"),""),l(3),g("Ends: ",se(10,16,e.endTime,"medium"),""),l(3),g("Duration: ",e.duration," minutes"),l(),d("ngIf",!i.isAdmin),l(5),g(" ",e.description,""),l(4),g(" ",(e.questionUids==null?null:e.questionUids.length)||e.totalQuestions,""),l(4),g(" ",e.marksPerQuestion,""),l(4),g(" ",e.negativeMarks,""),l(4),g(" ",e.marksPerQuestion*(e.questionUids==null?null:e.questionUids.length)||e.marksPerQuestion*e.totalQuestions,""),l(2),d("ngIf",!i.isAdmin),l(),d("ngIf",i.isAdmin),l(),d("ngIf",i.pdfDownloading()===e._id)}}function In(a,t){if(a&1&&(o(0,"div",10),p(1,Sn,39,19,"mat-card",11),n()),a&2){let e=c();l(),d("ngForOf",e.tests())}}function En(a,t){if(a&1){let e=b();o(0,"button",20),_("click",function(){f(e);let s=c(2);return x(s.openCreateTestDialog())}),r(1," Create your first test "),n()}}function Dn(a,t){if(a&1&&(o(0,"div",29)(1,"mat-card")(2,"mat-card-content")(3,"p"),r(4,"No tests available at the moment."),n(),p(5,En,2,0,"button",23),n()()()),a&2){let e=c();l(5),d("ngIf",e.isAdmin)}}function Vn(a,t){a&1&&(o(0,"mat-icon"),r(1,"save"),n())}function Ln(a,t){a&1&&h(0,"span",43)}function Fn(a,t){if(a&1){let e=b();o(0,"div",30)(1,"div",31)(2,"div",32)(3,"mat-icon"),r(4,"videocam"),n(),o(5,"h3"),r(6),n(),o(7,"button",33),_("click",function(){f(e);let s=c();return x(s.closeVideoLinkModal())}),o(8,"mat-icon"),r(9,"close"),n()()(),o(10,"div",34)(11,"p")(12,"strong"),r(13,"Test:"),n(),r(14),n(),o(15,"div",35)(16,"label"),r(17,"Video URL (YouTube, Google Drive, etc.)"),n(),o(18,"input",36,0),q("ngModelChange",function(s){f(e);let m=c();return F(m.videoLinkInputValue,s)||(m.videoLinkInputValue=s),x(s)}),n(),o(20,"small",37),r(21,"Leave empty to remove video link"),n()()(),o(22,"div",38)(23,"button",39),_("click",function(){f(e);let s=c();return x(s.closeVideoLinkModal())}),r(24," Cancel "),n(),o(25,"button",40),_("click",function(){f(e);let s=c();return x(s.updateVideoLink())}),p(26,Vn,2,0,"mat-icon",41)(27,Ln,1,0,"span",42),r(28),n()()()()}if(a&2){let e=c();l(6),g("",e.selectedTest.videoLink?"Edit":"Add"," Video Link"),l(),d("disabled",e.updatingVideoLink),l(7),g(" ",e.selectedTest.title,""),l(4),L("ngModel",e.videoLinkInputValue),d("disabled",e.updatingVideoLink),l(5),d("disabled",e.updatingVideoLink),l(2),d("disabled",e.updatingVideoLink),l(),d("ngIf",!e.updatingVideoLink),l(),d("ngIf",e.updatingVideoLink),l(),g(" ",e.updatingVideoLink?"Saving...":"Save"," ")}}function qn(a,t){a&1&&(o(0,"mat-icon"),r(1,"save"),n())}function An(a,t){a&1&&h(0,"span",43)}function Rn(a,t){if(a&1){let e=b();o(0,"div",30)(1,"div",31)(2,"div",32)(3,"mat-icon"),r(4),n(),o(5,"h3"),r(6),n(),o(7,"button",33),_("click",function(){f(e);let s=c();return x(s.closeIntroModal())}),o(8,"mat-icon"),r(9,"close"),n()()(),o(10,"div",34)(11,"p")(12,"strong"),r(13,"Test:"),n(),r(14),n(),o(15,"div",35)(16,"label",44),r(17,"Introduction Text *"),n(),h(18,"ckeditor",45),o(19,"small",37),r(20,"Add introduction/instructions for this test. Leave empty to remove."),n()()(),o(21,"div",38)(22,"button",39),_("click",function(){f(e);let s=c();return x(s.closeIntroModal())}),r(23," Cancel "),n(),o(24,"button",40),_("click",function(){f(e);let s=c();return x(s.updateIntro())}),p(25,qn,2,0,"mat-icon",41)(26,An,1,0,"span",42),r(27),n()()()()}if(a&2){let e=c();l(4),y(e.selectedTest.intro?"edit":"add_circle"),l(2),g("",e.selectedTest.intro?"Edit":"Add"," Introduction"),l(),d("disabled",e.updatingIntro),l(7),g(" ",e.selectedTest.title,""),l(4),d("editor",e.Editor)("config",e.editorConfig)("formControl",e.introContent),l(4),d("disabled",e.updatingIntro),l(2),d("disabled",e.updatingIntro),l(),d("ngIf",!e.updatingIntro),l(),d("ngIf",e.updatingIntro),l(),g(" ",e.updatingIntro?"Saving...":"Save"," ")}}function Qn(a,t){if(a&1){let e=b();o(0,"div",30)(1,"div",46)(2,"div",32)(3,"mat-icon"),r(4,"visibility"),n(),o(5,"h3"),r(6),n(),o(7,"button",47),_("click",function(){f(e);let s=c();return x(s.closeViewIntroModal())}),o(8,"mat-icon"),r(9,"close"),n()()(),o(10,"div",48),h(11,"div",49),n(),o(12,"div",38)(13,"button",50),_("click",function(){f(e);let s=c();return x(s.closeViewIntroModal())}),r(14," Close "),n()()()()}if(a&2){let e=c();l(6),g("Introduction - ",e.selectedTest.title,""),l(5),d("innerHTML",e.getSafeIntroHtml(e.selectedTest.introPage),k)}}var ht=class a{authService=M(Pe);testService=M(ee);dialog=M(tt);snackBar=M(W);router=M(Ce);sanitizer=M(ve);videoLinkInput;tests=v([]);loading=v(!1);pdfDownloading=v(null);isAdmin=this.authService.currentUser()?.role==="admin";showVideoLinkModal=!1;selectedTest=null;videoLinkInputValue="";updatingVideoLink=!1;showIntroModal=!1;showViewIntroModal=!1;introContent=new Oe("");updatingIntro=!1;Editor=bt.default;editorConfig={toolbar:["heading","|","bold","italic","underline","strikethrough","|","bulletedList","numberedList","|","insertTable","blockQuote","|","undo","redo"],table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},height:"300px"};ngOnInit(){this.loadTests()}loadTests(){this.loading.set(!0),this.isAdmin?this.testService.getAllTests().subscribe({next:t=>{this.tests.set(t),this.loading.set(!1)},error:t=>{this.snackBar.open("Error loading tests","Close",{duration:3e3}),this.loading.set(!1)}}):this.testService.getUpcomingTests().subscribe({next:t=>{this.tests.set(t),this.loading.set(!1)},error:t=>{this.snackBar.open("Error loading tests","Close",{duration:3e3}),this.loading.set(!1)}})}openVideoLinkModal(t){this.selectedTest=t,this.videoLinkInputValue=t.videoLink||"",this.showVideoLinkModal=!0,setTimeout(()=>{this.videoLinkInput&&this.videoLinkInput.nativeElement.focus()},100)}closeVideoLinkModal(){this.showVideoLinkModal=!1,this.selectedTest=null,this.videoLinkInputValue="",this.updatingVideoLink=!1}updateVideoLink(){if(!this.selectedTest)return;let t=this.videoLinkInputValue.trim();if(t&&!this.isValidUrl(t)){this.snackBar.open("Please enter a valid URL","Close",{duration:3e3});return}this.updatingVideoLink=!0,this.testService.updateTest(this.selectedTest._id,{videoLink:t}).subscribe({next:e=>{let i=this.tests().map(s=>s._id===this.selectedTest._id?V(D({},s),{videoLink:t}):s);this.tests.set(i),this.snackBar.open(t?"Video link saved successfully!":"Video link removed!","Close",{duration:3e3}),this.closeVideoLinkModal()},error:e=>{console.error("Error updating video link:",e),this.snackBar.open("Failed to save video link: "+(e.error?.message||"Unknown error"),"Close",{duration:3e3}),this.updatingVideoLink=!1}})}isValidUrl(t){try{return new URL(t),!0}catch{return!1}}clearVideoLink(){this.videoLinkInputValue=""}canAddVideoLink(t){if(!t.startTime)return!1;let e=new Date,i=new Date(new Date(t.startTime).getTime()+(t.duration||0)*6e4);return e>i}openVideoInNewTab(t){t.videoLink&&window.open(t.videoLink,"_blank")}openCreateTestDialog(t){this.dialog.open(te,{width:"90vw",maxWidth:"1200px",height:"90vh",maxHeight:"800px",panelClass:"create-test-dialog-panel",autoFocus:!1,data:{test:t||null}}).afterClosed().subscribe(i=>{i&&this.loadTests()})}editTest(t){this.openCreateTestDialog(t)}deleteTest(t){confirm("Are you sure you want to delete this test? This will also delete all associated results.")&&this.testService.deleteTest(t).subscribe({next:()=>{this.snackBar.open("Test deleted successfully","Close",{duration:3e3}),this.loadTests()},error:e=>{this.snackBar.open("Error deleting test: "+e.error?.message,"Close",{duration:3e3})}})}canStartTest(t){if(!t.startTime)return!1;let e=new Date,i=new Date(t.startTime),s=new Date(i.getTime()+(t.duration||0)*6e4);return e>=i&&e<=s}startTest(t){if(this.canStartTest(t))this.router.navigate(["/take-test",t._id]);else{let e=new Date,i=new Date(t.startTime);e<i?this.snackBar.open("Test has not started yet","Close",{duration:3e3}):this.snackBar.open("Test has already ended","Close",{duration:3e3})}}viewResults(t){this.router.navigate(["/results"],{queryParams:{testId:t}})}openIntroModal(t){this.selectedTest=t,this.introContent.setValue(t.introPage||""),this.showIntroModal=!0}closeIntroModal(){this.showIntroModal=!1,this.selectedTest=null,this.introContent.setValue(""),this.updatingIntro=!1}updateIntro(){if(!this.selectedTest)return;let t=this.introContent.value?.trim()||"";console.log("Saving introPage for test:",this.selectedTest._id),console.log("introPage content:",t),this.updatingIntro=!0,this.testService.updateTest(this.selectedTest._id,{introPage:t}).subscribe({next:e=>{let i=this.tests().map(s=>s._id===this.selectedTest._id?V(D({},s),{introPage:t}):s);this.tests.set(i),this.snackBar.open(t?"Intro saved successfully!":"Intro removed!","Close",{duration:3e3}),this.closeIntroModal()},error:e=>{console.error("Error updating introPage:",e),this.snackBar.open("Failed to save intro: "+(e.error?.message||"Unknown error"),"Close",{duration:3e3}),this.updatingIntro=!1}})}openViewIntroModal(t){this.selectedTest=t,this.showViewIntroModal=!0}closeViewIntroModal(){this.showViewIntroModal=!1,this.selectedTest=null}getSafeIntroHtml(t){return this.sanitizer.sanitize(_e.HTML,t||"No introduction available.")}downloadPdf(t,e){this.pdfDownloading.set(t);let i=e==="en"?"English":"Hindi",m=this.tests().find(u=>u._id===t)?.title||"test";this.testService.downloadQuestionPaperPdf(t,e).subscribe({next:u=>{u.success&&u.base64?(this.downloadBase64Pdf(u.base64,u.fileName||`question-paper-${t}-${e}.pdf`,m),this.snackBar.open(`${i} PDF downloaded successfully!`,"Close",{duration:3e3})):this.snackBar.open("Failed to generate PDF","Close",{duration:3e3}),this.pdfDownloading.set(null)},error:u=>{console.error("Error downloading PDF:",u),this.snackBar.open(`Error downloading ${i} PDF: ${u.error?.message||"Unknown error"}`,"Close",{duration:3e3}),this.pdfDownloading.set(null)}})}downloadBase64Pdf(t,e,i){try{let s=atob(t),m=new Array(s.length);for(let w=0;w<s.length;w++)m[w]=s.charCodeAt(w);let u=new Uint8Array(m),O=new Blob([u],{type:"application/pdf"}),P=window.URL.createObjectURL(O),C=document.createElement("a");C.href=P,C.download=e,C.setAttribute("data-test-title",i),document.body.appendChild(C),C.click(),setTimeout(()=>{document.body.removeChild(C),window.URL.revokeObjectURL(P)},100)}catch(s){console.error("Error processing PDF data:",s),this.snackBar.open("Error processing PDF file","Close",{duration:3e3})}}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=S({type:a,selectors:[["app-live-tests"]],viewQuery:function(e,i){if(e&1&&ie(hn,5),e&2){let s;oe(s=ae())&&(i.videoLinkInput=s.first)}},decls:11,vars:8,consts:[["videoLinkInput",""],[1,"live-tests-container"],[1,"header"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["class","loading",4,"ngIf"],["class","tests-grid",4,"ngIf"],["class","no-tests",4,"ngIf"],["class","video-link-modal-overlay",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],[1,"loading"],[1,"tests-grid"],["class","test-card",4,"ngFor","ngForOf"],[1,"test-card"],[3,"available","ended",4,"ngIf"],["align","end"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["class","admin-actions",4,"ngIf"],["class","pdf-loading-overlay",4,"ngIf"],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"admin-actions"],["mat-button","","color","primary",3,"click"],["mat-button","","color","warn",3,"click"],["mat-button","","color","accent",3,"disabled","click",4,"ngIf"],["mat-button","","color","primary",3,"click",4,"ngIf"],["mat-button","","color","accent",3,"click",4,"ngIf"],["mat-button","","color","accent",3,"click","disabled"],["mat-button","","color","accent",3,"click"],[1,"pdf-loading-overlay"],["diameter","30"],[1,"no-tests"],[1,"video-link-modal-overlay"],[1,"video-link-modal"],[1,"video-link-modal-header"],[1,"close-btn",3,"click","disabled"],[1,"video-link-modal-body"],[1,"form-group"],["type","url","placeholder","https://www.youtube.com/watch?v=...",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"form-text"],[1,"video-link-modal-footer"],[1,"btn","secondary",3,"click","disabled"],[1,"btn","primary",3,"click","disabled"],[4,"ngIf"],["class","spinner",4,"ngIf"],[1,"spinner"],[1,"ckeditor-label"],[1,"ckeditor-full-width",3,"editor","config","formControl"],[1,"video-link-modal","view-intro-modal"],[1,"close-btn",3,"click"],[1,"video-link-modal-body","intro-content-container"],[1,"intro-content",3,"innerHTML"],[1,"btn","secondary",3,"click"]],template:function(e,i){e&1&&(o(0,"div",1)(1,"div",2)(2,"h1"),r(3),n(),p(4,bn,4,0,"button",3),n(),p(5,vn,4,0,"div",4)(6,In,2,1,"div",5)(7,Dn,6,1,"div",6),n(),p(8,Fn,29,10,"div",7)(9,Rn,28,12,"div",7)(10,Qn,15,2,"div",7)),e&2&&(l(3),y(i.isAdmin?"Manage Tests":"Upcoming Tests"),l(),d("ngIf",i.isAdmin),l(),d("ngIf",i.loading()),l(),d("ngIf",!i.loading()&&i.tests().length>0),l(),d("ngIf",!i.loading()&&i.tests().length===0),l(),d("ngIf",i.showVideoLinkModal&&i.selectedTest),l(),d("ngIf",i.showIntroModal&&i.selectedTest),l(),d("ngIf",i.showViewIntroModal&&i.selectedTest))},dependencies:[Q,A,R,be,Ue,Fe,Qe,Ae,ze,Re,qe,$,j,dt,Z,K,J,X,G,Y,ft,N,z,U,B,H,Se,ut,gt],styles:[".live-tests-container[_ngcontent-%COMP%]{padding:20px}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px}.tests-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px}.test-card[_ngcontent-%COMP%]{transition:transform .2s}.test-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;gap:20px}.no-tests[_ngcontent-%COMP%]{text-align:center;padding:40px}.admin-actions[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.available[_ngcontent-%COMP%]{color:#4caf50;font-weight:700}.ended[_ngcontent-%COMP%]{color:#f44336;font-weight:700}@media (max-width: 768px){.header[_ngcontent-%COMP%]{flex-direction:column;gap:15px;align-items:flex-start}.tests-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.admin-actions[_ngcontent-%COMP%]{flex-direction:column}}.download-pdf-container[_ngcontent-%COMP%]{position:relative}.pdf-loading-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#ffffffe6;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:12px;z-index:10;border-radius:4px}.pdf-loading-overlay[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#3f51b5;font-weight:500;font-size:.9em}.test-card[_ngcontent-%COMP%]{position:relative}.download-pdf-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.download-pdf-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:4px}.mat-menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.mat-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px;font-size:20px;width:20px;height:20px}.admin-actions[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap;align-items:center}@media (max-width: 768px){.admin-actions[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.admin-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;justify-content:center}.download-pdf-container[_ngcontent-%COMP%], .download-pdf-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}.download-pdf-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#ffc1071a}.mat-menu-item[data-language=en][_ngcontent-%COMP%]{color:#1976d2}.mat-menu-item[data-language=hi][_ngcontent-%COMP%]{color:#d32f2f}.video-link-modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.video-link-modal[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:500px;box-shadow:0 4px 20px #00000026;animation:_ngcontent-%COMP%_modalSlideIn .3s ease}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.video-link-modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:20px;border-bottom:1px solid #e0e0e0;background:#f8f9fa;border-radius:8px 8px 0 0}.video-link-modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;flex:1;color:#333;font-size:1.25rem}.video-link-modal-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#1976d2;font-size:24px;width:24px;height:24px}.close-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:8px;border-radius:4px;display:flex;align-items:center;justify-content:center;color:#666;transition:background-color .2s}.close-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#f0f0f0}.close-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.video-link-modal-body[_ngcontent-%COMP%]{padding:20px}.video-link-modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 20px;color:#555;font-size:14px}.video-link-modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:500;color:#333;font-size:14px}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:4px;font-size:14px;transition:border-color .2s}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#1976d2;box-shadow:0 0 0 2px #1976d21a}.form-control[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;cursor:not-allowed}.video-link-modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:20px;border-top:1px solid #e0e0e0;background:#f8f9fa;border-radius:0 0 8px 8px}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:4px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s;display:flex;align-items:center;gap:8px}.btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn.secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn.secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#5a6268}.btn.primary[_ngcontent-%COMP%]{background:#1976d2;color:#fff}.btn.primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#1565c0}.spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid #ffffff;border-top:2px solid transparent;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.ckeditor-label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:500;color:#000000de}.ckeditor-full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.ckeditor-full-width[_ngcontent-%COMP%]   .ck-editor__editable[_ngcontent-%COMP%]{min-height:200px;max-height:400px;overflow-y:auto}.video-link-modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.video-link-modal[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:800px;max-height:90vh;display:flex;flex-direction:column;box-shadow:0 4px 20px #0003}.video-link-modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px 24px;border-bottom:1px solid #e0e0e0;background:#f5f5f5;border-radius:8px 8px 0 0}.video-link-modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 0 12px;flex:1}.video-link-modal-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#673ab7}.close-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:4px;display:flex;align-items:center;justify-content:center}.close-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#666}.close-btn[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{color:#333}.video-link-modal-body[_ngcontent-%COMP%]{padding:24px;overflow-y:auto;flex:1}.video-link-modal-footer[_ngcontent-%COMP%]{padding:16px 24px;border-top:1px solid #e0e0e0;display:flex;justify-content:flex-end;gap:12px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:500}.form-control[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #ddd;border-radius:4px;font-size:14px}.form-text[_ngcontent-%COMP%]{display:block;margin-top:4px;color:#666;font-size:12px}.btn[_ngcontent-%COMP%]{padding:8px 16px;border-radius:4px;border:none;cursor:pointer;font-size:14px;display:flex;align-items:center;gap:8px;transition:all .2s}.btn.primary[_ngcontent-%COMP%]{background:#673ab7;color:#fff}.btn.primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#5e35b1}.btn.secondary[_ngcontent-%COMP%]{background:#f5f5f5;color:#666}.btn.secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#e0e0e0}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid rgba(255,255,255,.3);border-radius:50%;border-top-color:#fff;animation:_ngcontent-%COMP%_spin 1s ease-in-out infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.video-link-modal-overlay[_ngcontent-%COMP%]{z-index:1000}.intro-content-container[_ngcontent-%COMP%]{padding:20px;background:#fff;border-radius:4px;min-height:200px;max-height:70vh;overflow-y:auto}.intro-content[_ngcontent-%COMP%]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;line-height:1.8;color:#333;white-space:pre-wrap;font-size:16px}.intro-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .intro-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .intro-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .intro-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .intro-content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .intro-content[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#673ab7;margin-top:1.5em;margin-bottom:.5em}.intro-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem;border-bottom:2px solid #673ab7;padding-bottom:8px}.intro-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.intro-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem}.intro-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1em}.intro-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .intro-content[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin:1em 0;padding-left:2em}.intro-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.5em}.intro-content[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;margin:1em 0}.intro-content[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], .intro-content[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .intro-content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd}.intro-content[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .intro-content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px 12px;text-align:left}.intro-content[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f5f5f5;font-weight:600}.intro-content[_ngcontent-%COMP%]   blockquote[_ngcontent-%COMP%]{border-left:4px solid #673ab7;padding-left:16px;margin:1em 0;font-style:italic;color:#555}.intro-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600;color:#333}.intro-content[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-style:italic}.intro-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#673ab7;text-decoration:none}.intro-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};export{ht as LiveTestsComponent};
