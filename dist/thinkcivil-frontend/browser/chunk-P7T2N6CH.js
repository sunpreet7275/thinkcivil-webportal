import{a as q,b as z}from"./chunk-L5XWPQG3.js";import{a as G}from"./chunk-3GT6KHKF.js";import{b as B,c as T,h as N}from"./chunk-2UDCYGGM.js";import{a as H}from"./chunk-OQXYGOAF.js";import{a as A,g as I,h as j,j as Y}from"./chunk-XXQAJVF2.js";import{a as F}from"./chunk-ZZCTLGZF.js";import"./chunk-JTTWDSGT.js";import"./chunk-7RWCIHFI.js";import{i as R,k as V}from"./chunk-TC5NRSHV.js";import{b as P,d,f as w,g as O,l as S,o as k,r as y,w as D,y as L}from"./chunk-32HIGO4K.js";import"./chunk-DPS2XDEH.js";import"./chunk-QF2K6SUP.js";import"./chunk-VR4E7QUQ.js";import{d as v,e as x}from"./chunk-OI25WLE4.js";import"./chunk-OQEWKVRI.js";import{$c as b,Fb as a,Ga as C,Ob as e,Pb as t,Qb as s,Vc as M,Wb as E,gb as u,gc as o,ia as l,sb as h,yb as m}from"./chunk-66BASCB4.js";function K(n,r){n&1&&(e(0,"mat-error"),o(1," \u0908\u092E\u0947\u0932 \u0906\u0935\u0936\u094D\u092F\u0915 \u0939\u0948 / Email is required "),t())}function Q(n,r){n&1&&(e(0,"mat-error"),o(1," \u0915\u0943\u092A\u092F\u093E \u0935\u0948\u0927 \u0908\u092E\u0947\u0932 \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902 / Enter a valid email "),t())}function U(n,r){n&1&&(e(0,"mat-error"),o(1," \u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u0906\u0935\u0936\u094D\u092F\u0915 \u0939\u0948 / Password is required "),t())}function W(n,r){n&1&&(e(0,"mat-error"),o(1," \u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u0915\u092E \u0938\u0947 \u0915\u092E 6 \u0905\u0915\u094D\u0937\u0930\u094B\u0902 \u0915\u093E \u0939\u094B\u0928\u093E \u091A\u093E\u0939\u093F\u090F / Password must be at least 6 characters "),t())}function X(n,r){n&1&&s(0,"mat-spinner",17)}function Z(n,r){n&1&&(e(0,"span"),o(1,"\u0932\u0949\u0917\u093F\u0928 / Login"),t())}function $(n,r){n&1&&s(0,"div",18)}var J=class n{fb=l(D);authService=l(F);router=l(v);snackBar=l(H);loginForm;loading=C(!1);constructor(){this.loginForm=this.fb.group({email:["",[d.required,d.email]],password:["",[d.required,d.minLength(6)]]})}onSubmit(){this.loginForm.valid&&(this.loading.set(!0),this.authService.login(this.loginForm.value).subscribe({next:r=>{r?.user?.role==="student"?(this.authService.setAuthData(r),this.router.navigate(["/dashboard"]),this.snackBar.open("Login successful!","Close",{duration:3e3})):this.snackBar.open("Access denied. Only students are allowed to login.","Close",{duration:3e3}),this.loading.set(!1)},error:r=>{this.loading.set(!1),this.snackBar.open(r?.error?.message||"Login failed","Close",{duration:3e3})}}))}static \u0275fac=function(p){return new(p||n)};static \u0275cmp=h({type:n,selectors:[["app-login"]],decls:38,vars:9,consts:[[1,"login-page"],[1,"login-wrapper"],[1,"login-card"],[1,"brand"],[1,"login-form",3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","email","type","email","placeholder","\u0905\u092A\u0928\u093E \u0908\u092E\u0947\u0932 \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902 / Enter your email"],[4,"ngIf"],["matInput","","formControlName","password","type","password","placeholder","\u0905\u092A\u0928\u093E \u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902 / Enter your password"],[1,"forgot-password-link"],["routerLink","/forgot-password"],["mat-raised-button","","color","primary","type","submit",1,"login-btn",3,"disabled"],["diameter","20",4,"ngIf"],[1,"register-link"],["routerLink","/register"],["routerLink","/homepage"],["class","demo-credentials",4,"ngIf"],["diameter","20"],[1,"demo-credentials"]],template:function(p,i){if(p&1&&(e(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"div",3)(4,"h2"),o(5,"ThinkCivil IAS / \u0925\u093F\u0902\u0915\u0938\u093F\u0935\u093F\u0932 \u0906\u0908\u090F\u090F\u0938"),t(),e(6,"p"),o(7,"Empowering Civil Aspirants with Technology / \u092A\u094D\u0930\u094C\u0926\u094D\u092F\u094B\u0917\u093F\u0915\u0940 \u0915\u0947 \u0938\u093E\u0925 \u0938\u093F\u0935\u093F\u0932 \u0909\u092E\u094D\u092E\u0940\u0926\u0935\u093E\u0930\u094B\u0902 \u0915\u094B \u0938\u0936\u0915\u094D\u0924 \u092C\u0928\u093E\u0928\u093E"),t()(),e(8,"form",4),E("ngSubmit",function(){return i.onSubmit()}),e(9,"mat-form-field",5)(10,"mat-label"),o(11,"\u0908\u092E\u0947\u0932 / Email"),t(),s(12,"input",6),m(13,K,2,0,"mat-error",7)(14,Q,2,0,"mat-error",7),t(),e(15,"mat-form-field",5)(16,"mat-label"),o(17,"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 / Password"),t(),s(18,"input",8),m(19,U,2,0,"mat-error",7)(20,W,2,0,"mat-error",7),t(),e(21,"div",9)(22,"p")(23,"a",10),o(24," Forgot Password? / \u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u092D\u0942\u0932 \u0917\u090F? "),t()()(),e(25,"button",11),m(26,X,1,0,"mat-spinner",12)(27,Z,2,0,"span",7),t()(),e(28,"div",13)(29,"p"),o(30,"\u0916\u093E\u0924\u093E \u0928\u0939\u0940\u0902 \u0939\u0948? / Don't have an account? "),e(31,"a",14),o(32,"\u092F\u0939\u093E\u0901 \u092A\u0902\u091C\u0940\u0915\u0930\u0923 \u0915\u0930\u0947\u0902 / Register here"),t()(),e(33,"p"),o(34,"thinkCivil "),e(35,"a",15),o(36,"\u0935\u0947\u092C\u0938\u093E\u0907\u091F \u092A\u0930 \u091C\u093E\u090F\u0902 / Go to web"),t()()(),m(37,$,1,0,"div",16),t()()()),p&2){let g,c,f,_;u(8),a("formGroup",i.loginForm),u(5),a("ngIf",(g=i.loginForm.get("email"))==null?null:g.hasError("required")),u(),a("ngIf",(c=i.loginForm.get("email"))==null?null:c.hasError("email")),u(5),a("ngIf",(f=i.loginForm.get("password"))==null?null:f.hasError("required")),u(),a("ngIf",(_=i.loginForm.get("password"))==null?null:_.hasError("minlength")),u(5),a("disabled",!i.loginForm.valid||i.loading()),u(),a("ngIf",i.loading()),u(),a("ngIf",!i.loading()),u(10),a("ngIf",!i.loading())}},dependencies:[b,M,L,S,P,w,O,k,y,x,I,A,G,N,B,T,z,q,V,R,Y,j],styles:[".login-page[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:linear-gradient(135deg,#e0f7fa,#e3f2fd,#e8eaf6);font-family:Poppins,sans-serif}.login-wrapper[_ngcontent-%COMP%]{width:100%;max-width:625px;padding:0 20px}.login-card[_ngcontent-%COMP%]{padding:2.5rem;border-radius:20px;box-shadow:0 10px 30px #0000001a;background:#fff;text-align:center;transition:all .3s ease-in-out}.login-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 12px 40px #00000026}.brand[_ngcontent-%COMP%]{margin-bottom:1.5rem}.brand[_ngcontent-%COMP%]   .brand-logo[_ngcontent-%COMP%]{width:80px;height:80px;margin-bottom:.5rem}.brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.6rem;color:#1565c0;font-weight:600}.brand[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#616161;font-size:.9rem}.full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}.login-btn[_ngcontent-%COMP%]{width:100%;padding:.75rem;background:linear-gradient(90deg,#42a5f5,#1e88e5);color:#fff!important;font-weight:600;letter-spacing:.5px;border-radius:8px;transition:all .3s ease}.login-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,#1e88e5,#1565c0);box-shadow:0 4px 10px #2196f366}.register-link[_ngcontent-%COMP%]{margin-top:1.2rem}.register-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#555}.register-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1e88e5;text-decoration:none;font-weight:500}.register-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.demo-credentials[_ngcontent-%COMP%]{margin-top:1rem;background:#f5f5f5;padding:.8rem;border-radius:8px;font-size:.85rem;color:#333}.demo-credentials[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1565c0}.forgot-password-link[_ngcontent-%COMP%]{text-align:right;margin-top:-8px;margin-bottom:16px}.forgot-password-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.forgot-password-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:13px;color:#3f51b5;text-decoration:none;font-weight:500;transition:color .2s ease,text-decoration .2s ease}.forgot-password-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline;color:#303f9f}"]})};export{J as LoginComponent};
