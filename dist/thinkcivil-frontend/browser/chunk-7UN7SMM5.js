import{a as rn}from"./chunk-U4PMMZGL.js";import{k as nn}from"./chunk-TS4JPLUG.js";import{a as on,b as an}from"./chunk-T46QUPMS.js";import{a as Wt,b as Xt}from"./chunk-L5XWPQG3.js";import{a as en,b as tn}from"./chunk-3CKJAFZM.js";import{a as Kt,b as Jt}from"./chunk-CCW5MJCE.js";import{c as mt}from"./chunk-XTVCGWL7.js";import"./chunk-JUQCZBNI.js";import"./chunk-2DMHWGG7.js";import{a as re}from"./chunk-HPVYFPHR.js";import"./chunk-VGVSFWK5.js";import{a as bt,b as vt,c as Ct,d as Mt,e as yt,f as wt,g as ae}from"./chunk-LPFJRQG6.js";import{a as fe,b as he}from"./chunk-Y6XZ2CXE.js";import{a as Gt}from"./chunk-3GT6KHKF.js";import{b as zt,c as jt,d as Ht,e as Yt,h as $t}from"./chunk-2UDCYGGM.js";import{a as ge,b as _e}from"./chunk-OQXYGOAF.js";import{a as Qt,b as Rt,c as Lt,d as Vt,e as Bt,f as Ut,g as Nt,h as me,j as pe}from"./chunk-XXQAJVF2.js";import{a as gt}from"./chunk-ZZCTLGZF.js";import"./chunk-JTTWDSGT.js";import"./chunk-7RWCIHFI.js";import{a as dt,e as ct,f as pt,h as Zt,i as de,k as ce}from"./chunk-TC5NRSHV.js";import{b as Tt,d as k,f as se,g as Pt,j as Et,k as le,l as Ot,m as kt,o as St,r as It,s as Dt,t as Ft,w as At,x as ue,y as qt}from"./chunk-32HIGO4K.js";import{b as _t,j as ft,l as ht,o as oe,r as xt}from"./chunk-DPS2XDEH.js";import{C as ut,E as Pe,a as nt,b as it,e as ot,j as Te,l as at,v as rt,w as st,y as lt}from"./chunk-QF2K6SUP.js";import"./chunk-VR4E7QUQ.js";import{d as tt}from"./chunk-OI25WLE4.js";import"./chunk-OQEWKVRI.js";import{$b as J,$c as ie,Aa as W,Ac as ee,Ba as Re,Dc as N,E as $,Ea as X,Eb as Q,F as Ie,Fb as c,Ga as M,Ha as Le,Hb as O,Ib as Z,Kb as $e,Kc as Je,L as De,Ma as Ve,Ob as o,Pb as n,Qb as T,Ra as Be,Ub as C,Uc as te,Vc as ne,Wb as h,X as G,Xb as d,Y as Ce,Yb as Me,Z as Fe,Zb as K,_c as et,a as I,ac as Ge,b as D,bb as Ue,bc as R,cc as L,da as Ae,f as Se,fa as q,fc as We,g as H,gb as l,gc as r,hc as w,ia as g,ib as Ne,ic as b,jc as Xe,kb as ze,l as Y,lc as V,mc as B,nb as je,nc as U,pc as Ze,q as ve,qa as _,qc as Ke,ra as f,sa as qe,sb as F,sc as ye,tb as He,ub as Ye,uc as we,wa as Qe,yb as p}from"./chunk-66BASCB4.js";var vn=["mat-menu-item",""],Cn=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],Mn=["mat-icon, [matMenuItemIcon]","*"];function yn(a,s){a&1&&(qe(),o(0,"svg",2),T(1,"polygon",3),n())}var wn=["*"];function Tn(a,s){if(a&1){let e=C();o(0,"div",0),h("click",function(){_(e);let i=d();return f(i.closed.emit("click"))})("animationstart",function(i){_(e);let u=d();return f(u._onAnimationStart(i.animationName))})("animationend",function(i){_(e);let u=d();return f(u._onAnimationDone(i.animationName))})("animationcancel",function(i){_(e);let u=d();return f(u._onAnimationDone(i.animationName))}),o(1,"div",1),K(2),n()()}if(a&2){let e=d();Z(e._classList),O("mat-menu-panel-animations-disabled",e._animationsDisabled)("mat-menu-panel-exit-animation",e._panelAnimationState==="void")("mat-menu-panel-animating",e._isAnimating),c("id",e.panelId),Q("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}var Oe=new q("MAT_MENU_PANEL"),j=(()=>{class a{_elementRef=g(X);_document=g(Je);_focusMonitor=g(Te);_parentMenu=g(Oe,{optional:!0});_changeDetectorRef=g(ee);role="menuitem";disabled=!1;disableRipple=!1;_hovered=new Y;_focused=new Y;_highlighted=!1;_triggersSubmenu=!1;constructor(){g(at).load(dt),this._parentMenu?.addItem?.(this)}focus(e,t){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,t):this._getHostElement().focus(t),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let e=this._elementRef.nativeElement.cloneNode(!0),t=e.querySelectorAll("mat-icon, .material-icons");for(let i=0;i<t.length;i++)t[i].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=F({type:a,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-focus-indicator"],hostVars:8,hostBindings:function(t,i){t&1&&h("click",function(m){return i._checkDisabled(m)})("mouseenter",function(){return i._handleMouseEnter()}),t&2&&(Q("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled)("disabled",i.disabled||null),O("mat-mdc-menu-item-highlighted",i._highlighted)("mat-mdc-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",N],disableRipple:[2,"disableRipple","disableRipple",N]},exportAs:["matMenuItem"],attrs:vn,ngContentSelectors:Mn,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,i){t&1&&(Me(Cn),K(0),o(1,"span",0),K(2,1),n(),T(3,"div",1),p(4,yn,2,0,":svg:svg",2)),t&2&&(l(3),c("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),l(),$e(i._triggersSubmenu?4:-1))},dependencies:[ct],encapsulation:2,changeDetection:0})}return a})();var Pn=new q("MatMenuContent");var En=new q("mat-menu-default-options",{providedIn:"root",factory:On});function On(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var Ee="_mat-menu-enter",xe="_mat-menu-exit",A=(()=>{class a{_elementRef=g(X);_changeDetectorRef=g(ee);_injector=g(Qe);_keyManager;_xPosition;_yPosition;_firstItemFocusRef;_exitFallbackTimeout;_animationsDisabled;_allItems;_directDescendantItems=new Le;_classList={};_panelAnimationState="void";_animationDone=new Y;_isAnimating=!1;parentMenu;direction;overlayPanelClass;backdropClass;ariaLabel;ariaLabelledby;ariaDescribedby;get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}templateRef;items;lazyContent;overlapTrigger;hasBackdrop;set panelClass(e){let t=this._previousPanelClass,i=I({},this._classList);t&&t.length&&t.split(" ").forEach(u=>{i[u]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(u=>{i[u]=!0}),this._elementRef.nativeElement.className=""),this._classList=i}_previousPanelClass;get classList(){return this.panelClass}set classList(e){this.panelClass=e}closed=new W;close=this.closed;panelId=g(rt).getId("mat-menu-panel-");constructor(){let e=g(En);this.overlayPanelClass=e.overlayPanelClass||"",this._xPosition=e.xPosition,this._yPosition=e.yPosition,this.backdropClass=e.backdropClass,this.overlapTrigger=e.overlapTrigger,this.hasBackdrop=e.hasBackdrop,this._animationsDisabled=g(Ve,{optional:!0})==="NoopAnimations"}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new lt(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(G(this._directDescendantItems),Ce(e=>$(...e.map(t=>t._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{let t=this._keyManager;if(this._panelAnimationState==="enter"&&t.activeItem?._hasFocus()){let i=e.toArray(),u=Math.max(0,Math.min(i.length-1,t.activeItemIndex||0));i[u]&&!i[u].disabled?t.setActiveItem(u):t.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy(),clearTimeout(this._exitFallbackTimeout)}_hovered(){return this._directDescendantItems.changes.pipe(G(this._directDescendantItems),Ce(t=>$(...t.map(i=>i._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){let t=e.keyCode,i=this._keyManager;switch(t){case 27:st(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(t===38||t===40)&&i.setFocusOrigin("keyboard"),i.onKeydown(e);return}}focusFirstItem(e="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=Be(()=>{let t=this._resolvePanel();if(!t||!t.contains(document.activeElement)){let i=this._keyManager;i.setFocusOrigin(e).setFirstItemActive(),!i.activeItem&&t&&t.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){}setPositionClasses(e=this.xPosition,t=this.yPosition){this._classList=D(I({},this._classList),{"mat-menu-before":e==="before","mat-menu-after":e==="after","mat-menu-above":t==="above","mat-menu-below":t==="below"}),this._changeDetectorRef.markForCheck()}_onAnimationDone(e){let t=e===xe;(t||e===Ee)&&(t&&(clearTimeout(this._exitFallbackTimeout),this._exitFallbackTimeout=void 0),this._animationDone.next(t?"void":"enter"),this._isAnimating=!1)}_onAnimationStart(e){(e===Ee||e===xe)&&(this._isAnimating=!0)}_setIsOpen(e){if(this._panelAnimationState=e?"enter":"void",e){if(this._keyManager.activeItemIndex===0){let t=this._resolvePanel();t&&(t.scrollTop=0)}}else this._animationsDisabled||(this._exitFallbackTimeout=setTimeout(()=>this._onAnimationDone(xe),200));this._animationsDisabled&&setTimeout(()=>{this._onAnimationDone(e?Ee:xe)}),this._changeDetectorRef.markForCheck()}_updateDirectDescendants(){this._allItems.changes.pipe(G(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(t=>t._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}_resolvePanel(){let e=null;return this._directDescendantItems.length&&(e=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),e}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=F({type:a,selectors:[["mat-menu"]],contentQueries:function(t,i,u){if(t&1&&(J(u,Pn,5),J(u,j,5),J(u,j,4)),t&2){let m;R(m=L())&&(i.lazyContent=m.first),R(m=L())&&(i._allItems=m),R(m=L())&&(i.items=m)}},viewQuery:function(t,i){if(t&1&&Ge(Ne,5),t&2){let u;R(u=L())&&(i.templateRef=u.first)}},hostVars:3,hostBindings:function(t,i){t&2&&Q("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",N],hasBackdrop:[2,"hasBackdrop","hasBackdrop",e=>e==null?null:N(e)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],features:[Ze([{provide:Oe,useExisting:a}])],ngContentSelectors:wn,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel",3,"click","animationstart","animationend","animationcancel","id"],[1,"mat-mdc-menu-content"]],template:function(t,i){t&1&&(Me(),p(0,Tn,3,12,"ng-template"))},styles:[`mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-sys-label-large-weight))}@keyframes _mat-menu-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-menu-exit{from{opacity:1}to{opacity:0}}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;box-sizing:border-box;outline:0;animation:_mat-menu-enter 120ms cubic-bezier(0, 0, 0.2, 1);border-radius:var(--mat-menu-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-sys-surface-container));box-shadow:var(--mat-menu-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));will-change:transform,opacity}.mat-mdc-menu-panel.mat-menu-panel-exit-animation{animation:_mat-menu-exit 100ms 25ms linear forwards}.mat-mdc-menu-panel.mat-menu-panel-animations-disabled{animation:none}.mat-mdc-menu-panel.mat-menu-panel-animating{pointer-events:none}.mat-mdc-menu-panel.mat-menu-panel-animating:has(.mat-mdc-menu-content:empty){display:none}@media(forced-colors: active){.mat-mdc-menu-panel{outline:solid 1px}}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-sys-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing, 8px);margin-top:var(--mat-menu-divider-top-spacing, 8px)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px;padding-left:var(--mat-menu-item-leading-spacing, 12px);padding-right:var(--mat-menu-item-trailing-spacing, 12px);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-menu-item::-moz-focus-inner{border:0}[dir=rtl] .mat-mdc-menu-item{padding-left:var(--mat-menu-item-trailing-spacing, 12px);padding-right:var(--mat-menu-item-leading-spacing, 12px)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-trailing-spacing, 12px)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-trailing-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-leading-spacing, 12px)}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing, 12px);height:var(--mat-menu-item-icon-size, 24px);width:var(--mat-menu-item-icon-size, 24px)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing, 12px)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(forced-colors: active){.mat-mdc-menu-item{margin-top:1px}}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size, 24px);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing, 12px)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing, 12px);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}@media(forced-colors: active){.mat-mdc-menu-submenu-icon{fill:CanvasText}}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}
`],encapsulation:2,changeDetection:0})}return a})(),dn=new q("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let a=g(oe);return()=>a.scrollStrategies.reposition()}});function kn(a){return()=>a.scrollStrategies.reposition()}var Sn={provide:dn,deps:[oe],useFactory:kn},In={passive:!0};var z=new WeakMap,cn=(()=>{class a{_overlay=g(oe);_element=g(X);_viewContainerRef=g(je);_menuItemInstance=g(j,{optional:!0,self:!0});_dir=g(ut,{optional:!0});_focusMonitor=g(Te);_ngZone=g(Re);_scrollStrategy=g(dn);_changeDetectorRef=g(ee);_cleanupTouchstart;_portal;_overlayRef=null;_menuOpen=!1;_closingActionsSubscription=H.EMPTY;_hoverSubscription=H.EMPTY;_menuCloseSubscription=H.EMPTY;_pendingRemoval;_parentMaterialMenu;_parentInnerPadding;_openedBy=void 0;get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._parentMaterialMenu,this._menuCloseSubscription=e.close.subscribe(t=>{this._destroyMenu(t),(t==="click"||t==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(t)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}_menu;menuData;restoreFocus=!0;menuOpened=new W;onMenuOpen=this.menuOpened;menuClosed=new W;onMenuClose=this.menuClosed;constructor(){let e=g(Oe,{optional:!0}),t=g(ze);this._parentMaterialMenu=e instanceof A?e:void 0,this._cleanupTouchstart=ot(t,this._element.nativeElement,"touchstart",i=>{it(i)||(this._openedBy="touch")},In)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this.menu&&this._ownsMenu(this.menu)&&z.delete(this.menu),this._cleanupTouchstart(),this._pendingRemoval?.unsubscribe(),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe(),this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null)}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){let e=this.menu;if(this._menuOpen||!e)return;this._pendingRemoval?.unsubscribe();let t=z.get(e);z.set(e,this),t&&t!==this&&t.closeMenu();let i=this._createOverlay(e),u=i.getConfig(),m=u.positionStrategy;this._setPosition(e,m),u.hasBackdrop=e.hasBackdrop==null?!this.triggersSubmenu():e.hasBackdrop,i.hasAttached()||(i.attach(this._getPortal(e)),e.lazyContent?.attach(this.menuData)),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0),e instanceof A&&(e._setIsOpen(!0),e._directDescendantItems.changes.pipe(Fe(e.close)).subscribe(()=>{m.withLockedPosition(!1).reapplyLastPosition(),m.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,t){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,t):this._element.nativeElement.focus(t)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){let t=this._overlayRef,i=this._menu;!t||!this.menuOpen||(this._closingActionsSubscription.unsubscribe(),this._pendingRemoval?.unsubscribe(),i instanceof A&&this._ownsMenu(i)?(this._pendingRemoval=i._animationDone.pipe(De(1)).subscribe(()=>{t.detach(),i.lazyContent?.detach()}),i._setIsOpen(!1)):(t.detach(),i?.lazyContent?.detach()),i&&this._ownsMenu(i)&&z.delete(i),this.restoreFocus&&(e==="keydown"||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,this._setIsMenuOpen(!1))}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){let t=this._getOverlayConfig(e);this._subscribeToPositions(e,t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe(i=>{this.menu instanceof A&&this.menu._handleKeydown(i)})}return this._overlayRef}_getOverlayConfig(e){return new ht({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir||"ltr"})}_subscribeToPositions(e,t){e.setPositionClasses&&t.positionChanges.subscribe(i=>{this._ngZone.run(()=>{let u=i.connectionPair.overlayX==="start"?"after":"before",m=i.connectionPair.overlayY==="top"?"below":"above";e.setPositionClasses(u,m)})})}_setPosition(e,t){let[i,u]=e.xPosition==="before"?["end","start"]:["start","end"],[m,v]=e.yPosition==="above"?["bottom","top"]:["top","bottom"],[y,x]=[m,v],[E,S]=[i,u],P=0;if(this.triggersSubmenu()){if(S=i=e.xPosition==="before"?"start":"end",u=E=i==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let ke=this._parentMaterialMenu.items.first;this._parentInnerPadding=ke?ke._getHostElement().offsetTop:0}P=m==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(y=m==="top"?"bottom":"top",x=v==="top"?"bottom":"top");t.withPositions([{originX:i,originY:y,overlayX:E,overlayY:m,offsetY:P},{originX:u,originY:y,overlayX:S,overlayY:m,offsetY:P},{originX:i,originY:x,overlayX:E,overlayY:v,offsetY:-P},{originX:u,originY:x,overlayX:S,overlayY:v,offsetY:-P}])}_menuClosingActions(){let e=this._overlayRef.backdropClick(),t=this._overlayRef.detachments(),i=this._parentMaterialMenu?this._parentMaterialMenu.closed:ve(),u=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Ie(m=>this._menuOpen&&m!==this._menuItemInstance)):ve();return $(e,i,u,t)}_handleMousedown(e){nt(e)||(this._openedBy=e.button===0?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){let t=e.keyCode;(t===13||t===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(t===39&&this.dir==="ltr"||t===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&this._parentMaterialMenu&&(this._hoverSubscription=this._parentMaterialMenu._hovered().subscribe(e=>{e===this._menuItemInstance&&!e.disabled&&(this._openedBy="mouse",this.openMenu())}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new _t(e.templateRef,this._viewContainerRef)),this._portal}_ownsMenu(e){return z.get(e)===this}static \u0275fac=function(t){return new(t||a)};static \u0275dir=Ye({type:a,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(t,i){t&1&&h("click",function(m){return i._handleClick(m)})("mousedown",function(m){return i._handleMousedown(m)})("keydown",function(m){return i._handleKeydown(m)}),t&2&&Q("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]})}return a})(),mn=(()=>{class a{static \u0275fac=function(t){return new(t||a)};static \u0275mod=He({type:a});static \u0275inj=Ae({providers:[Sn],imports:[pt,Pe,xt,ft,Pe]})}return a})(),pn={transformMenu:{type:7,name:"transformMenu",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0,transform:"scale(0.8)"},offset:null}},{type:1,expr:"void => enter",animation:{type:4,styles:{type:6,styles:{opacity:1,transform:"scale(1)"},offset:null},timings:"120ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms 25ms linear"},options:null}],options:{}},fadeInItems:{type:7,name:"fadeInItems",definitions:[{type:0,name:"showing",styles:{type:6,styles:{opacity:1},offset:null}},{type:1,expr:"void => *",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:"400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}},yo=pn.fadeInItems,wo=pn.transformMenu;var Vn=()=>({standalone:!0});function Bn(a,s){a&1&&(o(0,"mat-error"),r(1," Title is required "),n())}function Un(a,s){a&1&&(o(0,"mat-error"),r(1," Start time must be at least 5 minutes from now "),n())}function Nn(a,s){a&1&&(o(0,"mat-error"),r(1," Start time is required "),n())}function zn(a,s){a&1&&(o(0,"mat-error"),r(1," Duration is required "),n())}function jn(a,s){a&1&&(o(0,"mat-error"),r(1," Duration must be at least 1 minute "),n())}function Hn(a,s){a&1&&(o(0,"mat-error"),r(1," Marks per question is required "),n())}function Yn(a,s){a&1&&(o(0,"mat-error"),r(1," Marks must be at least 1 "),n())}function $n(a,s){a&1&&(o(0,"mat-error"),r(1," Negative marks cannot be negative "),n())}function Gn(a,s){if(a&1){let e=C();o(0,"button",41),h("click",function(){_(e);let i=d(2);return f(i.toggleSelectAll())}),o(1,"mat-icon"),r(2),n(),r(3),n()}if(a&2){let e=d(2);l(2),w(e.selectAllChecked()?"check_box":"check_box_outline_blank"),l(),b(" ",e.selectAllChecked()?"Deselect All":"Select All"," ")}}function Wn(a,s){if(a&1){let e=C();o(0,"div",36)(1,"button",37),h("click",function(){_(e);let i=d();return f(i.toggleAddByUid())}),o(2,"mat-icon"),r(3,"add"),n(),r(4," Add By UID "),n(),o(5,"button",38),h("click",function(){_(e);let i=d();return f(i.toggleTagFilter())}),o(6,"mat-icon"),r(7,"filter_list"),n(),r(8),n(),o(9,"span",39),r(10),n(),p(11,Gn,4,2,"button",40),n()}if(a&2){let e=d();l(8),b(" ",e.currentFilterTag()?"Filtered: "+e.currentFilterTag():"Filter by Tag"," "),l(2),b(" Total Available: ",e.availableQuestions().length," "),l(),c("ngIf",e.availableQuestions().length>0)}}function Xn(a,s){a&1&&(o(0,"div",52),T(1,"mat-spinner",53),o(2,"p"),r(3,"Loading tags..."),n()())}function Zn(a,s){if(a&1){let e=C();o(0,"button",56),h("click",function(){let i=_(e).$implicit,u=d(3);return f(u.applyTagFilter(i))}),o(1,"span",57),r(2),n(),o(3,"span",58),r(4),n()()}if(a&2){let e=s.$implicit,t=d(3);O("active",t.currentFilterTag()===e.tag),l(2),w(e.tag),l(2),w(e.questionCount)}}function Kn(a,s){if(a&1&&(o(0,"div",54),p(1,Zn,5,4,"button",55),n()),a&2){let e=d(2);l(),c("ngForOf",e.tags())}}function Jn(a,s){a&1&&(o(0,"div",59)(1,"mat-icon"),r(2,"label_off"),n(),o(3,"p"),r(4,"No tags available"),n()())}function ei(a,s){if(a&1){let e=C();o(0,"div",42)(1,"div",43)(2,"h4",44),r(3,"Filter Questions by Tag"),n(),o(4,"div",45)(5,"button",46),h("click",function(){_(e);let i=d();return f(i.clearTagFilter())}),o(6,"mat-icon"),r(7,"clear"),n(),r(8," Clear Filter "),n(),o(9,"button",47),h("click",function(){_(e);let i=d();return f(i.toggleTagFilter())}),o(10,"mat-icon"),r(11,"close"),n(),r(12," Close "),n()()(),o(13,"div",48),p(14,Xn,4,0,"div",49)(15,Kn,2,1,"div",50)(16,Jn,5,0,"div",51),n()()}if(a&2){let e=d();l(14),c("ngIf",e.tagsLoading()),l(),c("ngIf",!e.tagsLoading()&&e.tags().length>0),l(),c("ngIf",!e.tagsLoading()&&e.tags().length===0)}}function ti(a,s){if(a&1){let e=C();o(0,"button",74),h("click",function(){_(e);let i=d(3);return f(i.addUid())}),o(1,"mat-icon"),r(2,"add"),n()()}}function ni(a,s){if(a&1){let e=C();o(0,"button",75),h("click",function(){_(e);let i=d(3);return f(i.processUids())}),o(1,"mat-icon"),r(2,"done"),n()()}}function ii(a,s){if(a&1){let e=C();o(0,"button",76),h("click",function(){_(e);let i=d().index,u=d(2);return f(u.removeUidInput(i))}),o(1,"mat-icon"),r(2,"close"),n()()}}function oi(a,s){if(a&1&&(o(0,"div",77)(1,"mat-icon"),r(2),n(),o(3,"span"),r(4),n()()),a&2){let e=d().$implicit;Z(e.status),l(2),w(e.status==="loading"?"hourglass_empty":e.status==="success"?"check_circle":e.status==="error"?"error":""),l(2),w(e.message)}}function ai(a,s){if(a&1){let e=C();o(0,"div",65)(1,"div",66)(2,"mat-icon",67),r(3,"fingerprint"),n(),o(4,"input",68),U("ngModelChange",function(i){let u=_(e).$implicit;return B(u.value,i)||(u.value=i),f(i)}),h("input",function(i){let u=_(e).index,m=d(2);return f(m.onUidInputChange(u,i))})("keyup.enter",function(){_(e);let i=d(2);return f(i.addUid())}),n(),o(5,"div",69),p(6,ti,3,0,"button",70)(7,ni,3,0,"button",71)(8,ii,3,0,"button",72),n()(),p(9,oi,5,4,"div",73),n()}if(a&2){let e=s.$implicit,t=s.index,i=d(2);l(4),V("ngModel",e.value),c("ngModelOptions",Ke(6,Vn)),l(2),c("ngIf",t===i.uidInputs().length-1&&e.value.trim()),l(),c("ngIf",t===i.uidInputs().length-1&&e.value.trim()),l(),c("ngIf",i.uidInputs().length>1),l(),c("ngIf",e.status)}}function ri(a,s){if(a&1){let e=C();o(0,"div",60)(1,"div",61),p(2,ai,10,7,"div",62),n(),o(3,"div",63)(4,"button",64),h("click",function(){_(e);let i=d();return f(i.clearUids())}),o(5,"mat-icon"),r(6,"clear_all"),n(),r(7," Clear All "),n(),o(8,"button",46),h("click",function(){_(e);let i=d();return f(i.toggleAddByUid())}),o(9,"mat-icon"),r(10,"close"),n(),r(11," Close "),n()()()}if(a&2){let e=d();l(2),c("ngForOf",e.uidInputs())}}function si(a,s){if(a&1&&(o(0,"span",78),r(1),n()),a&2){let e=d();l(),b(" (Filtered by: ",e.currentFilterTag(),") ")}}function li(a,s){if(a&1&&(o(0,"mat-option",79)(1,"div",80)(2,"div",81),r(3),n(),o(4,"div",82)(5,"span",83),r(6),n(),o(7,"span",84),r(8),n(),o(9,"span",85),r(10),n()()()()),a&2){let e=s.$implicit,t=d();c("value",e.uid),l(3),b(" ",t.getQuestionDisplayText(e)," "),l(3),b(" Correct: ",t.getOptionLetter(e.correctAnswer)," "),l(2),b(" Tags: ",t.getQuestionTags(e)," "),l(2),b(" ID: ",e.uid.slice(0,8),"... ")}}function ui(a,s){a&1&&(o(0,"mat-error"),r(1," At least one question is required "),n())}function di(a,s){a&1&&(o(0,"div",86),T(1,"mat-spinner",53),o(2,"p"),r(3,"Loading questions..."),n()())}function ci(a,s){if(a&1){let e=C();o(0,"button",93),h("click",function(){_(e);let i=d(2);return f(i.clearAll())}),o(1,"mat-icon"),r(2,"clear_all"),n(),r(3," Clear All "),n()}}function mi(a,s){if(a&1&&(o(0,"span",109)(1,"mat-icon"),r(2,"label"),n(),r(3),n()),a&2){let e=d().$implicit,t=d(2);l(3),b(" ",t.getQuestionTags(e)," ")}}function pi(a,s){if(a&1&&(o(0,"div",110)(1,"strong"),r(2,"Description:"),n(),o(3,"p"),r(4),n()()),a&2){let e=d().$implicit;l(4),w(e.description==null?null:e.description.english)}}function gi(a,s){if(a&1&&(o(0,"div",110)(1,"strong"),r(2,"Description:"),n(),o(3,"p"),r(4),n()()),a&2){let e=d(2).$implicit;l(4),w(e.description==null?null:e.description.hindi)}}function _i(a,s){if(a&1&&(o(0,"div",103)(1,"strong"),r(2,"Hindi:"),n(),o(3,"p",81),r(4),n(),p(5,gi,5,1,"div",104),n()),a&2){let e=d().$implicit;l(4),w(e.question.hindi),l(),c("ngIf",e.description==null?null:e.description.hindi)}}function fi(a,s){if(a&1&&(o(0,"div",116),r(1),n()),a&2){let e=d().$implicit;l(),w(e.hindi)}}function hi(a,s){if(a&1&&(o(0,"div",111)(1,"span",112),r(2),n(),o(3,"div",113)(4,"div",114),r(5),n(),p(6,fi,2,1,"div",115),n()()),a&2){let e=s.$implicit,t=s.index,i=d(3);l(2),w(i.getOptionLetter(t)),l(3),w(e.english),l(),c("ngIf",e.hindi)}}function xi(a,s){if(a&1){let e=C();o(0,"div",94)(1,"div",95)(2,"div",96)(3,"h5",97),r(4),n(),o(5,"span",98),r(6),n(),o(7,"span",99),r(8),n(),p(9,mi,4,1,"span",100),n(),o(10,"button",101),h("click",function(){let i=_(e).index,u=d(2);return f(u.removeQuestion(i))}),o(11,"mat-icon"),r(12,"delete"),n()()(),o(13,"div",102)(14,"div",103)(15,"strong"),r(16,"English:"),n(),o(17,"p",81),r(18),n(),p(19,pi,5,1,"div",104),n(),p(20,_i,6,2,"div",105),o(21,"div",106)(22,"strong"),r(23,"Options:"),n(),o(24,"div",107),p(25,hi,7,3,"div",108),n()()()()}if(a&2){let e=s.$implicit,t=s.index,i=d(2);l(4),b("Question ",t+1,""),l(2),b(" Correct: ",i.getOptionLetter(e.correctAnswer)," "),l(2),b(" UID: ",e.uid," "),l(),c("ngIf",e.tags&&e.tags.length>0),l(9),w(e.question.english),l(),c("ngIf",e.description==null?null:e.description.english),l(),c("ngIf",e.question.hindi),l(5),c("ngForOf",e.options)}}function bi(a,s){if(a&1&&(o(0,"div",87)(1,"div",88)(2,"h4",89),r(3),n(),p(4,ci,4,0,"button",90),n(),o(5,"div",91),p(6,xi,26,8,"div",92),n()()),a&2){let e=d();l(3),b("Selected Questions Preview (",e.selectedQuestions().length,")"),l(),c("ngIf",e.selectedQuestions().length>0),l(2),c("ngForOf",e.selectedQuestions())}}function vi(a,s){if(a&1&&(o(0,"p"),r(1),n()),a&2){let e=d(2);l(),b('No questions with tag "',e.currentFilterTag(),'" found.')}}function Ci(a,s){a&1&&(o(0,"p"),r(1,"Select questions from the dropdown above to add them to your test."),n())}function Mi(a,s){if(a&1&&(o(0,"div",117)(1,"mat-icon",118),r(2,"help_outline"),n(),o(3,"h4"),r(4,"No questions selected"),n(),p(5,vi,2,1,"p",12)(6,Ci,2,0,"p",12),n()),a&2){let e=d();l(5),c("ngIf",e.currentFilterTag()),l(),c("ngIf",!e.currentFilterTag())}}function yi(a,s){a&1&&T(0,"mat-spinner",119)}function wi(a,s){if(a&1&&(o(0,"span"),r(1),n()),a&2){let e=d();l(),Xe(" ",e.isEdit()?"Update":"Create"," Test (",e.selectedQuestions().length," questions) ")}}var be=class a{fb=g(At);testService=g(re);questionService=g(rn);snackBar=g(ge);dialogRef=g(bt);data=g(vt);testForm;isEdit=M(!1);loading=M(!1);questionsLoading=M(!1);allQuestions=M([]);availableQuestions=M([]);selectedQuestions=M([]);filteredQuestions=M([]);tags=M([]);tagsLoading=M(!1);currentFilterTag=M(null);showTagFilter=M(!1);showAddByUid=M(!1);uidInputs=M([{value:""}]);questionSearchControl=new Et("");selectAllChecked=M(!1);constructor(){this.testForm=this.createTestForm(),this.isEdit.set(!!this.data.test)}setDefaultDateTime(){let s=new Date,e=new Date(s.getTime()+60*60*1e3),t=this.formatDateTimeForInput(e);this.testForm.patchValue({startTime:t})}formatDateTimeForInput(s){let e=s.getFullYear(),t=this.padZero(s.getMonth()+1),i=this.padZero(s.getDate()),u=this.padZero(s.getHours()),m=this.padZero(s.getMinutes());return`${e}-${t}-${i}T${u}:${m}`}getMinDateTime(){return this.formatDateTimeForInput(new Date)}padZero(s){return s.toString().padStart(2,"0")}futureDateValidator(s){if(!s.value)return null;let e=new Date(s.value),t=new Date,i=new Date(t.getTime()+5*60*1e3);return e<i?{pastDate:"Start time must be at least 5 minutes from now"}:null}onDateTimeChange(){if(this.testForm.get("startTime")?.errors?.pastDate){this.snackBar.open("Start time must be at least 5 minutes from now","Close",{duration:3e3});let e=new Date(new Date().getTime()+5*60*1e3);this.testForm.patchValue({startTime:this.formatDateTimeForInput(e)})}}createTestForm(){return this.fb.group({title:["",k.required],description:[""],startTime:["",[k.required,this.futureDateValidator.bind(this)]],duration:["",[k.required,k.min(1)]],marksPerQuestion:[1,[k.required,k.min(1)]],negativeMarks:[0,[k.min(0)]],selectedQuestionUids:[[],k.required]})}ngOnInit(){this.loadAvailableQuestions().then(()=>{this.isEdit()?this.populateForm(this.data.test):this.setDefaultDateTime()}),this.loadTags()}loadAvailableQuestions(){return new Promise((s,e)=>{this.questionsLoading.set(!0),this.questionService.getAllQuestions().subscribe({next:t=>{let i=(t.questions||[]).map(u=>({_id:u._id,uid:u.uid,question:{english:u.question?.english||"",hindi:u.question?.hindi||"",_id:u.question?._id},options:u.options||[],correctAnswer:u.correctAnswer,description:u.description,tags:u.tags||[],isActive:u.isActive!==void 0?u.isActive:!0,createdAt:u.createdAt,updatedAt:u.updatedAt}));this.allQuestions.set(i),this.availableQuestions.set(i),this.filteredQuestions.set(i),this.questionsLoading.set(!1),s()},error:t=>{console.error("Error loading questions:",t),this.snackBar.open("Error loading questions","Close",{duration:3e3}),this.questionsLoading.set(!1),e(t)}})})}populateForm(s){console.log("Populating form with test data:",s);let e=new Date(s.startTime),t=this.formatDateTimeForInput(e),i=s.questionUids||[];this.testForm.patchValue({title:s.title,description:s.description,startTime:t,duration:s.duration,marksPerQuestion:s.marksPerQuestion||1,negativeMarks:s.negativeMarks||0,selectedQuestionUids:i}),this.setSelectedQuestionsFromUids(i)}setSelectedQuestionsFromUids(s){if(s.length>0){let t=this.allQuestions().filter(v=>s.includes(v.uid));console.log("Setting selected questions:",t),this.selectedQuestions.set(t);let i=this.filteredQuestions(),u=i.map(v=>v.uid),m=t.filter(v=>u.includes(v.uid));this.selectAllChecked.set(m.length===i.length)}}loadTags(){this.tagsLoading.set(!0),this.questionService.getTags().subscribe({next:s=>{let e=(s||[]).map(t=>({_id:t._id,tag:t.tag,questionCount:0}));this.calculateTagQuestionCounts(e),this.tags.set(e),this.tagsLoading.set(!1)},error:s=>{console.error("Error loading tags:",s),this.tagsLoading.set(!1)}})}calculateTagQuestionCounts(s){let e=this.allQuestions(),t=new Map;s.forEach(u=>{t.set(u._id,u)}),s.forEach(u=>{let m=e.filter(v=>v.tags.includes(u._id)).length;u.questionCount=m});let i=e.filter(u=>!u.tags||u.tags.length===0);i.length>0&&s.push({_id:"none",tag:"None",questionCount:i.length})}toggleTagFilter(){this.showTagFilter.set(!this.showTagFilter())}applyTagFilter(s){this.currentFilterTag.set(s.tag),this.showTagFilter.set(!1);let e=this.allQuestions(),t;s._id==="none"?t=e.filter(m=>!m.tags||m.tags.length===0):t=e.filter(m=>m.tags&&m.tags.includes(s._id)),this.filteredQuestions.set(t),this.availableQuestions.set(t);let i=this.testForm.get("selectedQuestionUids")?.value||[],u=this.allQuestions().filter(m=>i.includes(m.uid));this.selectedQuestions.set(u),this.snackBar.open(`Filtered by tag: ${s.tag} (${t.length} questions)`,"Close",{duration:3e3})}clearTagFilter(){this.currentFilterTag.set(null),this.showTagFilter.set(!1),this.filteredQuestions.set(this.allQuestions()),this.availableQuestions.set(this.allQuestions());let s=this.testForm.get("selectedQuestionUids")?.value||[],e=this.allQuestions().filter(t=>s.includes(t.uid));this.selectedQuestions.set(e),this.snackBar.open("Tag filter cleared","Close",{duration:2e3})}getQuestionTags(s){if(!s.tags||s.tags.length===0)return"None";let e=this.tags(),t=s.tags.map(i=>{let u=e.find(m=>m._id===i);return u?u.tag:"Unknown"}).filter(i=>i!=="Unknown");return t.length>0?t.join(", "):"None"}toggleAddByUid(){this.showAddByUid.set(!this.showAddByUid()),this.showAddByUid()||this.uidInputs.set([{value:""}])}onUidInputChange(s,e){let t=e.target.value;this.uidInputs.update(i=>(i[s]=D(I({},i[s]),{value:t,status:null,message:void 0}),[...i]))}addUid(){let s=this.uidInputs();if(!s[s.length-1].value.trim()){this.snackBar.open("Please enter a UID before adding another","Close",{duration:2e3});return}this.uidInputs.update(t=>[...t,{value:""}])}removeUidInput(s){this.uidInputs.update(e=>(e.splice(s,1),[...e]))}clearUids(){this.uidInputs.set([{value:""}])}processUids(){return Se(this,null,function*(){let e=this.uidInputs().map(t=>t.value.trim()).filter(t=>t.length>0);if(e.length===0){this.snackBar.open("Please enter at least one UID","Close",{duration:2e3});return}this.uidInputs.update(t=>t.map(i=>D(I({},i),{status:"loading",message:"Processing..."})));try{let t=this.allQuestions(),i=[],u=[];if(e.forEach((m,v)=>{let y=t.find(x=>x.uid===m);y?(i.push(y),this.uidInputs.update(x=>(x[v]=D(I({},x[v]),{status:"success",message:"Question found"}),[...x]))):(u.push(m),this.uidInputs.update(x=>(x[v]=D(I({},x[v]),{status:"error",message:"Question not found"}),[...x])))}),i.length>0){let m=this.testForm.get("selectedQuestionUids")?.value||[],v=i.map(P=>P.uid),y=[...new Set([...m,...v])];this.testForm.patchValue({selectedQuestionUids:y}),this.setSelectedQuestionsFromUids(y);let x=this.filteredQuestions(),E=x.map(P=>P.uid),S=y.filter(P=>E.includes(P));this.selectAllChecked.set(S.length===x.length),this.snackBar.open(`Added ${i.length} question(s). ${u.length>0?u.length+" not found.":""}`,"Close",{duration:3e3}),setTimeout(()=>{this.showAddByUid.set(!1),this.uidInputs.set([{value:""}])},1e3)}else this.snackBar.open("No questions found with the provided UIDs","Close",{duration:3e3})}catch(t){console.error("Error processing UIDs:",t),this.snackBar.open("Error processing UIDs","Close",{duration:3e3})}})}onQuestionSelectionChange(s){this.setSelectedQuestionsFromUids(s)}toggleSelectAll(){let s=this.testForm.get("selectedQuestionUids")?.value||[],t=this.filteredQuestions().map(u=>u.uid);if(t.every(u=>s.includes(u))){let u=s.filter(m=>!t.includes(m));this.testForm.patchValue({selectedQuestionUids:u}),this.setSelectedQuestionsFromUids(u),this.selectAllChecked.set(!1)}else{let u=[...new Set([...s,...t])];this.testForm.patchValue({selectedQuestionUids:u}),this.setSelectedQuestionsFromUids(u),this.selectAllChecked.set(!0)}}clearAll(){this.testForm.patchValue({selectedQuestionUids:[]}),this.selectedQuestions.set([]),this.selectAllChecked.set(!1),this.snackBar.open("All questions cleared","Close",{duration:2e3})}removeQuestion(s){let e=[...this.selectedQuestions()],t=e[s];e.splice(s,1),this.selectedQuestions.set(e);let u=(this.testForm.get("selectedQuestionUids")?.value||[]).filter(x=>x!==t.uid);this.testForm.patchValue({selectedQuestionUids:u});let m=this.filteredQuestions(),v=m.map(x=>x.uid),y=u.filter(x=>v.includes(x));this.selectAllChecked.set(y.length===m.length),this.snackBar.open("Question removed from test","Close",{duration:2e3})}getQuestionDisplayText(s){let e=s.question.english;return e.length>100?e.substring(0,100)+"...":e}getOptionLetter(s){return String.fromCharCode(65+s)}onSubmit(){if(this.testForm.valid&&this.selectedQuestions().length>0){this.loading.set(!0);let s=this.testForm.value,e={title:s.title,description:s.description,startTime:new Date(s.startTime).toISOString(),duration:s.duration,marksPerQuestion:s.marksPerQuestion,negativeMarks:s.negativeMarks,questionUids:s.selectedQuestionUids};console.log("Submitting test data:",e),(this.isEdit()?this.testService.updateTest(this.data.test._id,e):this.testService.createTest(e)).subscribe({next:()=>{this.snackBar.open(`Test ${this.isEdit()?"updated":"created"} successfully`,"Close",{duration:3e3}),this.dialogRef.close(!0)},error:i=>{this.loading.set(!1),console.error("Error:",i),this.snackBar.open(`Error ${this.isEdit()?"updating":"creating"} test: ${i.error?.message||"Unknown error"}`,"Close",{duration:3e3})},complete:()=>{this.loading.set(!1)}})}else this.selectedQuestions().length===0?this.snackBar.open("Please select at least one question","Close",{duration:3e3}):this.snackBar.open("Please fill all required fields","Close",{duration:3e3})}onCancel(){this.dialogRef.close(!1)}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=F({type:a,selectors:[["app-create-test-dialog"]],decls:89,vars:24,consts:[[1,"create-test-dialog"],[1,"dialog-header"],["mat-dialog-title",""],["mat-icon-button","",1,"close-button",3,"click"],[1,"dialog-content"],[1,"test-form",3,"ngSubmit","formGroup"],[1,"form-section"],[1,"section-title"],[1,"form-grid"],["appearance","outline",1,"full-width"],["matInput","","formControlName","title","placeholder","Enter test title"],["matSuffix",""],[4,"ngIf"],["matInput","","formControlName","description","placeholder","Enter test description","rows","3"],[1,"row"],["appearance","outline",1,"half-width"],["matInput","","type","datetime-local","formControlName","startTime","required","",3,"change","min"],["matInput","","type","number","formControlName","duration","min","1"],[1,"marks-section"],["matInput","","type","number","formControlName","marksPerQuestion","min","1"],["matInput","","type","number","formControlName","negativeMarks","min","0","step","0.25"],[1,"questions-section"],[1,"section-header"],["class","action-buttons",4,"ngIf"],["class","filter-by-tag-section",4,"ngIf"],["class","add-by-uid-section",4,"ngIf"],[1,"questions-select-section"],["class","filter-indicator",4,"ngIf"],["formControlName","selectedQuestionUids","multiple","",3,"selectionChange"],["class","question-option",3,"value",4,"ngFor","ngForOf"],["class","questions-loading",4,"ngIf"],["class","selected-questions-preview",4,"ngIf"],["class","no-questions-selected",4,"ngIf"],["align","end",1,"dialog-actions"],["mat-raised-button","","color","primary",1,"submit-btn",3,"click","disabled"],["diameter","20",4,"ngIf"],[1,"action-buttons"],["type","button","mat-stroked-button","","color","accent",1,"add-by-uid-btn",3,"click"],["type","button","mat-stroked-button","","color","primary",1,"filter-by-tag-btn",3,"click"],[1,"total-questions"],["type","button","mat-stroked-button","","color","primary","class","select-all-btn",3,"click",4,"ngIf"],["type","button","mat-stroked-button","","color","primary",1,"select-all-btn",3,"click"],[1,"filter-by-tag-section"],[1,"filter-header"],[1,"filter-title"],[1,"filter-actions"],["type","button","mat-stroked-button","","color","warn",3,"click"],["type","button","mat-stroked-button","","color","primary",3,"click"],[1,"tags-container"],["class","tags-loading",4,"ngIf"],["class","tags-grid",4,"ngIf"],["class","no-tags",4,"ngIf"],[1,"tags-loading"],["diameter","30"],[1,"tags-grid"],["type","button","mat-stroked-button","","class","tag-button",3,"active","click",4,"ngFor","ngForOf"],["type","button","mat-stroked-button","",1,"tag-button",3,"click"],[1,"tag-name"],[1,"tag-count"],[1,"no-tags"],[1,"add-by-uid-section"],[1,"uid-inputs-container"],["class","uid-input-row",4,"ngFor","ngForOf"],[1,"uid-section-actions"],["type","button","mat-stroked-button","",3,"click"],[1,"uid-input-row"],[1,"uid-input-wrapper"],[1,"uid-input-icon"],["type","text","placeholder","Enter Question UID",1,"uid-input",3,"ngModelChange","input","keyup.enter","ngModel","ngModelOptions"],[1,"uid-actions"],["type","button","mat-icon-button","","color","primary","class","uid-action-btn","matTooltip","Add another UID",3,"click",4,"ngIf"],["type","button","mat-icon-button","","color","accent","class","uid-action-btn","matTooltip","Process UIDs",3,"click",4,"ngIf"],["type","button","mat-icon-button","","color","warn","class","uid-action-btn","matTooltip","Remove this UID",3,"click",4,"ngIf"],["class","uid-status",3,"class",4,"ngIf"],["type","button","mat-icon-button","","color","primary","matTooltip","Add another UID",1,"uid-action-btn",3,"click"],["type","button","mat-icon-button","","color","accent","matTooltip","Process UIDs",1,"uid-action-btn",3,"click"],["type","button","mat-icon-button","","color","warn","matTooltip","Remove this UID",1,"uid-action-btn",3,"click"],[1,"uid-status"],[1,"filter-indicator"],[1,"question-option",3,"value"],[1,"question-option-content"],[1,"question-text"],[1,"question-meta"],[1,"correct-answer"],[1,"question-tags"],[1,"question-id"],[1,"questions-loading"],[1,"selected-questions-preview"],[1,"preview-header-section"],[1,"preview-title"],["type","button","mat-stroked-button","","color","warn","class","clear-all-btn",3,"click",4,"ngIf"],[1,"questions-preview-list"],["class","question-preview-card",4,"ngFor","ngForOf"],["type","button","mat-stroked-button","","color","warn",1,"clear-all-btn",3,"click"],[1,"question-preview-card"],[1,"preview-header"],[1,"question-header-left"],[1,"question-preview-number"],[1,"correct-answer-badge"],[1,"question-uid-badge"],["class","question-tags-badge",4,"ngIf"],["type","button","mat-icon-button","","color","warn","matTooltip","Remove question from test",1,"delete-question-btn",3,"click"],[1,"preview-content"],[1,"language-preview"],["class","description-preview",4,"ngIf"],["class","language-preview",4,"ngIf"],[1,"options-preview"],[1,"options-grid"],["class","option-preview",4,"ngFor","ngForOf"],[1,"question-tags-badge"],[1,"description-preview"],[1,"option-preview"],[1,"option-letter"],[1,"option-content"],[1,"option-text"],["class","option-text-hindi",4,"ngIf"],[1,"option-text-hindi"],[1,"no-questions-selected"],[1,"no-questions-icon"],["diameter","20"]],template:function(e,t){if(e&1&&(o(0,"div",0)(1,"div",1)(2,"h2",2),r(3),n(),o(4,"button",3),h("click",function(){return t.onCancel()}),o(5,"mat-icon"),r(6,"close"),n()()(),o(7,"mat-dialog-content",4)(8,"form",5),h("ngSubmit",function(){return t.onSubmit()}),o(9,"div",6)(10,"h3",7),r(11,"Test Information"),n(),o(12,"div",8)(13,"mat-form-field",9)(14,"mat-label"),r(15,"Test Title"),n(),T(16,"input",10),o(17,"mat-icon",11),r(18,"title"),n(),p(19,Bn,2,0,"mat-error",12),n(),o(20,"mat-form-field",9)(21,"mat-label"),r(22,"Description"),n(),T(23,"textarea",13),o(24,"mat-icon",11),r(25,"description"),n()(),o(26,"div",14)(27,"mat-form-field",15)(28,"mat-label"),r(29,"Start Time"),n(),o(30,"input",16),h("change",function(){return t.onDateTimeChange()}),n(),o(31,"mat-icon",11),r(32,"schedule"),n(),o(33,"mat-hint"),r(34,"Must be at least 5 minutes from now"),n(),p(35,Un,2,0,"mat-error",12)(36,Nn,2,0,"mat-error",12),n(),o(37,"mat-form-field",15)(38,"mat-label"),r(39,"Duration (minutes)"),n(),T(40,"input",17),o(41,"mat-icon",11),r(42,"timer"),n(),p(43,zn,2,0,"mat-error",12)(44,jn,2,0,"mat-error",12),n()(),o(45,"div",18)(46,"mat-form-field",15)(47,"mat-label"),r(48,"Marks per Question"),n(),T(49,"input",19),o(50,"mat-icon",11),r(51,"grade"),n(),p(52,Hn,2,0,"mat-error",12)(53,Yn,2,0,"mat-error",12),n(),o(54,"mat-form-field",15)(55,"mat-label"),r(56,"Negative Marks per Question"),n(),T(57,"input",20),o(58,"mat-icon",11),r(59,"remove"),n(),o(60,"mat-hint"),r(61,"Enter 0 for no negative marking"),n(),p(62,$n,2,0,"mat-error",12),n()()()(),o(63,"div",21)(64,"div",22)(65,"h3",7),r(66),n(),p(67,Wn,12,3,"div",23),n(),p(68,ei,17,3,"div",24)(69,ri,12,1,"div",25),o(70,"div",26)(71,"mat-form-field",9)(72,"mat-label"),r(73,"Select Questions "),p(74,si,2,1,"span",27),n(),o(75,"mat-select",28),h("selectionChange",function(u){return t.onQuestionSelectionChange(u.value)}),p(76,li,11,5,"mat-option",29),n(),o(77,"mat-icon",11),r(78,"quiz"),n(),o(79,"mat-hint"),r(80,"Select one or more questions for this test"),n(),p(81,ui,2,0,"mat-error",12),n(),p(82,di,4,0,"div",30),n(),p(83,bi,7,3,"div",31)(84,Mi,7,2,"div",32),n()()(),o(85,"mat-dialog-actions",33)(86,"button",34),h("click",function(){return t.onSubmit()}),p(87,yi,1,0,"mat-spinner",35)(88,wi,2,2,"span",12),n()()()),e&2){let i,u,m,v,y,x,E,S,P;l(3),w(t.isEdit()?"Edit/View Test":"Create New Test"),l(5),c("formGroup",t.testForm),l(11),c("ngIf",(i=t.testForm.get("title"))==null?null:i.hasError("required")),l(11),c("min",t.getMinDateTime()),l(5),c("ngIf",(u=t.testForm.get("startTime"))==null?null:u.hasError("pastDate")),l(),c("ngIf",(m=t.testForm.get("startTime"))==null?null:m.hasError("required")),l(7),c("ngIf",(v=t.testForm.get("duration"))==null?null:v.hasError("required")),l(),c("ngIf",(y=t.testForm.get("duration"))==null?null:y.hasError("min")),l(8),c("ngIf",(x=t.testForm.get("marksPerQuestion"))==null?null:x.hasError("required")),l(),c("ngIf",(E=t.testForm.get("marksPerQuestion"))==null?null:E.hasError("min")),l(9),c("ngIf",(S=t.testForm.get("negativeMarks"))==null?null:S.hasError("min")),l(4),b("Select Questions (",t.selectedQuestions().length,")"),l(),c("ngIf",!t.questionsLoading()),l(),c("ngIf",t.showTagFilter()),l(),c("ngIf",t.showAddByUid()),l(5),c("ngIf",t.currentFilterTag()),l(2),c("ngForOf",t.filteredQuestions()),l(5),c("ngIf",(P=t.testForm.get("selectedQuestionUids"))==null?null:P.hasError("required")),l(),c("ngIf",t.questionsLoading()),l(),c("ngIf",t.selectedQuestions().length>0),l(),c("ngIf",t.selectedQuestions().length===0&&!t.questionsLoading()),l(2),c("disabled",!t.testForm.valid||t.selectedQuestions().length===0||t.loading()),l(),c("ngIf",t.loading()),l(),c("ngIf",!t.loading())}},dependencies:[ie,te,ne,qt,Ot,Tt,kt,se,Pt,Ft,Dt,St,It,ue,le,ae,Mt,wt,yt,Gt,$t,zt,Ht,jt,Yt,Xt,Wt,ce,de,Zt,Jt,Kt,mt,he,fe,_e,pe,me,an,on],styles:['.questions-select-section[_ngcontent-%COMP%]{margin-bottom:20px}.questions-loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:12px;padding:20px;color:#666}.question-option-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.question-text[_ngcontent-%COMP%]{font-weight:500;margin-bottom:4px;line-height:1.3}.question-meta[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:.8em;color:#666}.correct-answer[_ngcontent-%COMP%]{color:#4caf50;font-weight:500}.question-id[_ngcontent-%COMP%]{font-family:monospace}.question-preview-card[_ngcontent-%COMP%]{padding:16px;background:#fff;border:1px solid #e0e0e0;border-radius:8px;box-shadow:0 1px 3px #0000001a}.preview-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;padding-bottom:8px;border-bottom:1px solid #f0f0f0}.question-preview-number[_ngcontent-%COMP%]{margin:0;color:#3f51b5;font-weight:500}.correct-answer-badge[_ngcontent-%COMP%]{background:#4caf50;color:#fff;padding:4px 8px;border-radius:12px;font-size:.8em;font-weight:500}.preview-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.language-preview[_ngcontent-%COMP%]{padding:8px;background:#f8f9fa;border-radius:4px}.language-preview[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333;font-size:.9em}.question-text[_ngcontent-%COMP%]{margin:4px 0 0;color:#555;line-height:1.4}.description-preview[_ngcontent-%COMP%]{margin-top:8px;padding-top:8px;border-top:1px dashed #ddd}.description-preview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;color:#666;font-style:italic}.options-preview[_ngcontent-%COMP%]{margin-top:8px}.options-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-top:8px}.option-preview[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:8px;padding:8px;background:#fff;border:1px solid #e0e0e0;border-radius:4px}.option-letter[_ngcontent-%COMP%]{background:#3f51b5;color:#fff;width:20px;height:20px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.8em;font-weight:700;flex-shrink:0}.option-text[_ngcontent-%COMP%]{color:#333;font-size:.9em;line-height:1.3}.option-text-hindi[_ngcontent-%COMP%]{color:#666;font-size:.85em;line-height:1.3;margin-top:2px}.no-questions-selected[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;background:#fafafa;border:2px dashed #e0e0e0;border-radius:8px;color:#666}.no-questions-selected[_ngcontent-%COMP%]   .no-questions-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:#ccc;margin-bottom:16px}.no-questions-selected[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;color:#333}.total-questions[_ngcontent-%COMP%]{color:#666;font-size:.9em;padding:8px 12px;background:#f5f5f5;border-radius:4px}.questions-preview-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.questions-preview-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:3px}.questions-preview-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}.questions-preview-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}@media (max-width: 768px){.options-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.preview-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:8px}.question-meta[_ngcontent-%COMP%]{flex-direction:column;gap:4px}}.create-test-dialog[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;max-height:90vh}.dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 24px 0;border-bottom:1px solid #e0e0e0;background:#fff;position:sticky;top:0;z-index:10}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#3f51b5;font-weight:500}.close-button[_ngcontent-%COMP%]{margin-right:-8px}.dialog-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:0;margin:0}.test-form[_ngcontent-%COMP%]{padding:24px}.form-section[_ngcontent-%COMP%]{margin-bottom:32px;padding:24px;background:#fff;border-radius:12px;border:1px solid #e2e8f0;box-shadow:0 1px 3px #0000000d;transition:box-shadow .3s ease}.form-section[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #00000014}.section-title[_ngcontent-%COMP%]{margin:0 0 24px;color:#2d3748;font-size:1.3em;font-weight:600;display:flex;align-items:center;gap:12px;padding-bottom:12px;border-bottom:2px solid #e2e8f0}.section-title[_ngcontent-%COMP%]:before{content:"";width:4px;height:24px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:2px}.form-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.row[_ngcontent-%COMP%]{display:flex;gap:20px}.full-width[_ngcontent-%COMP%]{width:100%}.half-width[_ngcontent-%COMP%]{flex:1}.mat-mdc-form-field[_ngcontent-%COMP%]{width:100%}.mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{background:#f8fafc!important;border-radius:8px!important}.mat-mdc-form-field-focus-overlay[_ngcontent-%COMP%], .mat-mdc-form-field.mat-focused[_ngcontent-%COMP%]   .mat-mdc-form-field-focus-overlay[_ngcontent-%COMP%]{background:transparent!important}.marks-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-top:20px;padding-top:20px;border-top:1px solid #e2e8f0}.questions-section[_ngcontent-%COMP%]{margin-top:32px}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;flex-wrap:wrap;gap:16px}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap}.total-questions[_ngcontent-%COMP%]{color:#4a5568;font-size:.9em;padding:8px 16px;background:#edf2f7;border-radius:8px;font-weight:500;border:1px solid #e2e8f0}.questions-select-section[_ngcontent-%COMP%]{margin-bottom:24px}.questions-loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:16px;padding:40px 20px;background:#f8fafc;border-radius:12px;color:#4a5568}.questions-loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-weight:500}.question-option-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;padding:8px 0}.question-text[_ngcontent-%COMP%]{font-weight:500;margin-bottom:6px;line-height:1.4;color:#2d3748}.question-meta[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:.8em;color:#718096}.correct-answer[_ngcontent-%COMP%]{color:#38a169;font-weight:600;background:#f0fff4;padding:2px 8px;border-radius:12px;border:1px solid #c6f6d5}.question-id[_ngcontent-%COMP%]{font-family:Monaco,Consolas,monospace;background:#edf2f7;padding:2px 6px;border-radius:4px}.question-preview-card[_ngcontent-%COMP%]{padding:20px;background:#fff;border:1px solid #e2e8f0;border-radius:12px;box-shadow:0 2px 8px #0000000f;transition:all .3s ease;position:relative;overflow:hidden}.question-preview-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:4px;height:100%;background:linear-gradient(135deg,#667eea,#764ba2)}.question-preview-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #0000001a;transform:translateY(-2px)}.preview-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;padding-bottom:12px;border-bottom:1px solid #f1f5f9}.question-preview-number[_ngcontent-%COMP%]{margin:0;color:#2d3748;font-weight:600;font-size:1.1em}.correct-answer-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#48bb78,#38a169);color:#fff;padding:6px 12px;border-radius:20px;font-size:.8em;font-weight:600;box-shadow:0 2px 4px #48bb784d}.preview-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.language-preview[_ngcontent-%COMP%]{padding:16px;background:#f8fafc;border-radius:8px;border:1px solid #e2e8f0}.language-preview[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#2d3748;font-size:.95em;font-weight:600;display:block;margin-bottom:8px}.question-text[_ngcontent-%COMP%]{margin:8px 0 0;color:#4a5568;line-height:1.5;font-size:.95em}.description-preview[_ngcontent-%COMP%]{margin-top:12px;padding-top:12px;border-top:1px dashed #cbd5e0}.description-preview[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#4a5568;font-size:.9em}.description-preview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:6px 0 0;color:#718096;font-style:italic;line-height:1.4;font-size:.9em}.options-preview[_ngcontent-%COMP%]{margin-top:12px}.options-preview[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#2d3748;font-size:.95em;font-weight:600;display:block;margin-bottom:12px}.options-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:8px}.option-preview[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;padding:12px;background:#fff;border:1px solid #e2e8f0;border-radius:8px;transition:all .2s ease}.option-preview[_ngcontent-%COMP%]:hover{border-color:#667eea;background:#f7fafc}.option-letter[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.8em;font-weight:700;flex-shrink:0;box-shadow:0 2px 4px #667eea4d}.option-content[_ngcontent-%COMP%]{flex:1}.option-text[_ngcontent-%COMP%]{color:#2d3748;font-size:.9em;line-height:1.4;font-weight:500}.option-text-hindi[_ngcontent-%COMP%]{color:#718096;font-size:.85em;line-height:1.4;margin-top:4px}.no-questions-selected[_ngcontent-%COMP%]{text-align:center;padding:60px 40px;background:linear-gradient(135deg,#f8fafc,#edf2f7);border:2px dashed #cbd5e0;border-radius:16px;color:#718096}.no-questions-selected[_ngcontent-%COMP%]   .no-questions-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#a0aec0;margin-bottom:20px;opacity:.7}.no-questions-selected[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 12px;color:#4a5568;font-size:1.3em;font-weight:600}.no-questions-selected[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;max-width:400px;margin:0 auto;line-height:1.5}.dialog-actions[_ngcontent-%COMP%]{padding:20px 24px;border-top:1px solid #e2e8f0;background:#fff;position:sticky;bottom:0;gap:12px;box-shadow:0 -2px 8px #0000000d}.submit-btn[_ngcontent-%COMP%]{min-width:200px;height:48px;border-radius:8px;font-weight:600;font-size:1em;background:#add8e6;box-shadow:0 2px 8px #667eea4d;transition:all .3s ease}.submit-btn[_ngcontent-%COMP%]:hover:not([disabled]){transform:translateY(-1px);box-shadow:0 4px 12px #667eea66}.submit-btn[disabled][_ngcontent-%COMP%]{background:#cbd5e0;box-shadow:none;transform:none}.questions-preview-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.questions-preview-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:4px}.questions-preview-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e0;border-radius:4px}.questions-preview-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a0aec0}.mat-mdc-select-panel[_ngcontent-%COMP%]{border-radius:12px!important;box-shadow:0 4px 20px #00000026!important;border:1px solid #e2e8f0}.mat-mdc-option[_ngcontent-%COMP%]{border-bottom:1px solid #f1f5f9;transition:background-color .2s ease}.mat-mdc-option[_ngcontent-%COMP%]:hover:not(.mat-mdc-option-disabled){background:#f7fafc!important}.mat-mdc-option.mat-active[_ngcontent-%COMP%]{background:#edf2f7!important}@media (max-width: 768px){.create-test-dialog[_ngcontent-%COMP%]{max-height:95vh}.dialog-header[_ngcontent-%COMP%]{padding:16px 20px}.test-form[_ngcontent-%COMP%]{padding:16px}.form-section[_ngcontent-%COMP%]{padding:20px;margin-bottom:24px}.row[_ngcontent-%COMP%]{flex-direction:column;gap:16px}.section-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.action-buttons[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}.options-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:10px}.preview-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:10px}.question-meta[_ngcontent-%COMP%]{flex-direction:column;gap:6px}.marks-section[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}.dialog-actions[_ngcontent-%COMP%]{padding:16px 20px}.submit-btn[_ngcontent-%COMP%]{min-width:100%;height:44px}}@media (max-width: 480px){.questions-preview-list[_ngcontent-%COMP%]{max-height:400px}.question-preview-card[_ngcontent-%COMP%]{padding:16px}.no-questions-selected[_ngcontent-%COMP%]{padding:40px 20px}.no-questions-selected[_ngcontent-%COMP%]   .no-questions-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px}}.question-preview-card[_ngcontent-%COMP%], .option-preview[_ngcontent-%COMP%], .form-section[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.mat-mdc-form-field.mat-focused[_ngcontent-%COMP%]   .mat-mdc-form-field-focus-overlay[_ngcontent-%COMP%]{background:transparent}.mat-mdc-form-field[_ngcontent-%COMP%]   .mdc-text-field--focused[_ngcontent-%COMP%]{background:#f7fafc!important}.select-all-btn[_ngcontent-%COMP%]{border-radius:8px;font-weight:500}.select-all-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.clear-all-btn[_ngcontent-%COMP%]{border-radius:8px;font-weight:500}.clear-all-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.question-header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex-wrap:wrap}.delete-question-btn[_ngcontent-%COMP%]{background:#f443361a;transition:all .3s ease}.delete-question-btn[_ngcontent-%COMP%]:hover{background:#f4433633;transform:scale(1.1)}.preview-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:16px;padding-bottom:12px;border-bottom:1px solid #f1f5f9;gap:16px}@media (max-width: 768px){.preview-header-section[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.question-header-left[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:8px}.preview-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.action-buttons[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.select-all-btn[_ngcontent-%COMP%], .clear-all-btn[_ngcontent-%COMP%]{width:100%;margin-top:8px}}.selection-count[_ngcontent-%COMP%]{background:#667eea;color:#fff;padding:4px 8px;border-radius:12px;font-size:.8em;font-weight:500;margin-left:8px}.selected-questions-preview[_ngcontent-%COMP%]{margin-top:32px;min-height:400px;display:flex;flex-direction:column}.questions-preview-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;flex:1;overflow-y:auto;padding-right:12px}.preview-header-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;flex-wrap:wrap;gap:16px;flex-shrink:0}.add-by-uid-section[_ngcontent-%COMP%]{margin:24px 0;padding:24px;background:linear-gradient(135deg,#f8fafc,#edf2f7);border-radius:12px;border:2px solid #e2e8f0;box-shadow:0 2px 8px #0000000d}.uid-inputs-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;margin-bottom:20px}.uid-input-row[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.uid-input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;background:#fff;border:2px solid #cbd5e0;border-radius:8px;padding:8px 16px;transition:all .3s ease}.uid-input-wrapper[_ngcontent-%COMP%]:hover{border-color:#667eea;box-shadow:0 2px 8px #667eea1a}.uid-input-wrapper[_ngcontent-%COMP%]:focus-within{border-color:#667eea;box-shadow:0 2px 12px #667eea33}.uid-input-icon[_ngcontent-%COMP%]{color:#718096;margin-right:12px;font-size:20px;width:20px;height:20px}.uid-input[_ngcontent-%COMP%]{flex:1;border:none;outline:none;font-size:16px;padding:8px 0;background:transparent;color:#2d3748}.uid-input[_ngcontent-%COMP%]::placeholder{color:#a0aec0}.uid-actions[_ngcontent-%COMP%]{display:flex;gap:4px;margin-left:8px}.uid-action-btn[_ngcontent-%COMP%]{width:36px;height:36px;display:flex;align-items:center;justify-content:center}.uid-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:.9em;padding:4px 12px;border-radius:4px;margin-left:48px}.uid-status.loading[_ngcontent-%COMP%]{color:#ed8936;background:#fffaf0}.uid-status.success[_ngcontent-%COMP%]{color:#38a169;background:#f0fff4}.uid-status.error[_ngcontent-%COMP%]{color:#e53e3e;background:#fff5f5}.uid-status[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.uid-section-actions[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:flex-end;padding-top:16px;border-top:1px solid #e2e8f0}.uid-section-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.add-by-uid-btn[_ngcontent-%COMP%]{border-radius:8px;font-weight:500;background:#38a1691a;border-color:#38a169;color:#38a169}.add-by-uid-btn[_ngcontent-%COMP%]:hover{background:#38a16933}.add-by-uid-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.question-uid-badge[_ngcontent-%COMP%]{background:#edf2f7;color:#4a5568;padding:4px 8px;border-radius:12px;font-size:.8em;font-family:Monaco,Consolas,monospace;border:1px solid #cbd5e0}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.uid-input-row[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@media (max-width: 768px){.add-by-uid-section[_ngcontent-%COMP%]{padding:16px}.uid-input-wrapper[_ngcontent-%COMP%]{padding:8px 12px}.uid-input[_ngcontent-%COMP%]{font-size:14px}.uid-actions[_ngcontent-%COMP%]{flex-wrap:wrap}.uid-action-btn[_ngcontent-%COMP%]{width:32px;height:32px}.uid-section-actions[_ngcontent-%COMP%]{flex-direction:column}.uid-section-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;justify-content:center}}.filter-by-tag-section[_ngcontent-%COMP%]{margin:24px 0;padding:24px;background:linear-gradient(135deg,#f8fafc,#edf2f7);border-radius:12px;border:2px solid #e2e8f0;box-shadow:0 2px 8px #0000000d}.filter-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:16px;border-bottom:1px solid #e2e8f0}.filter-title[_ngcontent-%COMP%]{margin:0;color:#2d3748;font-size:1.2em;font-weight:600}.filter-actions[_ngcontent-%COMP%]{display:flex;gap:12px}.tags-container[_ngcontent-%COMP%]{min-height:100px}.tags-loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:16px;padding:40px;color:#718096}.tags-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:12px}.tag-button[_ngcontent-%COMP%]{display:flex!important;justify-content:space-between!important;align-items:center!important;padding:12px 16px!important;border-radius:8px!important;border:2px solid #e2e8f0!important;background:#fff!important;transition:all .3s ease!important;text-transform:none!important}.tag-button[_ngcontent-%COMP%]:hover{border-color:#667eea!important;box-shadow:0 2px 8px #667eea1a!important;transform:translateY(-2px)!important}.tag-button.active[_ngcontent-%COMP%]{border-color:#667eea!important;background:linear-gradient(135deg,#667eea,#764ba2)!important;color:#fff!important;box-shadow:0 2px 12px #667eea4d!important}.tag-button.active[_ngcontent-%COMP%]   .tag-count[_ngcontent-%COMP%]{background:#fff3!important}.tag-name[_ngcontent-%COMP%]{font-weight:500;font-size:.95em}.tag-count[_ngcontent-%COMP%]{background:#edf2f7;color:#4a5568;padding:4px 8px;border-radius:12px;font-size:.8em;font-weight:600;min-width:24px;text-align:center}.no-tags[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:12px;padding:40px 20px;color:#718096;text-align:center}.no-tags[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;opacity:.5}.filter-by-tag-btn[_ngcontent-%COMP%]{border-radius:8px;font-weight:500;background:#667eea1a;border-color:#667eea;color:#667eea}.filter-by-tag-btn[_ngcontent-%COMP%]:hover{background:#667eea33}.filter-by-tag-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.filter-indicator[_ngcontent-%COMP%]{color:#667eea;font-weight:500;font-size:.9em;margin-left:8px;background:#667eea1a;padding:2px 8px;border-radius:12px}.question-tags[_ngcontent-%COMP%]{color:#718096;font-size:.8em;background:#edf2f7;padding:2px 8px;border-radius:4px;margin-left:8px}.question-tags-badge[_ngcontent-%COMP%]{background:#edf2f7;color:#4a5568;padding:4px 8px;border-radius:12px;font-size:.8em;display:flex;align-items:center;gap:4px;border:1px solid #cbd5e0}.question-tags-badge[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}@media (max-width: 768px){.filter-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.filter-actions[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.tags-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:8px}.tag-button[_ngcontent-%COMP%]{padding:8px 12px!important;font-size:.9em}}.add-by-uid-section[_ngcontent-%COMP%], .filter-by-tag-section[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideDown .3s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap;align-items:center}.total-questions[_ngcontent-%COMP%]{order:3;margin-left:auto}.add-by-uid-btn[_ngcontent-%COMP%]{order:1}.filter-by-tag-btn[_ngcontent-%COMP%]{order:2}.select-all-btn[_ngcontent-%COMP%]{order:4}@media (max-width: 768px){.action-buttons[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.total-questions[_ngcontent-%COMP%]{order:0;margin-left:0;text-align:center;padding:12px;background:#f8fafc;border-radius:8px}.add-by-uid-btn[_ngcontent-%COMP%], .filter-by-tag-btn[_ngcontent-%COMP%], .select-all-btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}']})};function Ti(a,s){if(a&1){let e=C();o(0,"button",8),h("click",function(){_(e);let i=d();return f(i.openCreateTestDialog())}),o(1,"mat-icon"),r(2,"add"),n(),r(3," Create Test "),n()}}function Pi(a,s){a&1&&(o(0,"div",9),T(1,"mat-spinner"),o(2,"p"),r(3,"Loading tests..."),n()())}function Ei(a,s){if(a&1&&(o(0,"div"),r(1),n()),a&2){let e=d().$implicit,t=d(2);O("available",t.canStartTest(e))("ended",!t.canStartTest(e)),l(),b(" Status: ",t.canStartTest(e)?"Available":"Not Available"," ")}}function Oi(a,s){if(a&1){let e=C();o(0,"button",18),h("click",function(){_(e);let i=d().$implicit,u=d(2);return f(u.showTestRules(i))}),r(1),n()}if(a&2){let e=d().$implicit,t=d(2);c("disabled",e.submitted||!t.canStartTest(e)),l(),b(" ",e.submitted?"Test Submitted":"Start Test"," ")}}function ki(a,s){if(a&1){let e=C();o(0,"div",19)(1,"div",20)(2,"button",21)(3,"mat-icon"),r(4,"download"),n(),r(5," Question PDF "),n(),o(6,"mat-menu",22,0)(8,"button",23),h("click",function(){_(e);let i=d().$implicit,u=d(2);return f(u.downloadPdf(i._id,"en"))}),o(9,"mat-icon"),r(10,"language"),n(),r(11," English Version "),n(),o(12,"button",23),h("click",function(){_(e);let i=d().$implicit,u=d(2);return f(u.downloadPdf(i._id,"hi"))}),o(13,"mat-icon"),r(14,"translate"),n(),r(15," Hindi Version "),n()()(),o(16,"button",24),h("click",function(){_(e);let i=d().$implicit,u=d(2);return f(u.editTest(i))}),o(17,"mat-icon"),r(18,"edit"),n(),r(19," Edit/View "),n(),o(20,"button",25),h("click",function(){_(e);let i=d().$implicit,u=d(2);return f(u.deleteTest(i._id))}),o(21,"mat-icon"),r(22,"delete"),n(),r(23," Delete "),n()()}if(a&2){let e=We(7);l(2),c("matMenuTriggerFor",e)}}function Si(a,s){a&1&&(o(0,"div",26),T(1,"mat-spinner",27),o(2,"span"),r(3,"Generating PDF..."),n()())}function Ii(a,s){if(a&1&&(o(0,"mat-card",12)(1,"mat-card-header")(2,"mat-card-title"),r(3),n(),o(4,"mat-card-subtitle")(5,"div"),r(6),ye(7,"date"),n(),o(8,"div"),r(9),ye(10,"date"),n(),o(11,"div"),r(12),n(),p(13,Ei,2,5,"div",13),n()(),o(14,"mat-card-content")(15,"p")(16,"strong"),r(17,"Desc:"),n(),r(18),n(),o(19,"p")(20,"strong"),r(21,"Total Questions:"),n(),r(22),n(),o(23,"p")(24,"strong"),r(25,"Marks Per Question:"),n(),r(26),n(),o(27,"p")(28,"strong"),r(29,"Negative Marks:"),n(),r(30),n(),o(31,"p")(32,"strong"),r(33,"Max Marks:"),n(),r(34),n()(),o(35,"mat-card-actions",14),p(36,Oi,2,2,"button",15)(37,ki,24,1,"div",16),n(),p(38,Si,4,0,"div",17),n()),a&2){let e=s.$implicit,t=d(2);l(3),w(e.title),l(3),b("Starts: ",we(7,13,e.startTime,"medium"),""),l(3),b("Ends: ",we(10,16,e.endTime,"medium"),""),l(3),b("Duration: ",e.duration," minutes"),l(),c("ngIf",!t.isAdmin),l(5),b(" ",e.description,""),l(4),b(" ",(e.questionUids==null?null:e.questionUids.length)||e.totalQuestions,""),l(4),b(" ",e.marksPerQuestion,""),l(4),b(" ",e.negativeMarks,""),l(4),b(" ",e.marksPerQuestion*(e.questionUids==null?null:e.questionUids.length)||e.marksPerQuestion*e.totalQuestions,""),l(2),c("ngIf",!t.isAdmin),l(),c("ngIf",t.isAdmin),l(),c("ngIf",t.pdfDownloading()===e._id)}}function Di(a,s){if(a&1&&(o(0,"div",10),p(1,Ii,39,19,"mat-card",11),n()),a&2){let e=d();l(),c("ngForOf",e.tests())}}function Fi(a,s){if(a&1){let e=C();o(0,"button",24),h("click",function(){_(e);let i=d(2);return f(i.openCreateTestDialog())}),r(1," Create your first test "),n()}}function Ai(a,s){if(a&1&&(o(0,"div",28)(1,"mat-card")(2,"mat-card-content")(3,"p"),r(4,"No tests available at the moment."),n(),p(5,Fi,2,0,"button",29),n()()()),a&2){let e=d();l(5),c("ngIf",e.isAdmin)}}function qi(a,s){a&1&&(o(0,"h2"),r(1,"Important Test Rules"),n())}function Qi(a,s){a&1&&(o(0,"h2"),r(1,"\u092E\u0939\u0924\u094D\u0935\u092A\u0942\u0930\u094D\u0923 \u092A\u0930\u0940\u0915\u094D\u0937\u093E \u0928\u093F\u092F\u092E"),n())}function Ri(a,s){if(a&1){let e=C();o(0,"div"),p(1,qi,2,0,"h2",33)(2,Qi,2,0,"h2",33),o(3,"div",40)(4,"button",41),h("click",function(){_(e);let i=d(2);return f(i.rulesLanguage="english")}),r(5,"English"),n(),o(6,"button",41),h("click",function(){_(e);let i=d(2);return f(i.rulesLanguage="hindi")}),r(7,"\u0939\u093F\u0928\u094D\u0926\u0940"),n()()()}if(a&2){let e=d(2);l(),c("ngIf",e.rulesLanguage==="english"),l(),c("ngIf",e.rulesLanguage==="hindi"),l(2),O("active",e.rulesLanguage==="english"),l(2),O("active",e.rulesLanguage==="hindi")}}function Li(a,s){if(a&1&&(o(0,"div")(1,"h2"),r(2),n(),T(3,"div",42),n()),a&2){let e=d(2);l(2),w(e.selectedTest==null?null:e.selectedTest.title)}}function Vi(a,s){a&1&&(o(0,"div",43)(1,"div",44)(2,"mat-icon"),r(3,"error"),n(),o(4,"span")(5,"strong"),r(6,"Fullscreen Mode:"),n(),r(7," The test must be taken in fullscreen mode only. The system will automatically switch to fullscreen."),n()(),o(8,"div",44)(9,"mat-icon"),r(10,"error"),n(),o(11,"span")(12,"strong"),r(13,"No Tab Switching:"),n(),r(14," Switching browser tabs/windows is strictly prohibited."),n()(),o(15,"div",44)(16,"mat-icon"),r(17,"error"),n(),o(18,"span")(19,"strong"),r(20,"No Page Refresh:"),n(),r(21," Refreshing or reloading the page is not allowed."),n()(),o(22,"div",44)(23,"mat-icon"),r(24,"error"),n(),o(25,"span")(26,"strong"),r(27,"Violation Limit:"),n(),r(28," Maximum 3 violations allowed (tab switch/refresh). On 4th violation, test auto-submits."),n()(),o(29,"div",44)(30,"mat-icon"),r(31,"error"),n(),o(32,"span")(33,"strong"),r(34,"Timer Submission:"),n(),r(35," Test auto-submits when timer reaches zero. Submit manually before time ends."),n()(),o(36,"div",44)(37,"mat-icon"),r(38,"error"),n(),o(39,"span")(40,"strong"),r(41,"Navigation:"),n(),r(42," Use arrow keys (\u2190 \u2192) to navigate between questions."),n()(),o(43,"div",44)(44,"mat-icon"),r(45,"error"),n(),o(46,"span")(47,"strong"),r(48,"Review Questions:"),n(),r(49," Press Spacebar to mark questions for review."),n()(),o(50,"div",44)(51,"mat-icon"),r(52,"error"),n(),o(53,"span")(54,"strong"),r(55,"Auto-save:"),n(),r(56," Progress auto-saves every 30 seconds. Do not rely on browser back/close."),n()(),o(57,"div",44)(58,"mat-icon"),r(59,"error"),n(),o(60,"span")(61,"strong"),r(62,"Technical Issues:"),n(),r(63," No test restarts for technical issues caused by violations."),n()()())}function Bi(a,s){a&1&&(o(0,"div",43)(1,"div",44)(2,"mat-icon"),r(3,"error"),n(),o(4,"span")(5,"strong"),r(6,"\u092A\u0942\u0930\u094D\u0923 \u0938\u094D\u0915\u094D\u0930\u0940\u0928 \u092E\u094B\u0921:"),n(),r(7," \u092A\u0930\u0940\u0915\u094D\u0937\u093E \u0915\u0947\u0935\u0932 \u092A\u0942\u0930\u094D\u0923 \u0938\u094D\u0915\u094D\u0930\u0940\u0928 \u092E\u094B\u0921 \u092E\u0947\u0902 \u0926\u0940 \u091C\u093E\u0928\u0940 \u091A\u093E\u0939\u093F\u090F\u0964 \u0938\u093F\u0938\u094D\u091F\u092E \u0938\u094D\u0935\u091A\u093E\u0932\u093F\u0924 \u0930\u0942\u092A \u0938\u0947 \u092A\u0942\u0930\u094D\u0923 \u0938\u094D\u0915\u094D\u0930\u0940\u0928 \u092E\u0947\u0902 \u092C\u0926\u0932 \u091C\u093E\u090F\u0917\u093E\u0964"),n()(),o(8,"div",44)(9,"mat-icon"),r(10,"error"),n(),o(11,"span")(12,"strong"),r(13,"\u091F\u0948\u092C \u0938\u094D\u0935\u093F\u091A\u093F\u0902\u0917 \u0928\u093F\u0937\u0947\u0927:"),n(),r(14," \u092C\u094D\u0930\u093E\u0909\u091C\u093C\u0930 \u091F\u0948\u092C/\u0935\u093F\u0902\u0921\u094B \u0938\u094D\u0935\u093F\u091A \u0915\u0930\u0928\u093E \u0938\u0916\u094D\u0924 \u0935\u0930\u094D\u091C\u093F\u0924 \u0939\u0948\u0964"),n()(),o(15,"div",44)(16,"mat-icon"),r(17,"error"),n(),o(18,"span")(19,"strong"),r(20,"\u092A\u0947\u091C \u0930\u093F\u092B\u094D\u0930\u0947\u0936 \u0928\u093F\u0937\u0947\u0927:"),n(),r(21," \u092A\u0947\u091C \u0915\u094B \u0930\u093F\u092B\u094D\u0930\u0947\u0936 \u092F\u093E \u0930\u0940\u0932\u094B\u0921 \u0915\u0930\u0928\u0947 \u0915\u0940 \u0905\u0928\u0941\u092E\u0924\u093F \u0928\u0939\u0940\u0902 \u0939\u0948\u0964"),n()(),o(22,"div",44)(23,"mat-icon"),r(24,"error"),n(),o(25,"span")(26,"strong"),r(27,"\u0909\u0932\u094D\u0932\u0902\u0918\u0928 \u0938\u0940\u092E\u093E:"),n(),r(28," \u0905\u0927\u093F\u0915\u0924\u092E 3 \u0909\u0932\u094D\u0932\u0902\u0918\u0928 (\u091F\u0948\u092C \u0938\u094D\u0935\u093F\u091A/\u0930\u093F\u092B\u094D\u0930\u0947\u0936) \u0915\u0940 \u0905\u0928\u0941\u092E\u0924\u093F \u0939\u0948\u0964 4\u0935\u0947\u0902 \u0909\u0932\u094D\u0932\u0902\u0918\u0928 \u092A\u0930, \u092A\u0930\u0940\u0915\u094D\u0937\u093E \u0938\u094D\u0935\u091A\u093E\u0932\u093F\u0924 \u0930\u0942\u092A \u0938\u0947 \u0938\u092C\u092E\u093F\u091F \u0939\u094B \u091C\u093E\u090F\u0917\u0940\u0964"),n()(),o(29,"div",44)(30,"mat-icon"),r(31,"error"),n(),o(32,"span")(33,"strong"),r(34,"\u091F\u093E\u0907\u092E\u0930 \u0938\u092C\u092E\u093F\u0936\u0928:"),n(),r(35," \u091F\u093E\u0907\u092E\u0930 \u0936\u0942\u0928\u094D\u092F \u0939\u094B\u0928\u0947 \u092A\u0930 \u092A\u0930\u0940\u0915\u094D\u0937\u093E \u0938\u094D\u0935\u091A\u093E\u0932\u093F\u0924 \u0930\u0942\u092A \u0938\u0947 \u0938\u092C\u092E\u093F\u091F \u0939\u094B \u091C\u093E\u0924\u0940 \u0939\u0948\u0964 \u0938\u092E\u092F \u0938\u092E\u093E\u092A\u094D\u0924 \u0939\u094B\u0928\u0947 \u0938\u0947 \u092A\u0939\u0932\u0947 \u092E\u0948\u0928\u094D\u092F\u0941\u0905\u0932 \u0930\u0942\u092A \u0938\u0947 \u0938\u092C\u092E\u093F\u091F \u0915\u0930\u0947\u0902\u0964"),n()(),o(36,"div",44)(37,"mat-icon"),r(38,"error"),n(),o(39,"span")(40,"strong"),r(41,"\u0928\u0947\u0935\u093F\u0917\u0947\u0936\u0928:"),n(),r(42," \u092A\u094D\u0930\u0936\u094D\u0928\u094B\u0902 \u0915\u0947 \u092C\u0940\u091A \u0928\u0947\u0935\u093F\u0917\u0947\u091F \u0915\u0930\u0928\u0947 \u0915\u0947 \u0932\u093F\u090F \u090F\u0930\u094B \u0915\u0940\u091C\u093C (\u2190 \u2192) \u0915\u093E \u0909\u092A\u092F\u094B\u0917 \u0915\u0930\u0947\u0902\u0964"),n()(),o(43,"div",44)(44,"mat-icon"),r(45,"error"),n(),o(46,"span")(47,"strong"),r(48,"\u0938\u092E\u0940\u0915\u094D\u0937\u093E \u092A\u094D\u0930\u0936\u094D\u0928:"),n(),r(49," \u0938\u092E\u0940\u0915\u094D\u0937\u093E \u0915\u0947 \u0932\u093F\u090F \u092A\u094D\u0930\u0936\u094D\u0928\u094B\u0902 \u0915\u094B \u091A\u093F\u0939\u094D\u0928\u093F\u0924 \u0915\u0930\u0928\u0947 \u0915\u0947 \u0932\u093F\u090F \u0938\u094D\u092A\u0947\u0938\u092C\u093E\u0930 \u0926\u092C\u093E\u090F\u0902\u0964"),n()(),o(50,"div",44)(51,"mat-icon"),r(52,"error"),n(),o(53,"span")(54,"strong"),r(55,"\u0911\u091F\u094B-\u0938\u0947\u0935:"),n(),r(56," \u092A\u094D\u0930\u0917\u0924\u093F \u0939\u0930 30 \u0938\u0947\u0915\u0902\u0921 \u092E\u0947\u0902 \u0938\u094D\u0935\u091A\u093E\u0932\u093F\u0924 \u0930\u0942\u092A \u0938\u0947 \u0938\u0947\u0935 \u0939\u094B\u0924\u0940 \u0939\u0948\u0964 \u092C\u094D\u0930\u093E\u0909\u091C\u093C\u0930 \u092C\u0948\u0915/\u0915\u094D\u0932\u094B\u091C \u092A\u0930 \u092D\u0930\u094B\u0938\u093E \u0928 \u0915\u0930\u0947\u0902\u0964"),n()(),o(57,"div",44)(58,"mat-icon"),r(59,"error"),n(),o(60,"span")(61,"strong"),r(62,"\u0924\u0915\u0928\u0940\u0915\u0940 \u0938\u092E\u0938\u094D\u092F\u093E\u090F\u0902:"),n(),r(63," \u0909\u0932\u094D\u0932\u0902\u0918\u0928\u094B\u0902 \u0915\u0947 \u0915\u093E\u0930\u0923 \u0939\u094B\u0928\u0947 \u0935\u093E\u0932\u0940 \u0924\u0915\u0928\u0940\u0915\u0940 \u0938\u092E\u0938\u094D\u092F\u093E\u0913\u0902 \u0915\u0947 \u0932\u093F\u090F \u092A\u0930\u0940\u0915\u094D\u0937\u093E \u092A\u0941\u0928\u0903 \u0906\u0930\u0902\u092D \u0928\u0939\u0940\u0902 \u0915\u0940 \u091C\u093E\u090F\u0917\u0940\u0964"),n()()())}function Ui(a,s){if(a&1&&(o(0,"div",43),p(1,Vi,64,0,"div",35)(2,Bi,64,0,"div",35),n()),a&2){let e=d(2);l(),c("ngIf",e.rulesLanguage==="english"),l(),c("ngIf",e.rulesLanguage==="hindi")}}function Ni(a,s){if(a&1&&(o(0,"div",45),T(1,"div",46),n()),a&2){let e=d(2);l(),c("innerHTML",(e.selectedTest==null?null:e.selectedTest.introPage)||"No instructions available.",Ue)}}function zi(a,s){a&1&&(o(0,"span"),r(1,"I have read and agree to all the test rules and instructions"),n())}function ji(a,s){a&1&&(o(0,"span"),r(1,"\u092E\u0948\u0902\u0928\u0947 \u0938\u092D\u0940 \u092A\u0930\u0940\u0915\u094D\u0937\u093E \u0928\u093F\u092F\u092E\u094B\u0902 \u0914\u0930 \u0928\u093F\u0930\u094D\u0926\u0947\u0936\u094B\u0902 \u0915\u094B \u092A\u0922\u093C \u0932\u093F\u092F\u093E \u0939\u0948 \u0914\u0930 \u0909\u0928\u0938\u0947 \u0938\u0939\u092E\u0924 \u0939\u0942\u0902"),n())}function Hi(a,s){if(a&1){let e=C();o(0,"div",47)(1,"div",48)(2,"mat-checkbox",49),U("ngModelChange",function(i){_(e);let u=d(2);return B(u.agreeToRules,i)||(u.agreeToRules=i),f(i)}),p(3,zi,2,0,"span",33)(4,ji,2,0,"span",33),n()(),o(5,"div",50)(6,"button",41),h("click",function(){_(e);let i=d(2);return f(i.cancelStartTest())}),r(7),n(),o(8,"button",18),h("click",function(){_(e);let i=d(2);return f(i.proceedToIntroPage())}),r(9),n()()()}if(a&2){let e=d(2);l(2),V("ngModel",e.agreeToRules),l(),c("ngIf",e.rulesLanguage==="english"),l(),c("ngIf",e.rulesLanguage==="hindi"),l(3),b(" ",e.rulesLanguage==="english"?"Cancel":"\u0930\u0926\u094D\u0926 \u0915\u0930\u0947\u0902"," "),l(),c("disabled",!e.agreeToRules),l(),b(" ",e.rulesLanguage==="english"?"Next":"\u0905\u0917\u0932\u093E"," ")}}function Yi(a,s){if(a&1){let e=C();o(0,"div",51)(1,"div",48)(2,"mat-checkbox",49),U("ngModelChange",function(i){_(e);let u=d(2);return B(u.agreeToIntro,i)||(u.agreeToIntro=i),f(i)}),o(3,"span"),r(4,"I have read and understood all the instructions"),n()()(),o(5,"div",50)(6,"button",41),h("click",function(){_(e);let i=d(2);return f(i.backToRules())}),r(7," Back "),n(),o(8,"button",18),h("click",function(){_(e);let i=d(2);return f(i.proceedToTest())}),r(9," Start Test "),n()()()}if(a&2){let e=d(2);l(2),V("ngModel",e.agreeToIntro),l(6),c("disabled",!e.agreeToIntro)}}function $i(a,s){if(a&1&&(o(0,"div",30)(1,"div",31)(2,"div",32),p(3,Ri,8,6,"div",33)(4,Li,4,1,"div",33),n(),o(5,"div",34),p(6,Ui,3,2,"div",35)(7,Ni,2,1,"div",36),n(),o(8,"div",37),p(9,Hi,10,6,"div",38)(10,Yi,10,2,"div",39),n()()()),a&2){let e=d();l(),O("intro-mode",e.showIntroPage),l(2),c("ngIf",!e.showIntroPage),l(),c("ngIf",e.showIntroPage),l(2),c("ngIf",!e.showIntroPage),l(),c("ngIf",e.showIntroPage),l(2),c("ngIf",!e.showIntroPage),l(),c("ngIf",e.showIntroPage)}}var gn=class a{authService=g(gt);testService=g(re);dialog=g(Ct);snackBar=g(ge);router=g(tt);tests=M([]);loading=M(!1);pdfDownloading=M(null);isAdmin=this.authService.currentUser()?.role==="admin";showRulesModal=!1;showIntroPage=!1;rulesLanguage="english";agreeToRules=!1;agreeToIntro=!1;selectedTest=null;ngOnInit(){this.loadTests()}loadTests(){this.loading.set(!0),this.isAdmin?this.testService.getAllTests().subscribe({next:s=>{this.tests.set(s),this.loading.set(!1)},error:s=>{this.snackBar.open("Error loading tests","Close",{duration:3e3}),this.loading.set(!1)}}):this.testService.getUpcomingTests().subscribe({next:s=>{this.tests.set(s),this.loading.set(!1)},error:s=>{this.snackBar.open("Error loading tests","Close",{duration:3e3}),this.loading.set(!1)}})}openCreateTestDialog(s){this.dialog.open(be,{width:"90vw",maxWidth:"1200px",height:"90vh",maxHeight:"800px",panelClass:"create-test-dialog-panel",autoFocus:!1,data:{test:s||null}}).afterClosed().subscribe(t=>{t&&this.loadTests()})}editTest(s){this.openCreateTestDialog(s)}deleteTest(s){confirm("Are you sure you want to delete this test? This will also delete all associated results.")&&this.testService.deleteTest(s).subscribe({next:()=>{this.snackBar.open("Test deleted successfully","Close",{duration:3e3}),this.loadTests()},error:e=>{this.snackBar.open("Error deleting test: "+e.error?.message,"Close",{duration:3e3})}})}canStartTest(s){if(!s.startTime||!s.endTime)return!1;let e=new Date,t=new Date(s.startTime);return new Date(s.endTime)>e}showTestRules(s){if(this.canStartTest(s))this.selectedTest=s,this.showRulesModal=!0,this.showIntroPage=!1,this.agreeToRules=!1,this.agreeToIntro=!1,this.rulesLanguage="english";else{let e=new Date,t=new Date(s.startTime);e<t?this.snackBar.open("Test has not started yet","Close",{duration:3e3}):this.snackBar.open("Test has already ended","Close",{duration:3e3})}}cancelStartTest(){this.showRulesModal=!1,this.showIntroPage=!1,this.selectedTest=null,this.agreeToRules=!1,this.agreeToIntro=!1}proceedToIntroPage(){this.agreeToRules&&this.selectedTest&&(this.showIntroPage=!0)}backToRules(){this.showIntroPage=!1}proceedToTest(){this.agreeToIntro&&this.selectedTest&&(this.showRulesModal=!1,this.showIntroPage=!1,this.startTest(this.selectedTest),this.selectedTest=null,this.agreeToRules=!1,this.agreeToIntro=!1)}startTest(s){this.canStartTest(s)&&this.router.navigate(["/take-test",s._id])}viewResults(s){this.router.navigate(["/results"],{queryParams:{testId:s}})}downloadPdf(s,e){this.pdfDownloading.set(s);let t=e==="en"?"English":"Hindi",u=this.tests().find(m=>m._id===s)?.title||"test";this.testService.downloadQuestionPaperPdf(s,e).subscribe({next:m=>{m.success&&m.base64?(this.downloadBase64Pdf(m.base64,m.fileName||`question-paper-${s}-${e}.pdf`,u),this.snackBar.open(`${t} PDF downloaded successfully!`,"Close",{duration:3e3})):this.snackBar.open("Failed to generate PDF","Close",{duration:3e3}),this.pdfDownloading.set(null)},error:m=>{console.error("Error downloading PDF:",m),this.snackBar.open(`Error downloading ${t} PDF: ${m.error?.message||"Unknown error"}`,"Close",{duration:3e3}),this.pdfDownloading.set(null)}})}downloadBase64Pdf(s,e,t){try{let i=atob(s),u=new Array(i.length);for(let E=0;E<i.length;E++)u[E]=i.charCodeAt(E);let m=new Uint8Array(u),v=new Blob([m],{type:"application/pdf"}),y=window.URL.createObjectURL(v),x=document.createElement("a");x.href=y,x.download=e,x.setAttribute("data-test-title",t),document.body.appendChild(x),x.click(),setTimeout(()=>{document.body.removeChild(x),window.URL.revokeObjectURL(y)},100)}catch(i){console.error("Error processing PDF data:",i),this.snackBar.open("Error processing PDF file","Close",{duration:3e3})}}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=F({type:a,selectors:[["app-live-tests"]],decls:9,vars:6,consts:[["downloadMenu","matMenu"],[1,"live-tests-container"],[1,"header"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["class","loading",4,"ngIf"],["class","tests-grid",4,"ngIf"],["class","no-tests",4,"ngIf"],["class","rules-modal-overlay",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],[1,"loading"],[1,"tests-grid"],["class","test-card",4,"ngFor","ngForOf"],[1,"test-card"],[3,"available","ended",4,"ngIf"],["align","end"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["class","admin-actions",4,"ngIf"],["class","pdf-loading-overlay",4,"ngIf"],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"admin-actions"],[1,"download-pdf-container"],["mat-button","","color","accent",3,"matMenuTriggerFor"],["xPosition","before"],["mat-menu-item","",3,"click"],["mat-button","","color","primary",3,"click"],["mat-button","","color","warn",3,"click"],[1,"pdf-loading-overlay"],["diameter","30"],[1,"no-tests"],["mat-button","","color","primary",3,"click",4,"ngIf"],[1,"rules-modal-overlay"],[1,"rules-modal"],[1,"rules-modal-header"],[4,"ngIf"],[1,"rules-modal-content"],["class","rules-list",4,"ngIf"],["class","intro-page-content",4,"ngIf"],[1,"rules-modal-footer"],["class","rules-mode-footer",4,"ngIf"],["class","intro-mode-footer",4,"ngIf"],[1,"language-toggle"],["mat-button","",3,"click"],[1,"test-info"],[1,"rules-list"],[1,"rule-item"],[1,"intro-page-content"],[1,"intro-page-scrollable",3,"innerHTML"],[1,"rules-mode-footer"],[1,"agree-checkbox"],["color","primary",3,"ngModelChange","ngModel"],[1,"rules-modal-actions"],[1,"intro-mode-footer"]],template:function(e,t){e&1&&(o(0,"div",1)(1,"div",2)(2,"h1"),r(3),n(),p(4,Ti,4,0,"button",3),n(),p(5,Pi,4,0,"div",4)(6,Di,2,1,"div",5)(7,Ai,6,1,"div",6),n(),p(8,$i,11,8,"div",7)),e&2&&(l(3),w(t.isAdmin?"Manage Tests":"Upcoming Tests"),l(),c("ngIf",t.isAdmin),l(),c("ngIf",t.loading()),l(),c("ngIf",!t.loading()&&t.tests().length>0),l(),c("ngIf",!t.loading()&&t.tests().length===0),l(),c("ngIf",t.showRulesModal))},dependencies:[ie,te,ne,et,ue,se,le,Nt,Qt,Bt,Lt,Ut,Vt,Rt,ce,de,nn,he,fe,ae,_e,pe,me,mn,A,j,cn,tn,en],styles:[".live-tests-container[_ngcontent-%COMP%]{padding:20px}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px}.tests-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px}.test-card[_ngcontent-%COMP%]{transition:transform .2s}.test-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;gap:20px}.no-tests[_ngcontent-%COMP%]{text-align:center;padding:40px}.admin-actions[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.available[_ngcontent-%COMP%]{color:#4caf50;font-weight:700}.ended[_ngcontent-%COMP%]{color:#f44336;font-weight:700}@media (max-width: 768px){.header[_ngcontent-%COMP%]{flex-direction:column;gap:15px;align-items:flex-start}.tests-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.admin-actions[_ngcontent-%COMP%]{flex-direction:column}}.download-pdf-container[_ngcontent-%COMP%]{position:relative}.pdf-loading-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#ffffffe6;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:12px;z-index:10;border-radius:4px}.pdf-loading-overlay[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#3f51b5;font-weight:500;font-size:.9em}.test-card[_ngcontent-%COMP%]{position:relative}.download-pdf-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.download-pdf-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:4px}.mat-menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.mat-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px;font-size:20px;width:20px;height:20px}.admin-actions[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap;align-items:center}@media (max-width: 768px){.admin-actions[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.admin-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;justify-content:center}.download-pdf-container[_ngcontent-%COMP%], .download-pdf-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}.download-pdf-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#ffc1071a}.mat-menu-item[data-language=en][_ngcontent-%COMP%]{color:#1976d2}.mat-menu-item[data-language=hi][_ngcontent-%COMP%]{color:#d32f2f}.rules-modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000;padding:20px}.rules-modal[_ngcontent-%COMP%]{background:#fff;border-radius:4px;width:90%;max-width:900px;max-height:80vh;display:flex;flex-direction:column}.rules-modal-header[_ngcontent-%COMP%]{padding:15px;background:#1976d2;color:#fff;display:flex;justify-content:space-between;align-items:center}.rules-modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.2rem}.language-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:1px solid white;color:#fff;padding:2px 8px;margin-left:5px;border-radius:3px}.language-toggle[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#fff;color:#1976d2}.rules-modal-content[_ngcontent-%COMP%]{padding:15px;overflow-y:auto}.rules-list[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;color:#333}.rule-item[_ngcontent-%COMP%]{margin-bottom:10px;display:flex}.rule-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:red;margin-right:8px;margin-top:2px}.rule-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#555;font-size:.9rem}.rules-modal-footer[_ngcontent-%COMP%]{padding:15px;border-top:1px solid #eee}.agree-checkbox[_ngcontent-%COMP%]{margin-bottom:15px}.rules-modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px}"]})};export{gn as LiveTestsComponent};
